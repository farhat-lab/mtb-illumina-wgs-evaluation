this.webpackChunk([31,45],{1883:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(0),o=a.n(r),c=a(18),i=a(4),l=a(108),s=a(1),m=a(486),d=a.n(m),u=a(487),p=a.n(u),g=a(484),b=a.n(g),f=a(485),v=a.n(f),y=a(482),E=a.n(y),h=a(483),j=a.n(h),k=a(169),O=a(481),w=Object(l.a)((function(e){return{headerBar:{gridArea:"1/1/auto/span 2",display:"flex"},spacer:{flexGrow:1},emphasis:{background:e.palette.secondary.main,padding:e.spacing(1)},hovered:{background:e.palette.secondary.light},displayName:{background:e.palette.secondary.main,paddingTop:3,paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},inputBase:{color:e.palette.secondary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.secondary.light}},inputFocused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.secondary.light}}})),C=Object(c.observer)((function(e){var t=e.model;return o.a.createElement(k.a,{onClick:t.toggleInteract,title:"Toggle interacting with the overlay"},t.interactToggled?o.a.createElement(E.a,null):o.a.createElement(j.a,null))})),N=Object(c.observer)((function(e){var t=e.model;return o.a.createElement(k.a,{onClick:t.toggleLinkViews,title:"Toggle linked scrolls and behavior across views"},t.linkViews?o.a.createElement(b.a,{color:"secondary"}):o.a.createElement(v.a,{color:"secondary"}))})),x=Object(c.observer)((function(e){var t=e.model;return o.a.createElement(k.a,{onClick:t.toggleIntraviewLinks,title:"Toggle rendering intraview links"},t.showIntraviewLinks?o.a.createElement(d.a,{color:"secondary"}):o.a.createElement(p.a,{color:"secondary"}))})),A=Object(c.observer)((function(e){var t=e.model,a=e.size,n=w();return t.setHeaderHeight(a.height),o.a.createElement("div",{className:n.headerBar},o.a.createElement(N,{model:t}),o.a.createElement(C,{model:t}),o.a.createElement(x,{model:t}),o.a.createElement("div",{className:n.spacer}))})),F=Object(O.withSize)({monitorHeight:!0})(A),T=Object(l.a)((function(e){return{root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden"},breakpointMarker:{position:"absolute",top:0,height:"100%",width:"3px",background:"magenta"},viewContainer:{marginTop:"3px"},container:{display:"grid"},overlay:{zIndex:100,gridArea:"1/1"},content:{gridArea:"1/1"}}})),P=Object(c.observer)((function(e){var t=e.model,a=T();return o.a.createElement(o.a.Fragment,null,t.tracks.map((function(e){var t=Object(n.a)(e.displays,1)[0],r=t.RenderingComponent;return r?o.a.createElement("div",{className:a.overlay,key:Object(i.getConf)(e,"trackId"),style:{height:t.height}},o.a.createElement(r,{model:t})):null})))})),I=Object(c.observer)((function(e){var t=e.model,a=T(),n=t.views,r=Object(s.getEnv)(t).pluginManager.getViewType(n[0].type).ReactComponent;return o.a.createElement("div",null,o.a.createElement(F,{model:t}),o.a.createElement("div",{className:a.container},o.a.createElement(r,{model:n[0]}),o.a.createElement("div",{style:{display:"grid"}},o.a.createElement(P,{model:t})),o.a.createElement(r,{model:n[1]})))})),S=Object(c.observer)((function(e){var t=e.model,a=T(),n=t.views,r=Object(s.getEnv)(t).pluginManager;return o.a.createElement("div",null,o.a.createElement(F,{model:t}),o.a.createElement("div",{className:a.container},o.a.createElement("div",{className:a.content},o.a.createElement("div",{style:{position:"relative"}},n.map((function(e){var t=r.getViewType(e.type).ReactComponent;return o.a.createElement(t,{key:e.id,model:e})}))),o.a.createElement(P,{model:t}))))})),B=Object(c.observer)((function(e){var t=e.model;return t.tracks.some((function(e){return e.displays.some((function(e){return Object(i.getConf)(e,"middle")}))}))?o.a.createElement(I,{model:t}):o.a.createElement(S,{model:t})}));t.default=B},2152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a(1883),i=a(5),l=a.n(i),s=a(19),m=a(12),d=a(9),u=a(1),p=a(7),g=a(171),b=a(947),f=a(458),v=a(170),y=a(453),E=a(108),h=a(50),j=a(95),k=a(149),O=Object(E.a)((function(e){return{importFormContainer:{padding:e.spacing(4)},importFormEntry:{minWidth:180},errorMessage:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},formPaper:{maxWidth:600,margin:"0 auto",padding:12,marginBottom:10}}})),w=Object(o.observer)((function(e){var t=e.model,a=e.selected,n=e.onChange,o=e.error,c=O(),i=Object(p.getSession)(t).assemblyNames;return r.a.createElement(f.a,{container:!0,item:!0,justify:"center",spacing:2,alignItems:"center"},r.a.createElement(y.a,{select:!0,variant:"outlined",value:i[a]?a:"",onChange:function(e){n(Number(e.target.value))},error:Boolean(o),disabled:Boolean(o),className:c.importFormEntry},i.map((function(e,t){return r.a.createElement(v.a,{key:e,value:t},e)}))))})),C=Object(o.observer)((function(e){var t=e.model,a=O(),o=Object(n.useState)([0,0]),c=Object(d.a)(o,2),i=c[0],v=c[1],y=Object(n.useState)(2),E=Object(d.a)(y,1)[0],C=Object(n.useState)({uri:""}),N=Object(d.a)(C,2),x=N[0],A=N[1],F=Object(p.getSession)(t),T=F.assemblyNames,P=T.length?"":"No configured assemblies";function I(){return(I=Object(m.a)(l.a.mark((function e(){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=F.assemblyManager,e.t0=t,e.next=4,Promise.all(i.map(function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.waitForAssembly(T[t]);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",{type:"LinearGenomeView",bpPerPx:1,offsetPx:0,hideHeader:!0,displayedRegions:Object(u.getSnapshot)(n.regions)});case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return!!e})));case 4:e.t1=e.sent,e.t0.setViews.call(e.t0,e.t1),t.views.forEach((function(e){return e.setWidth(t.width)})),"uri"in x&&x.uri&&(n=x.uri?x.uri.slice(x.uri.lastIndexOf("/")+1):null,r=F.addTrackConf({trackId:"fileName-".concat(Date.now()),name:n,assemblyNames:i.map((function(e){return T[e]})),type:"SyntenyTrack",adapter:{type:"PAFAdapter",pafLocation:x,assemblyNames:i.map((function(e){return T[e]}))}}),t.toggleTrack(r.trackId));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(b.a,{className:a.importFormContainer},P?r.a.createElement(j.a,{color:"error"},P):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:a.formPaper},r.a.createElement(f.a,{container:!0,item:!0,justify:"center",spacing:4,alignItems:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement("p",{style:{textAlign:"center"}},"Select assemblies for synteny view"),Object(s.a)(new Array(E)).map((function(e,a){return r.a.createElement(w,{key:"row_".concat(a,"_").concat(i[a]),error:P,selected:i[a],onChange:function(e){var t=i.slice(0);t[a]=e,v(t)},model:t})}))))),r.a.createElement(k.a,{className:a.formPaper},r.a.createElement(f.a,{container:!0,justify:"center"},r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"Optional"),": Add a PAF"," ",r.a.createElement("a",{href:"https://github.com/lh3/miniasm/blob/master/PAF.md"},"(pairwise mapping format)")," ","file for the linear synteny view. Note that the first assembly should be the left column of the PAF and the second assembly should be the right column"),r.a.createElement(f.a,{item:!0},r.a.createElement(h.FileSelector,{name:"URL",description:"",location:x,setLocation:function(e){return A(e)}})))),r.a.createElement(f.a,{container:!0,justify:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement(g.a,{onClick:function(){return I.apply(this,arguments)},variant:"contained",color:"primary"},"Open")))))})),N=Object(o.observer)((function(e){var t=e.model;return t.initialized?r.a.createElement(c.default,{model:t}):r.a.createElement(C,{model:t})}));t.default=N}});
//# sourceMappingURL=31.3481a912c94ef75a9f78.worker.js.map