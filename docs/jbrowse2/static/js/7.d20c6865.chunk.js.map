{"version":3,"sources":["../../../node_modules/@gmod/indexedfasta/dist/localFile.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/@gmod/indexedfasta/dist/indexedFasta.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/toArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/iterableToArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../node_modules/browser-or-node/lib/index.js","../../../node_modules/@gmod/indexedfasta/dist/bgzipIndexedFasta.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/inherits.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/classCallCheck.js","../../../node_modules/@gmod/indexedfasta/dist/index.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/regenerator/index.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/createClass.js"],"names":["fsOpen","fsRead","fsFStat","fsReadFile","_interopRequireDefault","require","_regenerator","_typeof2","_asyncToGenerator2","_classCallCheck2","_createClass2","promisify","isNode","fs","open","read","fstat","readFile","LocalFile","source","default","this","position","filename","fd","key","value","_read","mark","_callee","buffer","offset","length","ret","_args","arguments","wrap","_context","prev","next","undefined","t0","t1","sent","t2","t3","t4","t5","abrupt","bytesRead","stop","_x","apply","_readFile","_callee2","_context2","_stat","_callee3","_context3","module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_localFile","_faiOffset","idx","pos","lineBytes","Math","floor","lineLength","IndexedFasta","_ref","fasta","fai","path","faiPath","_ref$chunkSizeLimit","chunkSizeLimit","concat","_getIndexes2","indexes","_readFAI","_readFAI2","indexByName","indexById","text","idCounter","currSeq","Error","toString","split","filter","line","test","forEach","row","name","id","entry","start","end","_getSequenceNames","Object","_getIndexes","keys","call","_getSequenceSizes","_callee4","returnObject","vals","i","_context4","values","_getSequenceSize","_callee5","seqName","_context5","_hasReferenceSequence","_callee6","_context6","_x2","_getResiduesById","_callee7","seqId","min","max","indexEntry","_context7","_fetchFromIndexEntry","_x3","_x4","_x5","_getResiduesByName","_callee8","_context8","_x6","_x7","_x8","_getSequence","_callee9","_args9","_context9","getResiduesByName","_fetchFromIndexEntry2","_callee10","readlen","residues","_args10","_context10","TypeError","toLocaleString","Buffer","allocUnsafe","replace","_x9","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","arr","Array","isArray","iter","from","arrayLikeToArray","o","minLen","n","slice","len","arr2","defineProperty","isBrowser","window","document","isWebWorker","self","process","versions","node","isJsDom","navigator","userAgent","includes","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_bgzfFilehandle","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_isNativeReflectConstruct","result","Super","NewTarget","BgzipIndexedFasta","_IndexedFasta","_super","_this","gzi","gziPath","BgzfFilehandle","filehandle","gziFilehandle","setPrototypeOf","subClass","superClass","create","writable","configurable","_setPrototypeOf","p","__proto__","assertThisInitialized","ReferenceError","_getPrototypeOf","getPrototypeOf","__esModule","instance","Constructor","parseSmallFasta","enumerable","get","_bgzipIndexedFasta","_indexedFasta","FetchableSmallFasta","_toArray2","t","map","entryText","_entryText$split","_entryText$split2","defLine","seqLines","_defLine$split","_defLine$split2","description","sequence","join","data","then","_fetch","find","substr","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","fn","args","err","_defineProperties","target","props","descriptor","protoProps","staticProps"],"mappings":"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","file":"static/js/7.d20c6865.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _require = require('es6-promisify'),\n    promisify = _require.promisify;\n\nvar _require2 = require('browser-or-node'),\n    isNode = _require2.isNode; // don't load fs native module if running in the browser\n\n\nvar fsOpen;\nvar fsRead;\nvar fsFStat;\nvar fsReadFile;\n\nif (isNode) {\n  // eslint-disable-next-line global-require\n  var fs = require('fs');\n\n  fsOpen = fs && promisify(fs.open);\n  fsRead = fs && promisify(fs.read);\n  fsFStat = fs && promisify(fs.fstat);\n  fsReadFile = fs && promisify(fs.readFile);\n}\n\nvar LocalFile = /*#__PURE__*/function () {\n  function LocalFile(source) {\n    (0, _classCallCheck2.default)(this, LocalFile);\n    this.position = 0;\n    this.filename = source;\n    this.fd = fsOpen(this.filename, 'r');\n  }\n\n  (0, _createClass2.default)(LocalFile, [{\n    key: \"read\",\n    value: function () {\n      var _read = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(buffer) {\n        var offset,\n            length,\n            position,\n            readPosition,\n            ret,\n            _args = arguments;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                offset = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;\n                length = _args.length > 2 ? _args[2] : undefined;\n                position = _args.length > 3 ? _args[3] : undefined;\n                readPosition = position;\n\n                if (readPosition === null) {\n                  readPosition = this.position;\n                  this.position += length;\n                }\n\n                _context.t0 = fsRead;\n                _context.next = 8;\n                return this.fd;\n\n              case 8:\n                _context.t1 = _context.sent;\n                _context.t2 = buffer;\n                _context.t3 = offset;\n                _context.t4 = length;\n                _context.t5 = position;\n                _context.next = 15;\n                return (0, _context.t0)(_context.t1, _context.t2, _context.t3, _context.t4, _context.t5);\n\n              case 15:\n                ret = _context.sent;\n\n                if (!((0, _typeof2.default)(ret) === 'object')) {\n                  _context.next = 18;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", ret.bytesRead);\n\n              case 18:\n                return _context.abrupt(\"return\", ret);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function read(_x) {\n        return _read.apply(this, arguments);\n      }\n\n      return read;\n    }()\n  }, {\n    key: \"readFile\",\n    value: function () {\n      var _readFile = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", fsReadFile(this.filename));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function readFile() {\n        return _readFile.apply(this, arguments);\n      }\n\n      return readFile;\n    }()\n  }, {\n    key: \"stat\",\n    value: function () {\n      var _stat = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this._stat) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _context3.t0 = fsFStat;\n                _context3.next = 4;\n                return this.fd;\n\n              case 4:\n                _context3.t1 = _context3.sent;\n                _context3.next = 7;\n                return (0, _context3.t0)(_context3.t1);\n\n              case 7:\n                this._stat = _context3.sent;\n\n              case 8:\n                return _context3.abrupt(\"return\", this._stat);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stat() {\n        return _stat.apply(this, arguments);\n      }\n\n      return stat;\n    }()\n  }]);\n  return LocalFile;\n}();\n\nmodule.exports = LocalFile;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _localFile = _interopRequireDefault(require(\"./localFile\"));\n\nfunction _faiOffset(idx, pos) {\n  return idx.offset + idx.lineBytes * Math.floor(pos / idx.lineLength) + pos % idx.lineLength;\n}\n\nvar IndexedFasta = /*#__PURE__*/function () {\n  function IndexedFasta(_ref) {\n    var fasta = _ref.fasta,\n        fai = _ref.fai,\n        path = _ref.path,\n        faiPath = _ref.faiPath,\n        _ref$chunkSizeLimit = _ref.chunkSizeLimit,\n        chunkSizeLimit = _ref$chunkSizeLimit === void 0 ? 1000000 : _ref$chunkSizeLimit;\n    (0, _classCallCheck2.default)(this, IndexedFasta);\n\n    if (fasta) {\n      this.fasta = fasta;\n    } else if (path) {\n      this.fasta = new _localFile.default(path);\n    }\n\n    if (fai) {\n      this.fai = fai;\n    } else if (faiPath) {\n      this.fai = new _localFile.default(faiPath);\n    } else if (path) {\n      this.fai = new _localFile.default(\"\".concat(path, \".fai\"));\n    }\n\n    this.chunkSizeLimit = chunkSizeLimit;\n  }\n\n  (0, _createClass2.default)(IndexedFasta, [{\n    key: \"_getIndexes\",\n    value: function () {\n      var _getIndexes2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.indexes) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 3;\n                return this._readFAI();\n\n              case 3:\n                this.indexes = _context.sent;\n\n              case 4:\n                return _context.abrupt(\"return\", this.indexes);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getIndexes() {\n        return _getIndexes2.apply(this, arguments);\n      }\n\n      return _getIndexes;\n    }()\n  }, {\n    key: \"_readFAI\",\n    value: function () {\n      var _readFAI2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var indexByName, indexById, text, idCounter, currSeq;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                indexByName = {};\n                indexById = {};\n                _context2.next = 4;\n                return this.fai.readFile();\n\n              case 4:\n                text = _context2.sent;\n\n                if (text && text.length) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                throw new Error('No data read from FASTA index (FAI) file');\n\n              case 7:\n                idCounter = 0;\n                text.toString('utf8').split(/\\r?\\n/).filter(function (line) {\n                  return /\\S/.test(line);\n                }).forEach(function (line) {\n                  var row = line.split('\\t');\n                  if (row[0] === '') return;\n\n                  if (!currSeq || currSeq.name !== row[0]) {\n                    currSeq = {\n                      name: row[0],\n                      id: idCounter\n                    };\n                    idCounter += 1;\n                  }\n\n                  var entry = {\n                    id: currSeq.id,\n                    name: row[0],\n                    length: +row[1],\n                    start: 0,\n                    end: +row[1],\n                    offset: +row[2],\n                    lineLength: +row[3],\n                    lineBytes: +row[4]\n                  };\n                  indexByName[entry.name] = entry;\n                  indexById[entry.id] = entry;\n                });\n                return _context2.abrupt(\"return\", {\n                  name: indexByName,\n                  id: indexById\n                });\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _readFAI() {\n        return _readFAI2.apply(this, arguments);\n      }\n\n      return _readFAI;\n    }()\n    /**\n     * @returns {array[string]} array of string sequence\n     * names that are present in the index, in which the\n     * array index indicates the sequence ID, and the value\n     * is the sequence name\n     */\n\n  }, {\n    key: \"getSequenceNames\",\n    value: function () {\n      var _getSequenceNames = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.t0 = Object;\n                _context3.next = 3;\n                return this._getIndexes();\n\n              case 3:\n                _context3.t1 = _context3.sent.name;\n                return _context3.abrupt(\"return\", _context3.t0.keys.call(_context3.t0, _context3.t1));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getSequenceNames() {\n        return _getSequenceNames.apply(this, arguments);\n      }\n\n      return getSequenceNames;\n    }()\n    /**\n     * @returns {array[string]} array of string sequence\n     * names that are present in the index, in which the\n     * array index indicates the sequence ID, and the value\n     * is the sequence name\n     */\n\n  }, {\n    key: \"getSequenceSizes\",\n    value: function () {\n      var _getSequenceSizes = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n        var returnObject, idx, vals, i;\n        return _regenerator.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                returnObject = {};\n                _context4.next = 3;\n                return this._getIndexes();\n\n              case 3:\n                idx = _context4.sent;\n                vals = Object.values(idx.id);\n\n                for (i = 0; i < vals.length; i += 1) {\n                  returnObject[vals[i].name] = vals[i].length;\n                }\n\n                return _context4.abrupt(\"return\", returnObject);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getSequenceSizes() {\n        return _getSequenceSizes.apply(this, arguments);\n      }\n\n      return getSequenceSizes;\n    }()\n    /**\n     * @returns {array[string]} array of string sequence\n     * names that are present in the index, in which the\n     * array index indicates the sequence ID, and the value\n     * is the sequence name\n     */\n\n  }, {\n    key: \"getSequenceSize\",\n    value: function () {\n      var _getSequenceSize = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(seqName) {\n        var idx;\n        return _regenerator.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                idx = _context5.sent;\n                return _context5.abrupt(\"return\", (idx.name[seqName] || {}).length);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getSequenceSize(_x) {\n        return _getSequenceSize.apply(this, arguments);\n      }\n\n      return getSequenceSize;\n    }()\n    /**\n     *\n     * @param {string} name\n     * @returns {Promise[boolean]} true if the file contains the given reference sequence name\n     */\n\n  }, {\n    key: \"hasReferenceSequence\",\n    value: function () {\n      var _hasReferenceSequence = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(name) {\n        return _regenerator.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                _context6.t0 = name;\n                return _context6.abrupt(\"return\", !!_context6.sent.name[_context6.t0]);\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function hasReferenceSequence(_x2) {\n        return _hasReferenceSequence.apply(this, arguments);\n      }\n\n      return hasReferenceSequence;\n    }()\n    /**\n     *\n     * @param {number} seqId\n     * @param {number} min\n     * @param {number} max\n     */\n\n  }, {\n    key: \"getResiduesById\",\n    value: function () {\n      var _getResiduesById = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(seqId, min, max) {\n        var indexEntry;\n        return _regenerator.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                _context7.t0 = seqId;\n                indexEntry = _context7.sent.id[_context7.t0];\n\n                if (indexEntry) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", undefined);\n\n              case 6:\n                return _context7.abrupt(\"return\", this._fetchFromIndexEntry(indexEntry, min, max));\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getResiduesById(_x3, _x4, _x5) {\n        return _getResiduesById.apply(this, arguments);\n      }\n\n      return getResiduesById;\n    }()\n    /**\n     * @param {string} seqName\n     * @param {number} min\n     * @param {number} max\n     */\n\n  }, {\n    key: \"getResiduesByName\",\n    value: function () {\n      var _getResiduesByName = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(seqName, min, max) {\n        var indexEntry;\n        return _regenerator.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                _context8.t0 = seqName;\n                indexEntry = _context8.sent.name[_context8.t0];\n\n                if (indexEntry) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", undefined);\n\n              case 6:\n                return _context8.abrupt(\"return\", this._fetchFromIndexEntry(indexEntry, min, max));\n\n              case 7:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getResiduesByName(_x6, _x7, _x8) {\n        return _getResiduesByName.apply(this, arguments);\n      }\n\n      return getResiduesByName;\n    }()\n  }, {\n    key: \"getSequence\",\n    value: function () {\n      var _getSequence = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n        var _args9 = arguments;\n        return _regenerator.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", this.getResiduesByName.apply(this, _args9));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getSequence() {\n        return _getSequence.apply(this, arguments);\n      }\n\n      return getSequence;\n    }()\n  }, {\n    key: \"_fetchFromIndexEntry\",\n    value: function () {\n      var _fetchFromIndexEntry2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10(indexEntry) {\n        var min,\n            max,\n            end,\n            position,\n            readlen,\n            residues,\n            _args10 = arguments;\n        return _regenerator.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                min = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : 0;\n                max = _args10.length > 2 ? _args10[2] : undefined;\n                end = max;\n\n                if (!(min < 0)) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                throw new TypeError('regionStart cannot be less than 0');\n\n              case 5:\n                if (end === undefined || end > indexEntry.length) {\n                  end = indexEntry.length;\n                }\n\n                if (!(min >= end)) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", '');\n\n              case 8:\n                position = _faiOffset(indexEntry, min);\n                readlen = _faiOffset(indexEntry, end) - position;\n\n                if (!(readlen > this.chunkSizeLimit)) {\n                  _context10.next = 12;\n                  break;\n                }\n\n                throw new Error(\"data size of \".concat(readlen.toLocaleString(), \" bytes exceeded chunk size limit of \").concat(this.chunkSizeLimit.toLocaleString(), \" bytes\"));\n\n              case 12:\n                residues = Buffer.allocUnsafe(readlen);\n                _context10.next = 15;\n                return this.fasta.read(residues, 0, readlen, position);\n\n              case 15:\n                residues = residues.toString('utf8').replace(/\\s+/g, '');\n                return _context10.abrupt(\"return\", residues);\n\n              case 17:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function _fetchFromIndexEntry(_x9) {\n        return _fetchFromIndexEntry2.apply(this, arguments);\n      }\n\n      return _fetchFromIndexEntry;\n    }()\n  }]);\n  return IndexedFasta;\n}();\n\nmodule.exports = IndexedFasta;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* global window self */\n\nvar isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n/* eslint-disable no-restricted-globals */\nvar isWebWorker = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) === 'object' && self.constructor && self.constructor.name === 'DedicatedWorkerGlobalScope';\n/* eslint-enable no-restricted-globals */\n\nvar isNode = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n\n/**\n * @see https://github.com/jsdom/jsdom/releases/tag/12.0.0\n * @see https://github.com/jsdom/jsdom/issues/1537\n */\n/* eslint-disable no-undef */\nvar isJsDom = function isJsDom() {\n  return typeof window !== 'undefined' && window.name === 'nodejs' || navigator.userAgent.includes('Node.js') || navigator.userAgent.includes('jsdom');\n};\n\nexports.isBrowser = isBrowser;\nexports.isWebWorker = isWebWorker;\nexports.isNode = isNode;\nexports.isJsDom = isJsDom;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _bgzfFilehandle = require(\"@gmod/bgzf-filehandle\");\n\nvar _indexedFasta = _interopRequireDefault(require(\"./indexedFasta\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar BgzipIndexedFasta = /*#__PURE__*/function (_IndexedFasta) {\n  (0, _inherits2.default)(BgzipIndexedFasta, _IndexedFasta);\n\n  var _super = _createSuper(BgzipIndexedFasta);\n\n  function BgzipIndexedFasta(_ref) {\n    var _this;\n\n    var fasta = _ref.fasta,\n        path = _ref.path,\n        fai = _ref.fai,\n        faiPath = _ref.faiPath,\n        gzi = _ref.gzi,\n        gziPath = _ref.gziPath,\n        chunkSizeLimit = _ref.chunkSizeLimit;\n    (0, _classCallCheck2.default)(this, BgzipIndexedFasta);\n    _this = _super.call(this, {\n      fasta: fasta,\n      path: path,\n      fai: fai,\n      faiPath: faiPath,\n      chunkSizeLimit: chunkSizeLimit\n    });\n\n    if (fasta && gzi) {\n      _this.fasta = new _bgzfFilehandle.BgzfFilehandle({\n        filehandle: fasta,\n        gziFilehandle: gzi\n      });\n    } else if (path && gziPath) {\n      _this.fasta = new _bgzfFilehandle.BgzfFilehandle({\n        path: path,\n        gziPath: gziPath\n      });\n    }\n\n    return _this;\n  }\n\n  return BgzipIndexedFasta;\n}(_indexedFasta.default);\n\nmodule.exports = BgzipIndexedFasta;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseSmallFasta = parseSmallFasta;\nObject.defineProperty(exports, \"BgzipIndexedFasta\", {\n  enumerable: true,\n  get: function get() {\n    return _bgzipIndexedFasta.default;\n  }\n});\nObject.defineProperty(exports, \"IndexedFasta\", {\n  enumerable: true,\n  get: function get() {\n    return _indexedFasta.default;\n  }\n});\nexports.FetchableSmallFasta = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _localFile = _interopRequireDefault(require(\"./localFile\"));\n\nvar _bgzipIndexedFasta = _interopRequireDefault(require(\"./bgzipIndexedFasta\"));\n\nvar _indexedFasta = _interopRequireDefault(require(\"./indexedFasta\"));\n\nfunction parseSmallFasta(text) {\n  return text.split('>').filter(function (t) {\n    return /\\S/.test(t);\n  }).map(function (entryText) {\n    var _entryText$split = entryText.split('\\n'),\n        _entryText$split2 = (0, _toArray2.default)(_entryText$split),\n        defLine = _entryText$split2[0],\n        seqLines = _entryText$split2.slice(1);\n\n    var _defLine$split = defLine.split(' '),\n        _defLine$split2 = (0, _toArray2.default)(_defLine$split),\n        id = _defLine$split2[0],\n        description = _defLine$split2.slice(1);\n\n    var sequence = seqLines.join('').replace(/\\s/g, '');\n    return {\n      id: id,\n      description: description.join(' '),\n      sequence: sequence\n    };\n  });\n} // memoized\n\n\nvar FetchableSmallFasta = /*#__PURE__*/function () {\n  function FetchableSmallFasta(_ref) {\n    var fasta = _ref.fasta,\n        path = _ref.path;\n    (0, _classCallCheck2.default)(this, FetchableSmallFasta);\n\n    if (fasta) {\n      this.fasta = fasta;\n    } else if (path) {\n      this.fasta = new _localFile.default(path);\n    }\n\n    this.data = this.fasta.readFile().then(function (buffer) {\n      var text = buffer.toString('utf8');\n      return parseSmallFasta(text);\n    });\n  }\n\n  (0, _createClass2.default)(FetchableSmallFasta, [{\n    key: \"fetch\",\n    value: function () {\n      var _fetch = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(id, start, end) {\n        var data, entry, length;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.data;\n\n              case 2:\n                data = _context.sent;\n                entry = data.find(function (iter) {\n                  return iter.id === id;\n                });\n                length = end - start;\n\n                if (entry) {\n                  _context.next = 7;\n                  break;\n                }\n\n                throw new Error(\"no sequence with id \".concat(id, \" exists\"));\n\n              case 7:\n                return _context.abrupt(\"return\", entry.sequence.substr(start, length));\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetch(_x, _x2, _x3) {\n        return _fetch.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n  }, {\n    key: \"getSequenceNames\",\n    value: function () {\n      var _getSequenceNames = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var data;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.data;\n\n              case 2:\n                data = _context2.sent;\n                return _context2.abrupt(\"return\", data.map(function (entry) {\n                  return entry.id;\n                }));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getSequenceNames() {\n        return _getSequenceNames.apply(this, arguments);\n      }\n\n      return getSequenceNames;\n    }()\n  }]);\n  return FetchableSmallFasta;\n}();\n\nexports.FetchableSmallFasta = FetchableSmallFasta;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;"],"sourceRoot":""}