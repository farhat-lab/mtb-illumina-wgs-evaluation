{"version":3,"sources":["../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/classCallCheck.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/createClass.js","../../../node_modules/@gmod/bgzf-filehandle/dist/index.js","../../../node_modules/@gmod/bgzf-filehandle/dist/unzip.js","../../../node_modules/@gmod/bgzf-filehandle/dist/localFile.js","../../../node_modules/@gmod/bgzf-filehandle/dist/bgzFilehandle.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/slicedToArray.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../node_modules/@gmod/bgzf-filehandle/dist/gziIndex.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/classCallCheck.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/regenerator/index.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/createClass.js","../../../node_modules/@gmod/indexedfasta/dist/localFile.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/@gmod/indexedfasta/dist/indexedFasta.js","../../../node_modules/@gmod/indexedfasta/dist/index.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/toArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/iterableToArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../node_modules/browser-or-node/lib/index.js","../../../node_modules/@gmod/indexedfasta/dist/bgzipIndexedFasta.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/inherits.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../node_modules/@gmod/indexedfasta/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../plugins/sequence/src/IndexedFastaAdapter/IndexedFastaAdapter.ts","../../../plugins/sequence/src/BgzipFastaAdapter/BgzipFastaAdapter.ts","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/regenerator/index.js","../../../node_modules/@gmod/bgzf-filehandle/node_modules/@babel/runtime/helpers/asyncToGenerator.js"],"names":["module","exports","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","BgzfFilehandle","require","_require","unzip","unzipChunk","unzipChunkSlice","_interopRequireDefault","_regenerator","_asyncToGenerator2","zlib","gunzip","promisify","_require2","Z_SYNC_FLUSH","Inflate","pakoUnzip","_x","_pakoUnzip","apply","this","arguments","default","mark","_callee","inputData","strm","pos","chunks","inflator","remainingInput","result","wrap","_context","prev","next","slice","push","err","Error","msg","next_in","Buffer","from","avail_in","concat","abrupt","t0","message","match","stop","_unzipChunk","_callee2","cpos","dpos","blocks","cpositions","dpositions","_buffer","buffer","_context2","_unzipChunkSlice","_callee3","chunk","decompressedBlocks","_buffer2","len","origCpos","_context3","minv","blockPosition","dataPosition","maxv","_x2","_x3","_x4","nodeUnzip","input","finishFlush","constants","_classCallCheck2","_createClass2","fs","undefined","LocalFile","path","fdPromise","open","value","_read","buf","offset","position","fd","ret","sent","read","_stat","fstat","_slicedToArray2","GziIndex","BgzFilehandle","_ref","filehandle","gziFilehandle","gziPath","gzi","compressedStat","stat","t1","getUncompressedFileSize","t2","t3","t4","t5","size","blksize","assign","call","_getUncompressedFileSize","_ref2","_ref3","uncompressedPosition","_ref4","_ref5","lastBlockUncompressedSize","getLastBlock","allocUnsafe","bytesRead","readUInt32LE","_readAndUncompressBlock2","blockBuffer","_ref6","_ref7","_ref8","compressedPosition","_ref9","nextCompressedPosition","blockCompressedLength","unzippedBuffer","_callee4","blockPositions","destinationOffset","blockNum","uncompressedBuffer","_blockPositions$block","sourceOffset","sourceEnd","_context4","getRelevantBlocksForRead","_readAndUncompressBlock","Math","min","copy","_x5","_x6","_x7","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","arrayLikeToArray","o","minLen","n","toString","constructor","name","test","arr2","Long","unsigned","long","fromBytesLE","greaterThan","Number","MAX_SAFE_INTEGER","lessThan","MIN_SAFE_INTEGER","toNumber","index","_readIndex","_readIndex2","numEntries","entries","bufSize","entryNumber","_readLongWithOverflow","_getLastBlock","_getIndex","_getRelevantBlocksForRead","endPosition","relevant","compare","lowerBound","upperBound","searchPosition","comparison","entry","nextEntry","nextUncompressedPosition","Infinity","floor","ceil","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","fn","self","args","fsOpen","fsRead","fsFStat","fsReadFile","_typeof2","isNode","readFile","source","filename","_args","_readFile","_typeof","_localFile","_faiOffset","idx","lineBytes","lineLength","IndexedFasta","fasta","fai","faiPath","_ref$chunkSizeLimit","chunkSizeLimit","_getIndexes2","indexes","_readFAI","_readFAI2","indexByName","indexById","text","idCounter","currSeq","split","filter","line","forEach","row","id","start","end","_getSequenceNames","_getIndexes","keys","_getSequenceSizes","returnObject","vals","values","_getSequenceSize","_callee5","seqName","_context5","_hasReferenceSequence","_callee6","_context6","_getResiduesById","_callee7","seqId","max","indexEntry","_context7","_fetchFromIndexEntry","_getResiduesByName","_callee8","_context8","_x8","_getSequence","_callee9","_args9","_context9","getResiduesByName","_fetchFromIndexEntry2","_callee10","readlen","residues","_args10","_context10","toLocaleString","replace","_x9","parseSmallFasta","get","_bgzipIndexedFasta","_indexedFasta","FetchableSmallFasta","_toArray2","t","map","entryText","_entryText$split","_entryText$split2","defLine","seqLines","_defLine$split","_defLine$split2","description","sequence","join","data","_fetch","find","iter","substr","iterableToArray","isBrowser","window","document","isWebWorker","process","versions","node","isJsDom","navigator","userAgent","includes","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_bgzfFilehandle","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_isNativeReflectConstruct","Super","NewTarget","BgzipIndexedFasta","_IndexedFasta","_super","_this","setPrototypeOf","subClass","superClass","create","_setPrototypeOf","p","__proto__","assertThisInitialized","ReferenceError","_getPrototypeOf","getPrototypeOf","config","seqCache","AbortablePromiseCache","cache","LRU","maxSize","fill","a","refName","getSequence","fastaLocation","readConfObject","faiLocation","fastaOpts","openLocation","getSequenceNames","getSequenceSizes","seqSizes","ObservableCreate","observer","getSequenceSize","regionEnd","chunkStart","s","r","JSON","stringify","all","seq","SimpleFeature","complete","BaseFeatureDataAdapter","gziLocation"],"mappings":"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","file":"13.3481a912c94ef75a9f78.worker.js","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","\"use strict\";var BgzfFilehandle = require('./bgzFilehandle');var _require =\nrequire('./unzip'),unzip = _require.unzip,unzipChunk = _require.unzipChunk,unzipChunkSlice = _require.unzipChunkSlice;\n\nmodule.exports = { BgzfFilehandle: BgzfFilehandle, unzip: unzip, unzipChunk: unzipChunk, unzipChunkSlice: unzipChunkSlice };","\"use strict\";var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");var _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\")); /* eslint-disable consistent-return */\nvar zlib = require('zlib');var _require =\nrequire('es6-promisify'),promisify = _require.promisify;\n\nvar gunzip = promisify(zlib.gunzip);var _require2 =\n\nrequire('pako'),Z_SYNC_FLUSH = _require2.Z_SYNC_FLUSH,Inflate = _require2.Inflate;\n\n// browserify-zlib, which is the zlib shim used by default in webpacked code,\n// does not properly uncompress bgzf chunks that contain more than\n// one bgzf block, so export an unzip function that uses pako directly\n// if we are running in a browser.\nfunction pakoUnzip(_x) {return _pakoUnzip.apply(this, arguments);}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// similar to pakounzip, except it does extra counting\n// to return the positions of compressed and decompressed\n// data offsets\nfunction _pakoUnzip() {_pakoUnzip = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(inputData) {var strm, pos, i, chunks, inflator, remainingInput, _inflator, result;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:_context.prev = 0;pos = 0;i = 0;chunks = [];case 4:remainingInput = inputData.slice(pos);inflator = new Inflate();_inflator = inflator;strm = _inflator.strm;inflator.push(remainingInput, Z_SYNC_FLUSH);if (!inflator.err) {_context.next = 11;break;}throw new Error(inflator.msg);case 11:pos += strm.next_in;chunks[i] = Buffer.from(inflator.result);i += 1;case 14:if (strm.avail_in) {_context.next = 4;break;}case 15:result = Buffer.concat(chunks);return _context.abrupt(\"return\", result);case 19:_context.prev = 19;_context.t0 = _context[\"catch\"](0);if (!_context.t0.message.match(/incorrect header check/)) {_context.next = 23;break;}throw new Error('problem decompressing block: incorrect gzip header check');case 23:case \"end\":return _context.stop();}}}, _callee, null, [[0, 19]]);}));return _pakoUnzip.apply(this, arguments);}function unzipChunk(_x2) {return _unzipChunk.apply(this, arguments);}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// similar to unzipChunk above but slices (0,minv.dataPosition) and (maxv.dataPosition,end) off\nfunction _unzipChunk() {_unzipChunk = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(inputData) {var strm, cpos, dpos, blocks, cpositions, dpositions, remainingInput, inflator, _buffer, buffer;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.prev = 0;cpos = 0;dpos = 0;blocks = [];cpositions = [];dpositions = [];case 6:remainingInput = inputData.slice(cpos);inflator = new Inflate();strm = inflator.strm; // @ts-ignore\n            inflator.push(remainingInput, Z_SYNC_FLUSH);if (!inflator.err) {_context2.next = 12;break;}throw new Error(inflator.msg);case 12: // @ts-ignore\n            _buffer = Buffer.from(inflator.result);blocks.push(_buffer);cpositions.push(cpos);dpositions.push(dpos);cpos += strm.next_in;dpos += _buffer.length;case 18:if (strm.avail_in) {_context2.next = 6;break;}case 19:buffer = Buffer.concat(blocks);return _context2.abrupt(\"return\", { buffer: buffer, cpositions: cpositions, dpositions: dpositions });case 23:_context2.prev = 23;_context2.t0 = _context2[\"catch\"](0);if (!_context2.t0.message.match(/incorrect header check/)) {_context2.next = 27;break;}throw new Error('problem decompressing block: incorrect gzip header check');case 27:case \"end\":return _context2.stop();}}}, _callee2, null, [[0, 23]]);}));return _unzipChunk.apply(this, arguments);}function unzipChunkSlice(_x3, _x4) {return _unzipChunkSlice.apply(this, arguments);}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// in node, just use the native unzipping with Z_SYNC_FLUSH\nfunction _unzipChunkSlice() {_unzipChunkSlice = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(inputData, chunk) {var strm, cpos, dpos, decompressedBlocks, cpositions, dpositions, remainingInput, inflator, _buffer2, len, origCpos, buffer;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:_context3.prev = 0;cpos = chunk.minv.blockPosition;dpos = chunk.minv.dataPosition;decompressedBlocks = [];cpositions = [];dpositions = [];case 6:remainingInput = inputData.slice(cpos - chunk.minv.blockPosition);inflator = new Inflate();strm = inflator.strm; // @ts-ignore\n            inflator.push(remainingInput, Z_SYNC_FLUSH);if (!inflator.err) {_context3.next = 12;break;}throw new Error(inflator.msg);case 12: // @ts-ignore\n            _buffer2 = Buffer.from(inflator.result);decompressedBlocks.push(_buffer2);len = _buffer2.length;cpositions.push(cpos);dpositions.push(dpos);if (decompressedBlocks.length === 1 && chunk.minv.dataPosition) {// this is the first chunk, trim it\n              decompressedBlocks[0] = decompressedBlocks[0].slice(chunk.minv.dataPosition);len = decompressedBlocks[0].length;}origCpos = cpos;cpos += strm.next_in;dpos += len;if (!(origCpos >= chunk.maxv.blockPosition)) {_context3.next = 26;break;} // this is the last chunk, trim it and stop decompressing\n            // note if it is the same block is minv it subtracts that already\n            // trimmed part of the slice length\n            decompressedBlocks[decompressedBlocks.length - 1] = decompressedBlocks[decompressedBlocks.length - 1].slice(0, chunk.maxv.blockPosition === chunk.minv.blockPosition ? chunk.maxv.dataPosition - chunk.minv.dataPosition + 1 : chunk.maxv.dataPosition + 1);cpositions.push(cpos);dpositions.push(dpos);return _context3.abrupt(\"break\", 27);case 26:if (strm.avail_in) {_context3.next = 6;break;}case 27:buffer = Buffer.concat(decompressedBlocks);return _context3.abrupt(\"return\", { buffer: buffer, cpositions: cpositions, dpositions: dpositions });case 31:_context3.prev = 31;_context3.t0 = _context3[\"catch\"](0);if (!_context3.t0.message.match(/incorrect header check/)) {_context3.next = 35;break;}throw new Error('problem decompressing block: incorrect gzip header check');case 35:case \"end\":return _context3.stop();}}}, _callee3, null, [[0, 31]]);}));return _unzipChunkSlice.apply(this, arguments);}function nodeUnzip(input) {return gunzip(input, { finishFlush: (zlib.constants || zlib).Z_SYNC_FLUSH });}module.exports = {\n  unzip: typeof __webpack_require__ === 'function' ? pakoUnzip : nodeUnzip, // eslint-disable-line\n  unzipChunk: unzipChunk,\n  unzipChunkSlice: unzipChunkSlice,\n  nodeUnzip: nodeUnzip,\n  pakoUnzip: pakoUnzip };","\"use strict\";var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");var _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var fs =\n// eslint-disable-next-line camelcase\ntypeof __webpack_require__ !== 'function' ? require('fs-extra') : undefined;\n\n// LocalFile is pretty much just an implementation of the node 10+ fs.promises filehandle,\n// we can switch to that when the API is stable\nvar LocalFile = /*#__PURE__*/function () {\n  function LocalFile(path) {(0, _classCallCheck2.default)(this, LocalFile);\n    this.fdPromise = fs.open(path, 'r');\n    this.path = path;\n  }(0, _createClass2.default)(LocalFile, [{ key: \"read\", value: function () {var _read = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(\n\n      buf, offset, length, position) {var fd, ret;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:_context.next = 2;return (\n                  this.fdPromise);case 2:fd = _context.sent;_context.next = 5;return (\n                  fs.read(fd, buf, offset, length, position));case 5:ret = _context.sent;return _context.abrupt(\"return\",\n                ret);case 7:case \"end\":return _context.stop();}}}, _callee, this);}));function read(_x, _x2, _x3, _x4) {return _read.apply(this, arguments);}return read;}() }, { key: \"stat\", value: function () {var _stat = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {var fd;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.next = 2;return (\n\n\n\n                  this.fdPromise);case 2:fd = _context2.sent;return _context2.abrupt(\"return\",\n                fs.fstat(fd));case 4:case \"end\":return _context2.stop();}}}, _callee2, this);}));function stat() {return _stat.apply(this, arguments);}return stat;}() }]);return LocalFile;}();\n\n\n\nmodule.exports = LocalFile;","\"use strict\";var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _require = require('./unzip'),unzip = _require.unzip;\nvar LocalFile = require('./localFile');\nvar GziIndex = require('./gziIndex');var\n\nBgzFilehandle = /*#__PURE__*/function () {\n  function BgzFilehandle(_ref) {var filehandle = _ref.filehandle,path = _ref.path,gziFilehandle = _ref.gziFilehandle,gziPath = _ref.gziPath;(0, _classCallCheck2.default)(this, BgzFilehandle);\n    if (filehandle) this.filehandle = filehandle;else\n    if (path) this.filehandle = new LocalFile(path);else\n    throw new TypeError('either filehandle or path must be defined');\n\n    if (!gziFilehandle && !gziPath && !path)\n    throw new TypeError('either gziFilehandle or gziPath must be defined');\n\n    this.gzi = new GziIndex({\n      filehandle: gziFilehandle,\n      path: !gziFilehandle && !gziPath && path ? gziPath : \"\".concat(path, \".gzi\") });\n\n  }(0, _createClass2.default)(BgzFilehandle, [{ key: \"stat\", value: function () {var _stat = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {var compressedStat;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:_context.next = 2;return (\n\n\n                  this.filehandle.stat());case 2:compressedStat = _context.sent;_context.t0 =\n                Object;_context.t1 = compressedStat;_context.next = 7;return (\n                  this.getUncompressedFileSize());case 7:_context.t2 = _context.sent;_context.t3 =\n                undefined;_context.t4 =\n                undefined;_context.t5 = { size: _context.t2, blocks: _context.t3, blksize: _context.t4 };return _context.abrupt(\"return\", _context.t0.assign.call(_context.t0, _context.t1, _context.t5));case 12:case \"end\":return _context.stop();}}}, _callee, this);}));function stat() {return _stat.apply(this, arguments);}return stat;}() }, { key: \"getUncompressedFileSize\", value: function () {var _getUncompressedFileSize = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {var _ref2, _ref3, uncompressedPosition, _ref4, size, buf, _ref5, bytesRead, lastBlockUncompressedSize;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.next = 2;return (\n\n\n\n\n\n\n                  this.gzi.getLastBlock());case 2:_ref2 = _context2.sent;_ref3 = (0, _slicedToArray2.default)(_ref2, 2);uncompressedPosition = _ref3[1];_context2.next = 7;return (\n\n                  this.filehandle.stat());case 7:_ref4 = _context2.sent;size = _ref4.size;\n\n                buf = Buffer.allocUnsafe(4);\n                // note: there should be a 28-byte EOF marker (an empty block) at\n                // the end of the file, so we skip backward past that\n                _context2.next = 12;return this.filehandle.read(buf, 0, 4, size - 28 - 4);case 12:_ref5 = _context2.sent;bytesRead = _ref5.bytesRead;if (!(\n                bytesRead !== 4)) {_context2.next = 16;break;}throw new Error('read error');case 16:\n                lastBlockUncompressedSize = buf.readUInt32LE(0);return _context2.abrupt(\"return\",\n                uncompressedPosition + lastBlockUncompressedSize);case 18:case \"end\":return _context2.stop();}}}, _callee2, this);}));function getUncompressedFileSize() {return _getUncompressedFileSize.apply(this, arguments);}return getUncompressedFileSize;}() }, { key: \"_readAndUncompressBlock\", value: function () {var _readAndUncompressBlock2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(\n\n\n\n      blockBuffer, _ref6, _ref7) {var _ref8, compressedPosition, _ref9, nextCompressedPosition, next, blockCompressedLength, unzippedBuffer;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:_ref8 = (0, _slicedToArray2.default)(_ref6, 1),\n                compressedPosition = _ref8[0];_ref9 = (0, _slicedToArray2.default)(_ref7, 1),\n                nextCompressedPosition = _ref9[0];\n\n                next = nextCompressedPosition;if (\n                next) {_context3.next = 7;break;}_context3.next = 6;return (\n                  this.filehandle.stat());case 6:next = _context3.sent.size;case 7:\n\n\n                // read the compressed data into the block buffer\n                blockCompressedLength = next - compressedPosition;_context3.next = 10;return (\n\n                  this.filehandle.read(\n                  blockBuffer,\n                  0,\n                  blockCompressedLength,\n                  compressedPosition));case 10:_context3.next = 12;return (\n\n\n\n                  unzip(\n                  blockBuffer.slice(0, blockCompressedLength)));case 12:unzippedBuffer = _context3.sent;return _context3.abrupt(\"return\",\n\n\n                unzippedBuffer);case 14:case \"end\":return _context3.stop();}}}, _callee3, this);}));function _readAndUncompressBlock(_x, _x2, _x3) {return _readAndUncompressBlock2.apply(this, arguments);}return _readAndUncompressBlock;}() }, { key: \"read\", value: function () {var _read = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(\n\n\n      buf, offset, length, position) {var blockPositions, blockBuffer, destinationOffset, bytesRead, blockNum, uncompressedBuffer, _blockPositions$block, uncompressedPosition, sourceOffset, sourceEnd;return _regenerator.default.wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:_context4.next = 2;return (\n\n                  this.gzi.getRelevantBlocksForRead(\n                  length,\n                  position));case 2:blockPositions = _context4.sent;\n\n                blockBuffer = Buffer.allocUnsafe(32768 * 2);\n                // uncompress the blocks and read from them one at a time to keep memory usage down\n                destinationOffset = offset;\n                bytesRead = 0;\n\n                blockNum = 0;case 7:if (!(\n                blockNum < blockPositions.length - 1)) {_context4.next = 18;break;}_context4.next = 10;return (\n\n\n\n                  this._readAndUncompressBlock(\n                  blockBuffer,\n                  blockPositions[blockNum],\n                  blockPositions[blockNum + 1]));case 10:uncompressedBuffer = _context4.sent;_blockPositions$block = (0, _slicedToArray2.default)(\n\n                blockPositions[blockNum], 2), uncompressedPosition = _blockPositions$block[1];\n                sourceOffset =\n                uncompressedPosition >= position ? 0 : position - uncompressedPosition;\n                sourceEnd =\n                Math.min(\n                position + length,\n                uncompressedPosition + uncompressedBuffer.length) -\n                uncompressedPosition;\n                if (sourceOffset >= 0 && sourceOffset < uncompressedBuffer.length) {\n                  uncompressedBuffer.copy(buf, destinationOffset, sourceOffset, sourceEnd);\n                  destinationOffset += sourceEnd - sourceOffset;\n                  bytesRead += sourceEnd - sourceOffset;\n                }case 15:blockNum += 1;_context4.next = 7;break;case 18:return _context4.abrupt(\"return\",\n\n\n                { bytesRead: bytesRead, buffer: buf });case 19:case \"end\":return _context4.stop();}}}, _callee4, this);}));function read(_x4, _x5, _x6, _x7) {return _read.apply(this, arguments);}return read;}() }]);return BgzFilehandle;}();\n\n\n\nmodule.exports = BgzFilehandle;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","\"use strict\";var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");var _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var Long = require('long');\nvar LocalFile = require('./localFile');\n\n// const COMPRESSED_POSITION = 0\nvar UNCOMPRESSED_POSITION = 1;var\n\nGziIndex = /*#__PURE__*/function () {\n  function GziIndex(_ref) {var filehandle = _ref.filehandle,path = _ref.path;(0, _classCallCheck2.default)(this, GziIndex);\n    if (filehandle) this.filehandle = filehandle;else\n    if (path) this.filehandle = new LocalFile(path);else\n    throw new TypeError('either filehandle or path must be defined');\n  }(0, _createClass2.default)(GziIndex, [{ key: \"_readLongWithOverflow\", value: function _readLongWithOverflow(\n\n    buf) {var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;var unsigned = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var long = Long.fromBytesLE(buf.slice(offset, offset + 8), unsigned);\n      if (\n      long.greaterThan(Number.MAX_SAFE_INTEGER) ||\n      long.lessThan(Number.MIN_SAFE_INTEGER))\n\n      throw new TypeError('integer overflow');\n\n      return long.toNumber();\n    } }, { key: \"_getIndex\", value: function _getIndex()\n\n    {\n      if (!this.index) this.index = this._readIndex();\n      return this.index;\n    } }, { key: \"_readIndex\", value: function () {var _readIndex2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {var buf, numEntries, entries, bufSize, entryNumber, compressedPosition, uncompressedPosition;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:\n\n\n                buf = Buffer.allocUnsafe(8);_context.next = 3;return (\n                  this.filehandle.read(buf, 0, 8, 0));case 3:\n                numEntries = this._readLongWithOverflow(buf, 0, true);if (\n                numEntries) {_context.next = 6;break;}return _context.abrupt(\"return\", [[0, 0]]);case 6:\n\n                entries = new Array(numEntries + 1);\n                entries[0] = [0, 0];\n\n                // TODO rewrite this to make an index-index that stays in memory\n                bufSize = 8 * 2 * numEntries;if (!(\n                bufSize > Number.MAX_SAFE_INTEGER)) {_context.next = 11;break;}throw (\n                  new TypeError('integer overflow'));case 11:\n                buf = Buffer.allocUnsafe(bufSize);_context.next = 14;return (\n                  this.filehandle.read(buf, 0, bufSize, 8));case 14:\n                for (entryNumber = 0; entryNumber < numEntries; entryNumber += 1) {\n                  compressedPosition = this._readLongWithOverflow(\n                  buf,\n                  entryNumber * 16);\n\n                  uncompressedPosition = this._readLongWithOverflow(\n                  buf,\n                  entryNumber * 16 + 8);\n\n                  entries[entryNumber + 1] = [compressedPosition, uncompressedPosition];\n                }return _context.abrupt(\"return\",\n\n                entries);case 16:case \"end\":return _context.stop();}}}, _callee, this);}));function _readIndex() {return _readIndex2.apply(this, arguments);}return _readIndex;}()\n\n\n    /**\n                                                                                                                                                                                    * @returns {object} the entry for the last block in the index\n                                                                                                                                                                                    */ }, { key: \"getLastBlock\", value: function () {var _getLastBlock = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {var entries;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.next = 2;return (\n\n                  this._getIndex());case 2:entries = _context2.sent;if (\n                entries.length) {_context2.next = 5;break;}return _context2.abrupt(\"return\", undefined);case 5:return _context2.abrupt(\"return\",\n                entries[entries.length - 1]);case 6:case \"end\":return _context2.stop();}}}, _callee2, this);}));function getLastBlock() {return _getLastBlock.apply(this, arguments);}return getLastBlock;}()\n\n\n    /**\n                                                                                                                                                                                                               * get an array of block records that must be read to execute\n                                                                                                                                                                                                               * the given virtual read operation\n                                                                                                                                                                                                               *\n                                                                                                                                                                                                               * @param {number} position uncompressed read position\n                                                                                                                                                                                                               * @param {number} length uncompressed read length\n                                                                                                                                                                                                               * @returns {Promise} for an array of block records, the\n                                                                                                                                                                                                               * last of which should *not* be included in the read\n                                                                                                                                                                                                               */ }, { key: \"getRelevantBlocksForRead\", value: function () {var _getRelevantBlocksForRead = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(\n      length, position) {var endPosition, entries, relevant, compare, lowerBound, upperBound, searchPosition, comparison, i;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:\n                endPosition = position + length;if (!(\n                length === 0)) {_context3.next = 3;break;}return _context3.abrupt(\"return\", []);case 3:_context3.next = 5;return (\n                  this._getIndex());case 5:entries = _context3.sent;\n                relevant = [];\n\n                // binary search to find the block that the\n                // read starts in and extend forward from that\n                compare = function compare(entry, nextEntry) {\n                  var uncompressedPosition = entry[UNCOMPRESSED_POSITION];\n                  var nextUncompressedPosition = nextEntry ?\n                  nextEntry[UNCOMPRESSED_POSITION] :\n                  Infinity;\n                  // block overlaps read start\n                  if (\n                  uncompressedPosition <= position &&\n                  nextUncompressedPosition > position)\n                  {\n                    return 0;\n                    // block is before read start\n                  }\n                  if (uncompressedPosition < position) {\n                    return -1;\n                  }\n                  // block is after read start\n                  return 1;\n                };\n\n                lowerBound = 0;\n                upperBound = entries.length - 1;\n                searchPosition = Math.floor(entries.length / 2);\n\n                comparison = compare(\n                entries[searchPosition],\n                entries[searchPosition + 1]);\n\n                while (comparison !== 0) {\n                  if (comparison > 0) {\n                    upperBound = searchPosition - 1;\n                  } else if (comparison < 0) {\n                    lowerBound = searchPosition + 1;\n                  }\n                  searchPosition = Math.ceil((upperBound - lowerBound) / 2) + lowerBound;\n                  comparison = compare(entries[searchPosition], entries[searchPosition + 1]);\n                }\n\n                // here's where we read forward\n                relevant.push(entries[searchPosition]);\n                i = searchPosition + 1;case 15:if (!(\n                i < entries.length)) {_context3.next = 22;break;}\n                relevant.push(entries[i]);if (!(\n                entries[i][UNCOMPRESSED_POSITION] >= endPosition)) {_context3.next = 19;break;}return _context3.abrupt(\"break\", 22);case 19:i += 1;_context3.next = 15;break;case 22:\n\n                if (relevant[relevant.length - 1][UNCOMPRESSED_POSITION] < endPosition) {\n                  relevant.push([]);\n                }return _context3.abrupt(\"return\",\n                relevant);case 24:case \"end\":return _context3.stop();}}}, _callee3, this);}));function getRelevantBlocksForRead(_x, _x2) {return _getRelevantBlocksForRead.apply(this, arguments);}return getRelevantBlocksForRead;}()\n\n\n    // /**\n    //  * get a virtual block record giving the position and length of a BGZF region that\n    //  * must be read to execute the given virtual read operation\n    //  *\n    //  * @param {number} position uncompressed file position we would like to start reading at\n    //  * @param {number} length number of uncompressed bytes we would like to read\n    //  * @returns {object} as `{compressedPosition, uncompressedPosition, compressedSize}`. If\n    //  * compressedSize is undefined, the read should end at the end of the file.\n    //  */\n    // async calculateMultiBlockRead(length, position) {\n    //   const entries = await this._getIndex()\n    //   const endPosition = position + length\n    //   let readStart\n    //   let readLength\n    //   let readUncompressedStart\n    //   for (let i = 0; i < entries.length; i += 1) {\n    //     const entry = entries[i]\n    //     if (readStart === undefined && entry.uncompressedPosition <= position) {\n    //       readStart = entry.compressedPosition\n    //       readUncompressedStart = entry.uncompressedPosition\n    //     }\n    //     if (\n    //       readLength === undefined &&\n    //       entry.uncompressedPosition >= endPosition\n    //     ) {\n    //       readLength = entry.compressedPosition - readStart\n    //     }\n    //   }\n\n    //   return {\n    //     compressedPosition: readStart,\n    //     uncompressedPosition: readUncompressedStart,\n    //     compressedSize: readLength,\n    //   }\n    // }\n  }]);return GziIndex;}();\n\nmodule.exports = GziIndex;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _require = require('es6-promisify'),\n    promisify = _require.promisify;\n\nvar _require2 = require('browser-or-node'),\n    isNode = _require2.isNode; // don't load fs native module if running in the browser\n\n\nvar fsOpen;\nvar fsRead;\nvar fsFStat;\nvar fsReadFile;\n\nif (isNode) {\n  // eslint-disable-next-line global-require\n  var fs = require('fs');\n\n  fsOpen = fs && promisify(fs.open);\n  fsRead = fs && promisify(fs.read);\n  fsFStat = fs && promisify(fs.fstat);\n  fsReadFile = fs && promisify(fs.readFile);\n}\n\nvar LocalFile = /*#__PURE__*/function () {\n  function LocalFile(source) {\n    (0, _classCallCheck2.default)(this, LocalFile);\n    this.position = 0;\n    this.filename = source;\n    this.fd = fsOpen(this.filename, 'r');\n  }\n\n  (0, _createClass2.default)(LocalFile, [{\n    key: \"read\",\n    value: function () {\n      var _read = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(buffer) {\n        var offset,\n            length,\n            position,\n            readPosition,\n            ret,\n            _args = arguments;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                offset = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;\n                length = _args.length > 2 ? _args[2] : undefined;\n                position = _args.length > 3 ? _args[3] : undefined;\n                readPosition = position;\n\n                if (readPosition === null) {\n                  readPosition = this.position;\n                  this.position += length;\n                }\n\n                _context.t0 = fsRead;\n                _context.next = 8;\n                return this.fd;\n\n              case 8:\n                _context.t1 = _context.sent;\n                _context.t2 = buffer;\n                _context.t3 = offset;\n                _context.t4 = length;\n                _context.t5 = position;\n                _context.next = 15;\n                return (0, _context.t0)(_context.t1, _context.t2, _context.t3, _context.t4, _context.t5);\n\n              case 15:\n                ret = _context.sent;\n\n                if (!((0, _typeof2.default)(ret) === 'object')) {\n                  _context.next = 18;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", ret.bytesRead);\n\n              case 18:\n                return _context.abrupt(\"return\", ret);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function read(_x) {\n        return _read.apply(this, arguments);\n      }\n\n      return read;\n    }()\n  }, {\n    key: \"readFile\",\n    value: function () {\n      var _readFile = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", fsReadFile(this.filename));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function readFile() {\n        return _readFile.apply(this, arguments);\n      }\n\n      return readFile;\n    }()\n  }, {\n    key: \"stat\",\n    value: function () {\n      var _stat = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this._stat) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _context3.t0 = fsFStat;\n                _context3.next = 4;\n                return this.fd;\n\n              case 4:\n                _context3.t1 = _context3.sent;\n                _context3.next = 7;\n                return (0, _context3.t0)(_context3.t1);\n\n              case 7:\n                this._stat = _context3.sent;\n\n              case 8:\n                return _context3.abrupt(\"return\", this._stat);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stat() {\n        return _stat.apply(this, arguments);\n      }\n\n      return stat;\n    }()\n  }]);\n  return LocalFile;\n}();\n\nmodule.exports = LocalFile;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _localFile = _interopRequireDefault(require(\"./localFile\"));\n\nfunction _faiOffset(idx, pos) {\n  return idx.offset + idx.lineBytes * Math.floor(pos / idx.lineLength) + pos % idx.lineLength;\n}\n\nvar IndexedFasta = /*#__PURE__*/function () {\n  function IndexedFasta(_ref) {\n    var fasta = _ref.fasta,\n        fai = _ref.fai,\n        path = _ref.path,\n        faiPath = _ref.faiPath,\n        _ref$chunkSizeLimit = _ref.chunkSizeLimit,\n        chunkSizeLimit = _ref$chunkSizeLimit === void 0 ? 1000000 : _ref$chunkSizeLimit;\n    (0, _classCallCheck2.default)(this, IndexedFasta);\n\n    if (fasta) {\n      this.fasta = fasta;\n    } else if (path) {\n      this.fasta = new _localFile.default(path);\n    }\n\n    if (fai) {\n      this.fai = fai;\n    } else if (faiPath) {\n      this.fai = new _localFile.default(faiPath);\n    } else if (path) {\n      this.fai = new _localFile.default(\"\".concat(path, \".fai\"));\n    }\n\n    this.chunkSizeLimit = chunkSizeLimit;\n  }\n\n  (0, _createClass2.default)(IndexedFasta, [{\n    key: \"_getIndexes\",\n    value: function () {\n      var _getIndexes2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.indexes) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 3;\n                return this._readFAI();\n\n              case 3:\n                this.indexes = _context.sent;\n\n              case 4:\n                return _context.abrupt(\"return\", this.indexes);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getIndexes() {\n        return _getIndexes2.apply(this, arguments);\n      }\n\n      return _getIndexes;\n    }()\n  }, {\n    key: \"_readFAI\",\n    value: function () {\n      var _readFAI2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var indexByName, indexById, text, idCounter, currSeq;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                indexByName = {};\n                indexById = {};\n                _context2.next = 4;\n                return this.fai.readFile();\n\n              case 4:\n                text = _context2.sent;\n\n                if (text && text.length) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                throw new Error('No data read from FASTA index (FAI) file');\n\n              case 7:\n                idCounter = 0;\n                text.toString('utf8').split(/\\r?\\n/).filter(function (line) {\n                  return /\\S/.test(line);\n                }).forEach(function (line) {\n                  var row = line.split('\\t');\n                  if (row[0] === '') return;\n\n                  if (!currSeq || currSeq.name !== row[0]) {\n                    currSeq = {\n                      name: row[0],\n                      id: idCounter\n                    };\n                    idCounter += 1;\n                  }\n\n                  var entry = {\n                    id: currSeq.id,\n                    name: row[0],\n                    length: +row[1],\n                    start: 0,\n                    end: +row[1],\n                    offset: +row[2],\n                    lineLength: +row[3],\n                    lineBytes: +row[4]\n                  };\n                  indexByName[entry.name] = entry;\n                  indexById[entry.id] = entry;\n                });\n                return _context2.abrupt(\"return\", {\n                  name: indexByName,\n                  id: indexById\n                });\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _readFAI() {\n        return _readFAI2.apply(this, arguments);\n      }\n\n      return _readFAI;\n    }()\n    /**\n     * @returns {array[string]} array of string sequence\n     * names that are present in the index, in which the\n     * array index indicates the sequence ID, and the value\n     * is the sequence name\n     */\n\n  }, {\n    key: \"getSequenceNames\",\n    value: function () {\n      var _getSequenceNames = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.t0 = Object;\n                _context3.next = 3;\n                return this._getIndexes();\n\n              case 3:\n                _context3.t1 = _context3.sent.name;\n                return _context3.abrupt(\"return\", _context3.t0.keys.call(_context3.t0, _context3.t1));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getSequenceNames() {\n        return _getSequenceNames.apply(this, arguments);\n      }\n\n      return getSequenceNames;\n    }()\n    /**\n     * @returns {array[string]} array of string sequence\n     * names that are present in the index, in which the\n     * array index indicates the sequence ID, and the value\n     * is the sequence name\n     */\n\n  }, {\n    key: \"getSequenceSizes\",\n    value: function () {\n      var _getSequenceSizes = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {\n        var returnObject, idx, vals, i;\n        return _regenerator.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                returnObject = {};\n                _context4.next = 3;\n                return this._getIndexes();\n\n              case 3:\n                idx = _context4.sent;\n                vals = Object.values(idx.id);\n\n                for (i = 0; i < vals.length; i += 1) {\n                  returnObject[vals[i].name] = vals[i].length;\n                }\n\n                return _context4.abrupt(\"return\", returnObject);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getSequenceSizes() {\n        return _getSequenceSizes.apply(this, arguments);\n      }\n\n      return getSequenceSizes;\n    }()\n    /**\n     * @returns {array[string]} array of string sequence\n     * names that are present in the index, in which the\n     * array index indicates the sequence ID, and the value\n     * is the sequence name\n     */\n\n  }, {\n    key: \"getSequenceSize\",\n    value: function () {\n      var _getSequenceSize = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(seqName) {\n        var idx;\n        return _regenerator.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                idx = _context5.sent;\n                return _context5.abrupt(\"return\", (idx.name[seqName] || {}).length);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getSequenceSize(_x) {\n        return _getSequenceSize.apply(this, arguments);\n      }\n\n      return getSequenceSize;\n    }()\n    /**\n     *\n     * @param {string} name\n     * @returns {Promise[boolean]} true if the file contains the given reference sequence name\n     */\n\n  }, {\n    key: \"hasReferenceSequence\",\n    value: function () {\n      var _hasReferenceSequence = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(name) {\n        return _regenerator.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                _context6.t0 = name;\n                return _context6.abrupt(\"return\", !!_context6.sent.name[_context6.t0]);\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function hasReferenceSequence(_x2) {\n        return _hasReferenceSequence.apply(this, arguments);\n      }\n\n      return hasReferenceSequence;\n    }()\n    /**\n     *\n     * @param {number} seqId\n     * @param {number} min\n     * @param {number} max\n     */\n\n  }, {\n    key: \"getResiduesById\",\n    value: function () {\n      var _getResiduesById = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(seqId, min, max) {\n        var indexEntry;\n        return _regenerator.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                _context7.t0 = seqId;\n                indexEntry = _context7.sent.id[_context7.t0];\n\n                if (indexEntry) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", undefined);\n\n              case 6:\n                return _context7.abrupt(\"return\", this._fetchFromIndexEntry(indexEntry, min, max));\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getResiduesById(_x3, _x4, _x5) {\n        return _getResiduesById.apply(this, arguments);\n      }\n\n      return getResiduesById;\n    }()\n    /**\n     * @param {string} seqName\n     * @param {number} min\n     * @param {number} max\n     */\n\n  }, {\n    key: \"getResiduesByName\",\n    value: function () {\n      var _getResiduesByName = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(seqName, min, max) {\n        var indexEntry;\n        return _regenerator.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this._getIndexes();\n\n              case 2:\n                _context8.t0 = seqName;\n                indexEntry = _context8.sent.name[_context8.t0];\n\n                if (indexEntry) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", undefined);\n\n              case 6:\n                return _context8.abrupt(\"return\", this._fetchFromIndexEntry(indexEntry, min, max));\n\n              case 7:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getResiduesByName(_x6, _x7, _x8) {\n        return _getResiduesByName.apply(this, arguments);\n      }\n\n      return getResiduesByName;\n    }()\n  }, {\n    key: \"getSequence\",\n    value: function () {\n      var _getSequence = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {\n        var _args9 = arguments;\n        return _regenerator.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", this.getResiduesByName.apply(this, _args9));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getSequence() {\n        return _getSequence.apply(this, arguments);\n      }\n\n      return getSequence;\n    }()\n  }, {\n    key: \"_fetchFromIndexEntry\",\n    value: function () {\n      var _fetchFromIndexEntry2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10(indexEntry) {\n        var min,\n            max,\n            end,\n            position,\n            readlen,\n            residues,\n            _args10 = arguments;\n        return _regenerator.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                min = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : 0;\n                max = _args10.length > 2 ? _args10[2] : undefined;\n                end = max;\n\n                if (!(min < 0)) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                throw new TypeError('regionStart cannot be less than 0');\n\n              case 5:\n                if (end === undefined || end > indexEntry.length) {\n                  end = indexEntry.length;\n                }\n\n                if (!(min >= end)) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", '');\n\n              case 8:\n                position = _faiOffset(indexEntry, min);\n                readlen = _faiOffset(indexEntry, end) - position;\n\n                if (!(readlen > this.chunkSizeLimit)) {\n                  _context10.next = 12;\n                  break;\n                }\n\n                throw new Error(\"data size of \".concat(readlen.toLocaleString(), \" bytes exceeded chunk size limit of \").concat(this.chunkSizeLimit.toLocaleString(), \" bytes\"));\n\n              case 12:\n                residues = Buffer.allocUnsafe(readlen);\n                _context10.next = 15;\n                return this.fasta.read(residues, 0, readlen, position);\n\n              case 15:\n                residues = residues.toString('utf8').replace(/\\s+/g, '');\n                return _context10.abrupt(\"return\", residues);\n\n              case 17:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function _fetchFromIndexEntry(_x9) {\n        return _fetchFromIndexEntry2.apply(this, arguments);\n      }\n\n      return _fetchFromIndexEntry;\n    }()\n  }]);\n  return IndexedFasta;\n}();\n\nmodule.exports = IndexedFasta;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseSmallFasta = parseSmallFasta;\nObject.defineProperty(exports, \"BgzipIndexedFasta\", {\n  enumerable: true,\n  get: function get() {\n    return _bgzipIndexedFasta.default;\n  }\n});\nObject.defineProperty(exports, \"IndexedFasta\", {\n  enumerable: true,\n  get: function get() {\n    return _indexedFasta.default;\n  }\n});\nexports.FetchableSmallFasta = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toArray\"));\n\nvar _localFile = _interopRequireDefault(require(\"./localFile\"));\n\nvar _bgzipIndexedFasta = _interopRequireDefault(require(\"./bgzipIndexedFasta\"));\n\nvar _indexedFasta = _interopRequireDefault(require(\"./indexedFasta\"));\n\nfunction parseSmallFasta(text) {\n  return text.split('>').filter(function (t) {\n    return /\\S/.test(t);\n  }).map(function (entryText) {\n    var _entryText$split = entryText.split('\\n'),\n        _entryText$split2 = (0, _toArray2.default)(_entryText$split),\n        defLine = _entryText$split2[0],\n        seqLines = _entryText$split2.slice(1);\n\n    var _defLine$split = defLine.split(' '),\n        _defLine$split2 = (0, _toArray2.default)(_defLine$split),\n        id = _defLine$split2[0],\n        description = _defLine$split2.slice(1);\n\n    var sequence = seqLines.join('').replace(/\\s/g, '');\n    return {\n      id: id,\n      description: description.join(' '),\n      sequence: sequence\n    };\n  });\n} // memoized\n\n\nvar FetchableSmallFasta = /*#__PURE__*/function () {\n  function FetchableSmallFasta(_ref) {\n    var fasta = _ref.fasta,\n        path = _ref.path;\n    (0, _classCallCheck2.default)(this, FetchableSmallFasta);\n\n    if (fasta) {\n      this.fasta = fasta;\n    } else if (path) {\n      this.fasta = new _localFile.default(path);\n    }\n\n    this.data = this.fasta.readFile().then(function (buffer) {\n      var text = buffer.toString('utf8');\n      return parseSmallFasta(text);\n    });\n  }\n\n  (0, _createClass2.default)(FetchableSmallFasta, [{\n    key: \"fetch\",\n    value: function () {\n      var _fetch = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(id, start, end) {\n        var data, entry, length;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.data;\n\n              case 2:\n                data = _context.sent;\n                entry = data.find(function (iter) {\n                  return iter.id === id;\n                });\n                length = end - start;\n\n                if (entry) {\n                  _context.next = 7;\n                  break;\n                }\n\n                throw new Error(\"no sequence with id \".concat(id, \" exists\"));\n\n              case 7:\n                return _context.abrupt(\"return\", entry.sequence.substr(start, length));\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetch(_x, _x2, _x3) {\n        return _fetch.apply(this, arguments);\n      }\n\n      return fetch;\n    }()\n  }, {\n    key: \"getSequenceNames\",\n    value: function () {\n      var _getSequenceNames = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var data;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.data;\n\n              case 2:\n                data = _context2.sent;\n                return _context2.abrupt(\"return\", data.map(function (entry) {\n                  return entry.id;\n                }));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getSequenceNames() {\n        return _getSequenceNames.apply(this, arguments);\n      }\n\n      return getSequenceNames;\n    }()\n  }]);\n  return FetchableSmallFasta;\n}();\n\nexports.FetchableSmallFasta = FetchableSmallFasta;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* global window self */\n\nvar isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n/* eslint-disable no-restricted-globals */\nvar isWebWorker = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) === 'object' && self.constructor && self.constructor.name === 'DedicatedWorkerGlobalScope';\n/* eslint-enable no-restricted-globals */\n\nvar isNode = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n\n/**\n * @see https://github.com/jsdom/jsdom/releases/tag/12.0.0\n * @see https://github.com/jsdom/jsdom/issues/1537\n */\n/* eslint-disable no-undef */\nvar isJsDom = function isJsDom() {\n  return typeof window !== 'undefined' && window.name === 'nodejs' || navigator.userAgent.includes('Node.js') || navigator.userAgent.includes('jsdom');\n};\n\nexports.isBrowser = isBrowser;\nexports.isWebWorker = isWebWorker;\nexports.isNode = isNode;\nexports.isJsDom = isJsDom;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _bgzfFilehandle = require(\"@gmod/bgzf-filehandle\");\n\nvar _indexedFasta = _interopRequireDefault(require(\"./indexedFasta\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar BgzipIndexedFasta = /*#__PURE__*/function (_IndexedFasta) {\n  (0, _inherits2.default)(BgzipIndexedFasta, _IndexedFasta);\n\n  var _super = _createSuper(BgzipIndexedFasta);\n\n  function BgzipIndexedFasta(_ref) {\n    var _this;\n\n    var fasta = _ref.fasta,\n        path = _ref.path,\n        fai = _ref.fai,\n        faiPath = _ref.faiPath,\n        gzi = _ref.gzi,\n        gziPath = _ref.gziPath,\n        chunkSizeLimit = _ref.chunkSizeLimit;\n    (0, _classCallCheck2.default)(this, BgzipIndexedFasta);\n    _this = _super.call(this, {\n      fasta: fasta,\n      path: path,\n      fai: fai,\n      faiPath: faiPath,\n      chunkSizeLimit: chunkSizeLimit\n    });\n\n    if (fasta && gzi) {\n      _this.fasta = new _bgzfFilehandle.BgzfFilehandle({\n        filehandle: fasta,\n        gziFilehandle: gzi\n      });\n    } else if (path && gziPath) {\n      _this.fasta = new _bgzfFilehandle.BgzfFilehandle({\n        path: path,\n        gziPath: gziPath\n      });\n    }\n\n    return _this;\n  }\n\n  return BgzipIndexedFasta;\n}(_indexedFasta.default);\n\nmodule.exports = BgzipIndexedFasta;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","import { IndexedFasta } from '@gmod/indexedfasta'\nimport {\n  BaseFeatureDataAdapter,\n  SequenceAdapter,\n} from '@jbrowse/core/data_adapters/BaseAdapter'\nimport { FileLocation, NoAssemblyRegion } from '@jbrowse/core/util/types'\nimport { openLocation } from '@jbrowse/core/util/io'\nimport { ObservableCreate } from '@jbrowse/core/util/rxjs'\nimport SimpleFeature, { Feature } from '@jbrowse/core/util/simpleFeature'\nimport { readConfObject } from '@jbrowse/core/configuration'\nimport { AnyConfigurationModel } from '@jbrowse/core/configuration/configurationSchema'\nimport AbortablePromiseCache from 'abortable-promise-cache'\nimport LRU from '@jbrowse/core/util/QuickLRU'\n\nexport default class extends BaseFeatureDataAdapter implements SequenceAdapter {\n  protected fasta: typeof IndexedFasta\n\n  private seqCache = new AbortablePromiseCache({\n    cache: new LRU({ maxSize: 200 }),\n    fill: async (\n      args: { refName: string; start: number; end: number },\n      // abortSignal?: AbortSignal,\n    ) => {\n      const { refName, start, end } = args\n      return this.fasta.getSequence(refName, start, end)\n    },\n  })\n\n  public constructor(config: AnyConfigurationModel) {\n    super(config)\n    const fastaLocation = readConfObject(config, 'fastaLocation')\n    const faiLocation = readConfObject(config, 'faiLocation')\n    if (!fastaLocation) {\n      throw new Error('must provide fastaLocation')\n    }\n    if (!faiLocation) {\n      throw new Error('must provide faiLocation')\n    }\n    const fastaOpts = {\n      fasta: openLocation(fastaLocation as FileLocation),\n      fai: openLocation(faiLocation as FileLocation),\n    }\n\n    this.fasta = new IndexedFasta(fastaOpts)\n  }\n\n  public getRefNames() {\n    return this.fasta.getSequenceNames()\n  }\n\n  public async getRegions(): Promise<NoAssemblyRegion[]> {\n    const seqSizes = await this.fasta.getSequenceSizes()\n    return Object.keys(seqSizes).map(\n      (refName: string): NoAssemblyRegion => ({\n        refName,\n        start: 0,\n        end: seqSizes[refName],\n      }),\n    )\n  }\n\n  /**\n   * Fetch features for a certain region\n   * @param param -\n   * @returns Observable of Feature objects in the region\n   */\n  public getFeatures({ refName, start, end }: NoAssemblyRegion) {\n    return ObservableCreate<Feature>(async observer => {\n      const size = await this.fasta.getSequenceSize(refName)\n      const regionEnd = size !== undefined ? Math.min(size, end) : end\n      const chunks = []\n      const chunkSize = 128000\n\n      const s = start - (start % chunkSize)\n      const e = end + (chunkSize - (end % chunkSize))\n      for (let chunkStart = s; chunkStart < e; chunkStart += chunkSize) {\n        const r = {\n          refName,\n          start: chunkStart,\n          end: chunkStart + chunkSize,\n        }\n        chunks.push(this.seqCache.get(JSON.stringify(r), r))\n      }\n      const seq = (await Promise.all(chunks))\n        .join('')\n        .slice(start - s)\n        .slice(0, end - start)\n      if (seq) {\n        observer.next(\n          new SimpleFeature({\n            id: `${refName} ${start}-${regionEnd}`,\n            data: { refName, start, end: regionEnd, seq },\n          }),\n        )\n      }\n      observer.complete()\n    })\n  }\n\n  /**\n   * called to provide a hint that data tied to a certain region\n   * will not be needed for the forseeable future and can be purged\n   * from caches, etc\n   */\n  public freeResources(/* { region } */): void {}\n}\n","import { BgzipIndexedFasta } from '@gmod/indexedfasta'\nimport { FileLocation } from '@jbrowse/core/util/types'\nimport { openLocation } from '@jbrowse/core/util/io'\nimport { Instance } from 'mobx-state-tree'\nimport { readConfObject } from '@jbrowse/core/configuration'\nimport IndexedFasta from '../IndexedFastaAdapter/IndexedFastaAdapter'\nimport MyConfigSchema from './configSchema'\n\nexport default class extends IndexedFasta {\n  public constructor(config: Instance<typeof MyConfigSchema>) {\n    super(config)\n    const fastaLocation = readConfObject(config, 'fastaLocation')\n    const faiLocation = readConfObject(config, 'faiLocation')\n    const gziLocation = readConfObject(config, 'gziLocation')\n    if (!fastaLocation) {\n      throw new Error('must provide fastaLocation')\n    }\n    if (!faiLocation) {\n      throw new Error('must provide faiLocation')\n    }\n    if (!gziLocation) {\n      throw new Error('must provide gziLocation')\n    }\n    const fastaOpts = {\n      fasta: openLocation(fastaLocation as FileLocation),\n      fai: openLocation(faiLocation as FileLocation),\n      gzi: openLocation(gziLocation as FileLocation),\n    }\n\n    this.fasta = new BgzipIndexedFasta(fastaOpts)\n  }\n}\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;"],"sourceRoot":""}