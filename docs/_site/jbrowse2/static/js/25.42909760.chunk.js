(this["webpackJsonp@jbrowse/web"]=this["webpackJsonp@jbrowse/web"]||[]).push([[25],{2384:function(e,t,a){"use strict";var n=a(92),r=a(444);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(1)),l=(0,n(a(2385)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=l},2385:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=a(106)},2551:function(e,t,a){"use strict";a.r(t);var n=a(149),r=a(411),c=a(88),l=a(101),i=a(82),o=a(1),s=a.n(o),u=a(2435),f=a(2434),m=a(2529),p=a(2412),d=a(2476),b=a(2423),v=a(2447),h=a(135),O=a(678),g=a(85),j=a(84),w=a(89),E=a(479),y=a(51),k=a(2454),S=a(2457),C=a(2427),P=a(2458),M=a(2463),N=a(2437),T=a(2384),F=a.n(T),L=Object(y.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},block:{display:"block"}}}));var A=Object(g.observer)((function(e){var t=e.model,a=e.handleClose,n=e.feature,r=e.viewType,c=L(),l=Object(o.useState)(!0),u=Object(i.a)(l,2),p=u[0],d=u[1],b=Object(o.useState)(!0),h=Object(i.a)(b,2),O=h[0],g=h[1];return s.a.createElement(k.a,{open:!0,onClose:a},s.a.createElement(S.a,null,"Breakpoint split view options",a?s.a.createElement(C.a,{className:c.closeButton,onClick:function(){a()}},s.a.createElement(F.a,null)):null),s.a.createElement(v.a,null),s.a.createElement(P.a,null,s.a.createElement(f.a,{className:c.block,control:s.a.createElement(m.a,{checked:p,onChange:function(){return d((function(e){return!e}))}}),label:"Copy tracks into the new view"}),s.a.createElement(f.a,{className:c.block,control:s.a.createElement(m.a,{checked:O,onChange:function(){return g((function(e){return!e}))}}),label:"Mirror tracks vertically in vertically stacked view"})),s.a.createElement(M.a,null,s.a.createElement(N.a,{onClick:function(){var e=t.view,c=Object(j.getSession)(t),l=r.snapshotFromBreakendFeature(n,e);l.views[0].offsetPx-=e.width/2+100,l.views[1].offsetPx-=e.width/2+100,l.featureData=n;var i=Object(w.getSnapshot)(e.tracks);l.views[0].tracks=i,l.views[1].tracks=O?i.slice().reverse():i,c.addView("BreakpointSplitView",l),a()},variant:"contained",color:"primary",autoFocus:!0},"OK"),s.a.createElement(N.a,{onClick:function(){a()},color:"secondary",variant:"contained",autoFocus:!0},"Cancel")))}));function B(e){var t=Object(o.useState)({}),a=Object(i.a)(t,2),n=a[0],d=a[1],b=Object(o.useState)(!1),v=Object(i.a)(b,2),h=v[0],g=v[1],j=e.feature.samples,w=void 0===j?{}:j,y=Object.entries(w);if(!y.length)return null;var k,S=["sample"].concat(Object(l.a)(Object.keys(y[0][1]))).map((function(e){return{field:e}})),C=[],P=Object.keys(n);try{C=y.map((function(e){return Object(c.a)(Object(c.a)({},Object.fromEntries(Object.entries(e[1]).map((function(e){return[e[0],String(e[1])]})))),{},{sample:e[0],id:e[0]})})).filter((function(e){return!P.length||P.every((function(t){var a=e[t],r=n[t];return!r||a.match(new RegExp(r,"i"))}))}))}catch(M){k=M}return s.a.createElement(E.BaseCard,Object.assign({},e,{title:"Samples"}),k?s.a.createElement(u.a,{color:"error"},"".concat(k)):null,s.a.createElement(f.a,{control:s.a.createElement(m.a,{checked:h,onChange:function(){return g((function(e){return!e}))}}),label:"Show sample filters"}),h?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"),S.map((function(e){var t=e.field;return s.a.createElement(p.a,{key:"filter-".concat(t),placeholder:"Filter ".concat(t),value:n[t]||"",onChange:function(e){return d(Object(c.a)(Object(c.a)({},n),{},Object(r.a)({},t,e.target.value)))}})}))):null,s.a.createElement("div",{style:{height:600,width:"100%",overflow:"auto"}},s.a.createElement(O.DataGrid,{rows:C,columns:S,rowHeight:20,headerHeight:25,disableSelectionOnClick:!0,disableColumnMenu:!0})))}function D(e){var t,a=e.model,n=e.locStrings,r=e.feature,c=Object(j.getSession)(a),l=Object(w.getEnv)(c).pluginManager,f=Object(o.useState)(!1),m=Object(i.a)(f,2),p=m[0],b=m[1];try{t=l.getViewType("BreakpointSplitView")}catch(O){}var v=new h.a(r);return s.a.createElement(E.BaseCard,Object.assign({},e,{title:"Breakends"}),s.a.createElement(u.a,null,"Link to linear view of breakend endpoints"),s.a.createElement("ul",null,n.map((function(e,t){return s.a.createElement("li",{key:"".concat(JSON.stringify(e),"-").concat(t)},s.a.createElement(d.a,{href:"#",onClick:function(){var t,n=a.view;n?null===(t=n.navToLocString)||void 0===t||t.call(n,e):c.notify("No view associated with this feature detail panel anymore","warning")}},"LGV - ".concat(e)))}))),t?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,"Launch split views with breakend source and target"),s.a.createElement("ul",null,n.map((function(e,t){return s.a.createElement("li",{key:"".concat(JSON.stringify(e),"-").concat(t)},s.a.createElement(d.a,{href:"#",onClick:function(){b(!0)}},"".concat(r.refName,":").concat(r.start," // ").concat(e," (split view)")))}))),p?s.a.createElement(A,{model:a,feature:v,viewType:t,handleClose:function(){b(!1)}}):null):null)}t.default=Object(g.observer)((function(e){var t,a=e.model,r=a.featureData,l=a.descriptions,i=JSON.parse(JSON.stringify(r)),o=(i.samples,Object(n.a)(i,["samples"]));return s.a.createElement(b.a,{"data-testid":"variant-side-drawer"},s.a.createElement(E.FeatureDetails,Object.assign({feature:Object(c.a)(Object(c.a)({},o),{},{ALT:null===(t=o.ALT)||void 0===t?void 0:t.map((function(e){return function(e){if("string"===typeof e)return e;var t="left"===e.MateDirection?"]":"[";return"left"===e.Join?"".concat(t).concat(e.MatePosition).concat(t).concat(e.Replacement):"".concat(e.Replacement).concat(t).concat(e.MatePosition).concat(t)}(e)}))}),descriptions:Object(c.a)(Object(c.a)({},{CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:" alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"}),l)},e)),s.a.createElement(v.a,null),"breakend"===i.type?s.a.createElement(D,{feature:i,locStrings:i.ALT.map((function(e){return e.MatePosition})),model:a}):null,"translocation"===i.type?s.a.createElement(D,{feature:i,model:a,locStrings:["".concat(i.INFO.CHR2[0],":").concat(i.INFO.END)]}):null,s.a.createElement(B,Object.assign({feature:i},e)))}))},444:function(e,t,a){var n=a(433);function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var i=c?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,t&&t.set(e,a),a}}}]);
//# sourceMappingURL=25.42909760.chunk.js.map