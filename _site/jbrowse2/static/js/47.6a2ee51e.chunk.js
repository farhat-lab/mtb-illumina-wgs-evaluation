(this["webpackJsonp@jbrowse/web"]=this["webpackJsonp@jbrowse/web"]||[]).push([[47],{2510:function(e,r,t){"use strict";t.r(r);var a=t(87),n=t.n(a),o=t(91),c=t(82),i=t(84),s=t(129),l=t(2437),p=t(2423),d=t(51),u=t(218),g=t(2435),m=t(85),b=t(1),h=t.n(b),f=t(2400),v=t(2358),y=t.n(v),x=t(2359),E=t.n(x),j=512*Math.pow(1024,2);function O(e,r){return function(t){return r[t[e]]}}var w=Object(d.a)((function(e){return{root:{margin:e.spacing(1)},paper:{display:"flex",flexDirection:"column"},dropZone:{textAlign:"center",margin:e.spacing(2),padding:e.spacing(2),borderWidth:2,borderRadius:2,borderColor:O("isDragActive",{true:e.palette.secondary.light,false:e.palette.divider}),borderStyle:"dashed",backgroundColor:O("isDragActive",{true:Object(u.fade)(e.palette.text.primary,e.palette.action.hoverOpacity),false:e.palette.background.default}),outline:"none",transition:"border .24s ease-in-out","&:focus":{borderColor:e.palette.secondary.light}},uploadIcon:{color:e.palette.text.secondary},rejectedFiles:{marginTop:e.spacing(4)},listItem:{padding:e.spacing(0,4)},expandIcon:{color:"#FFFFFF"},error:{margin:e.spacing(2)},errorHeader:{background:e.palette.error.light,color:e.palette.error.contrastText,padding:e.spacing(2),textAlign:"center"},errorMessage:{padding:e.spacing(2)}}}));r.default=Object(m.observer)((function(e){var r=Object(b.useState)(""),t=Object(c.a)(r,2),a=t[0],d=t[1],u=e.model,m=Object(f.a)({accept:"application/json",maxSize:j,multiple:!1,onDrop:function(){var e=Object(o.a)(n.a.mark((function e(r,t){var a,o,l,p,g,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=3;break}return r.length||t.length>1?d("Only one session at a time may be imported"):t[0].size>j?d("File size is too large (".concat(Math.round(t[0].size/Math.pow(1024,2))," MiB), max size is ").concat(j/Math.pow(1024,2)," MiB")):"application/json"!==t[0].type?d("File does not appear to be JSON"):d("Unknown file import error"),e.abrupt("return");case 3:return a=Object(c.a)(r,1),o=a[0],l=Object(s.openLocation)({blob:o}),e.prev=5,e.next=8,l.readFile("utf8");case 8:p=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),console.error(e.t0),d("Problem opening file ".concat(o.path,": ").concat(e.t0)),e.abrupt("return");case 16:try{g=JSON.parse(p).session}catch(n){console.error(n),g={error:"Error parsing ".concat(o.path,": ").concat(n)}}m=Object(i.getSession)(u);try{m.setSession(g)}catch(n){console.error(n),d("Error activating session: ".concat(n," "))}case 19:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(r,t){return e.apply(this,arguments)}}()}),v=m.getRootProps,x=m.getInputProps,O=m.isDragActive,F=w({isDragActive:O});return h.a.createElement("div",{className:F.root},h.a.createElement(p.a,{className:F.paper},h.a.createElement("div",v({className:F.dropZone}),h.a.createElement("input",x()),h.a.createElement(y.a,{className:F.uploadIcon,fontSize:"large"}),h.a.createElement(g.a,{color:"textSecondary",align:"center",variant:"body1"},"Drag and drop files here"),h.a.createElement(g.a,{color:"textSecondary",align:"center",variant:"body2"},"or"),h.a.createElement(l.a,{color:"primary",variant:"contained"},"Browse Files"))),a?h.a.createElement(p.a,{className:F.error},h.a.createElement("div",{className:F.errorHeader},h.a.createElement(E.a,{color:"inherit",fontSize:"large"}),h.a.createElement("div",null,h.a.createElement(g.a,{variant:"h6",color:"inherit",align:"center"},"Import error"))),h.a.createElement(g.a,{className:F.errorMessage},a)):null)}))}}]);
//# sourceMappingURL=47.6a2ee51e.chunk.js.map