{"version":3,"sources":["../../../node_modules/@gmod/cram/dist/cramFile/index.js","../../../node_modules/@babel/runtime-corejs3/core-js/object/set-prototype-of.js","../../../node_modules/@babel/runtime-corejs3/core-js/object/create.js","../../../node_modules/@babel/runtime-corejs3/core-js/reflect/construct.js","../../../node_modules/charenc/charenc.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/object/values.js","../../../node_modules/core-js-pure/internals/object-to-array.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js","../../../node_modules/@babel/runtime-corejs3/core-js/array/is-array.js","../../../node_modules/@babel/runtime-corejs3/helpers/arrayLikeToArray.js","../../../node_modules/@babel/runtime-corejs3/helpers/iterableToArray.js","../../../node_modules/@babel/runtime-corejs3/core-js/array/from.js","../../../node_modules/@babel/runtime-corejs3/core-js/is-iterable.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/number/parse-int.js","../../../node_modules/@babel/runtime-corejs3/helpers/arrayWithHoles.js","../../../node_modules/@babel/runtime-corejs3/helpers/nonIterableRest.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/parse-int.js","../../../node_modules/@gmod/cram/dist/io/index.js","../../../node_modules/@gmod/cram/node_modules/abortable-promise-cache/dist/abortcontroller-ponyfill.js","../../../node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js","../../../node_modules/@babel/runtime-corejs3/helpers/classCallCheck.js","../../../node_modules/@gmod/cram/dist/errors.js","../../../node_modules/@babel/runtime-corejs3/helpers/createClass.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js","../../../node_modules/@gmod/cram/dist/index.js","../../../node_modules/@gmod/cram/dist/cramFile/file.js","../../../node_modules/@babel/runtime-corejs3/core-js/promise.js","../../../node_modules/@babel/runtime-corejs3/core-js/object/define-property.js","../../../node_modules/@babel/runtime-corejs3/helpers/typeof.js","../../../node_modules/@babel/runtime-corejs3/core-js/symbol/iterator.js","../../../node_modules/@babel/runtime-corejs3/helpers/assertThisInitialized.js","../../../node_modules/@babel/runtime-corejs3/core-js/object/get-prototype-of.js","../../../node_modules/@babel/runtime-corejs3/helpers/wrapNativeSuper.js","../../../node_modules/@babel/runtime-corejs3/core-js/map.js","../../../node_modules/core-js-pure/features/map/index.js","../../../node_modules/core-js-pure/es/map/index.js","../../../node_modules/core-js-pure/modules/es.map.js","../../../node_modules/core-js-pure/internals/collection-strong.js","../../../node_modules/core-js-pure/modules/esnext.map.from.js","../../../node_modules/core-js-pure/modules/esnext.map.of.js","../../../node_modules/core-js-pure/modules/esnext.map.delete-all.js","../../../node_modules/core-js-pure/modules/esnext.map.every.js","../../../node_modules/core-js-pure/modules/esnext.map.filter.js","../../../node_modules/core-js-pure/modules/esnext.map.find.js","../../../node_modules/core-js-pure/modules/esnext.map.find-key.js","../../../node_modules/core-js-pure/modules/esnext.map.group-by.js","../../../node_modules/core-js-pure/modules/esnext.map.includes.js","../../../node_modules/core-js-pure/internals/same-value-zero.js","../../../node_modules/core-js-pure/modules/esnext.map.key-by.js","../../../node_modules/core-js-pure/modules/esnext.map.key-of.js","../../../node_modules/core-js-pure/modules/esnext.map.map-keys.js","../../../node_modules/core-js-pure/modules/esnext.map.map-values.js","../../../node_modules/core-js-pure/modules/esnext.map.merge.js","../../../node_modules/core-js-pure/modules/esnext.map.reduce.js","../../../node_modules/core-js-pure/modules/esnext.map.some.js","../../../node_modules/core-js-pure/modules/esnext.map.update.js","../../../node_modules/core-js-pure/modules/esnext.map.upsert.js","../../../node_modules/core-js-pure/modules/esnext.map.update-or-insert.js","../../../node_modules/@babel/runtime-corejs3/helpers/isNativeFunction.js","../../../node_modules/@babel/runtime-corejs3/core-js/instance/index-of.js","../../../node_modules/@babel/runtime-corejs3/helpers/construct.js","../../../node_modules/@babel/runtime-corejs3/core-js/instance/bind.js","../../../node_modules/core-js-pure/features/instance/bind.js","../../../node_modules/core-js-pure/features/reflect/construct.js","../../../node_modules/@babel/runtime-corejs3/helpers/isNativeReflectConstruct.js","../../../node_modules/@gmod/cram/dist/rans/index.js","../../../node_modules/core-js-pure/stable/instance/fill.js","../../../node_modules/core-js-pure/es/instance/fill.js","../../../node_modules/core-js-pure/es/array/virtual/fill.js","../../../node_modules/core-js-pure/modules/es.array.fill.js","../../../node_modules/core-js-pure/internals/array-fill.js","../../../node_modules/@gmod/cram/dist/rans/frequencies.js","../../../node_modules/@gmod/cram/dist/rans/d04.js","../../../node_modules/@gmod/cram/dist/rans/d14.js","../../../node_modules/@gmod/cram/dist/cramFile/sectionParsers.js","../../../node_modules/@gmod/cram/dist/cramFile/container/index.js","../../../node_modules/md5/md5.js","../../../node_modules/crypt/crypt.js","../../../node_modules/is-buffer/index.js","../../../node_modules/@gmod/cram/dist/cramFile/slice/index.js","../../../node_modules/core-js-pure/stable/object/values.js","../../../node_modules/core-js-pure/es/object/values.js","../../../node_modules/core-js-pure/modules/es.object.values.js","../../../node_modules/@babel/runtime-corejs3/helpers/arrayWithoutHoles.js","../../../node_modules/@babel/runtime-corejs3/core-js/instance/slice.js","../../../node_modules/@babel/runtime-corejs3/helpers/nonIterableSpread.js","../../../node_modules/@gmod/cram/dist/cramFile/slice/decodeRecord.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/number/is-nan.js","../../../node_modules/core-js-pure/stable/number/is-nan.js","../../../node_modules/core-js-pure/es/number/is-nan.js","../../../node_modules/core-js-pure/modules/es.number.is-nan.js","../../../node_modules/core-js-pure/stable/number/parse-int.js","../../../node_modules/core-js-pure/es/number/parse-int.js","../../../node_modules/core-js-pure/modules/es.number.parse-int.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/number/min-safe-integer.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/number/max-safe-integer.js","../../../node_modules/@babel/runtime-corejs3/helpers/iterableToArrayLimit.js","../../../node_modules/@babel/runtime-corejs3/core-js/get-iterator.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js","../../../node_modules/core-js-pure/stable/instance/index-of.js","../../../node_modules/@gmod/cram/dist/cramFile/record.js","../../../node_modules/@gmod/cram/dist/cramFile/container/compressionScheme.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/index.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/huffman.js","../../../node_modules/core-js-pure/stable/object/entries.js","../../../node_modules/core-js-pure/es/object/entries.js","../../../node_modules/core-js-pure/modules/es.object.entries.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js","../../../node_modules/core-js-pure/stable/instance/includes.js","../../../node_modules/core-js-pure/es/instance/includes.js","../../../node_modules/core-js-pure/es/array/virtual/includes.js","../../../node_modules/core-js-pure/modules/es.array.includes.js","../../../node_modules/core-js-pure/es/string/virtual/includes.js","../../../node_modules/core-js-pure/modules/es.string.includes.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/external.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/byteArrayStop.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/byteArrayLength.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/beta.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/gamma.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/subexp.js","../../../node_modules/@gmod/cram/dist/io/remoteFile.js","../../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../../node_modules/@gmod/cram/dist/io/bufferCache.js","../../../node_modules/@gmod/cram/dist/io/localFile.js","../../../node_modules/@gmod/cram/dist/sam.js","../../../node_modules/@babel/runtime-corejs3/helpers/toArray.js","../../../node_modules/@gmod/cram/dist/indexedCramFile.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js","../../../node_modules/@gmod/cram/dist/craiIndex.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/some.js","../../../node_modules/core-js-pure/stable/instance/some.js","../../../node_modules/core-js-pure/es/instance/some.js","../../../node_modules/core-js-pure/es/array/virtual/some.js","../../../node_modules/core-js-pure/modules/es.array.some.js","../../../node_modules/@gmod/cram/node_modules/abortable-promise-cache/dist/index.js","../../../node_modules/@gmod/cram/node_modules/abortable-promise-cache/dist/AbortablePromiseCache.js","../../../node_modules/@gmod/cram/node_modules/abortable-promise-cache/dist/AggregateAbortController.js","../../../node_modules/core-js-pure/internals/get-map-iterator.js","../../../node_modules/@babel/runtime-corejs3/helpers/getPrototypeOf.js","../../../node_modules/@babel/runtime-corejs3/regenerator/index.js","../../../node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js","../../../node_modules/@babel/runtime-corejs3/helpers/possibleConstructorReturn.js","../../../node_modules/@babel/runtime-corejs3/helpers/inherits.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js","../../../node_modules/@gmod/cram/dist/cramFile/codecs/_base.js","../../../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js","../../../node_modules/@gmod/cram/dist/cramFile/util.js","../../../node_modules/@babel/runtime-corejs3/helpers/toConsumableArray.js","../../../node_modules/@gmod/cram/dist/rans/decoding.js","../../../node_modules/@gmod/cram/dist/rans/constants.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/object/assign.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/promise.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js","../../../node_modules/@babel/runtime-corejs3/core-js/symbol.js","../../../node_modules/@babel/runtime-corejs3/helpers/setPrototypeOf.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/fill.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/flags.js","../../../node_modules/@babel/runtime-corejs3/helpers/unsupportedIterableToArray.js","../../../node_modules/@gmod/cram/dist/cramFile/constants.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/object/entries.js","../../../node_modules/@babel/runtime-corejs3/core-js-stable/instance/sort.js"],"names":["CramFile","require","module","exports","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","length","push","charCodeAt","String","fromCharCode","join","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","O","keys","result","call","entries","values","arr","len","arr2","Array","_Array$from","_isIterable","_Symbol","iter","Object","_Array$isArray","TypeError","url","RemoteFile","LocalFile","fromUrl","source","_url$parse","parse","protocol","pathname","open","maybeUrl","maybePath","maybeFilehandle","Error","defineProperty","value","cjs_ponyfill_1","getGlobal","self","window","global","AbortController","AbortSignal","obj","__esModule","instance","Constructor","_interopRequireDefault","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_wrapNativeSuper2","CramError","_Error","default","this","apply","arguments","CramUnimplementedError","_Error2","CramMalformedError","_CramError","CramBufferOverrunError","_CramMalformedError","CramSizeLimitError","_CramError2","CramArgumentError","_CramError3","_Object$defineProperty","_defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","IndexedCramFile","CraiIndex","_context14","_forEach","_concat","_regenerator","_asyncToGenerator2","_createClass2","zlib","crc32","LRU","_require","rans","_require2","cramFileDefinitionParser","cramFileDefinition","_getSectionParsers","getSectionParsers","CramContainer","_require4","parseItem","tinyMemoize","parseHeaderText","args","file","path","filehandle","validateChecksums","fetchReferenceSequenceCallback","seqFetch","options","checkSequenceMD5","cacheSize","undefined","featureCache","maxSize","filename","buffer","offset","position","read","stat","_getDefinition","mark","_callee","headbytes","definition","wrap","_context","prev","next","Buffer","allocUnsafe","maxLength","parser","majorVersion","concat","abrupt","stop","_getSamHeader","_callee2","firstContainer","_ref","content","headerLength","text","_context2","getContainerById","sent","getFirstBlock","readInt32LE","toString","header","_getHeaderText","_callee3","_context3","getSamHeader","_getSectionParsers2","_callee4","_ref2","_context4","getDefinition","_getContainerById","_callee5","containerNumber","sectionParsers","_ref3","fileSize","cramContainerHeader1","currentContainer","currentHeader","j","block","_context5","size","getContainerAtPosition","getHeader","_endPosition","numBlocks","readBlock","_size","_x","_checkCrc","_callee6","recordedCrc32","description","b","calculatedCrc32","_context6","_context7","_context8","unsigned","_x2","_x3","_x4","_x5","_containerCount","_callee7","_ref4","containerCount","_context9","_readBlockHeader","_callee8","cramBlockHeader","_ref5","_context10","_x6","_parseSection2","_callee9","section","_context11","preReadBuffer","_ref6","data","_args9","_context12","_x7","_x8","compressionMethod","inputBuffer","outputBuffer","gunzipSync","copy","uncompress","_readBlock","_callee10","_ref7","blockContentPosition","uncompressedData","compressedData","crc","_context13","readBlockHeader","contentPosition","uncompressedSize","compressedSize","_uncompress","_parseSection","cramBlockCrc32","checkCrc32","_x9","split","method","_Symbol$iterator","_typeof","constructor","ReferenceError","_Object$create","_Map","getPrototypeOf","setPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","has","get","set","Wrapper","parent","Map","collection","collectionStrong","init","create","redefineAll","bind","anInstance","iterate","defineIterator","setSpecies","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","C","that","iterable","type","index","first","last","getInternalState","define","previous","state","entry","getEntry","removed","clear","forEach","callbackfn","boundFunction","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","done","$","from","of","IS_PURE","collectionDeleteAll","proto","real","forced","deleteAll","anObject","getMapIterator","every","map","iterator","stopped","getBuiltIn","aFunction","speciesConstructor","filter","newMap","setter","find","findKey","groupBy","keyDerivative","element","derivedKey","sameValueZero","includes","searchElement","x","y","keyBy","keyOf","mapKeys","mapValues","merge","reduce","noInitial","accumulator","some","update","callback","isPresentInMap","upsert","updateOrInsert","_indexOfInstanceProperty","fn","Function","_bindInstanceProperty","_Reflect$construct","isNativeReflectConstruct","_construct","Parent","a","Reflect","sham","Proxy","Date","e","_fill","Decoding","Frequencies","D04","D14","uncompressOrder0Way4","input","out","D","AriDecoder","syms","Symbol","readStatsO0","uncompressOrder1Way4","output","_i","readStatsO1","ByteBuffer","nodeBuffer","initialInputPosition","_buffer","_position","val","pos","order","inputSize","getInt","remaining","outputSize","fill","ArrayPrototype","own","entryVirtual","addToUnscopables","toObject","toAbsoluteIndex","toLength","argumentsLength","end","endPos","Constants","assert","cp","decoder","rle","fc","FC","F","symbolInit","R","TOTFREQ","getByteAt","rlei","rlej","RansDecSymbol","c","rans0","rans1","rans2","rans3","outputEnd","c0","TF_SHIFT","c1","c2","c3","putAt","advanceSymbolStep","renormalize","setPosition","advanceSymbol","put","rans7","isz4","i0","i1","i2","i7","l0","l1","l2","l7","c7","_c","_keys","_assign","Parser","singleItf8","itf8","string","uint8","stripNull","formatter","uint32","cramTagDictionary","makeTagSet","stringStart","stringEnd","tags","substr","tagSets","parseByteAsBool","cramPreservationMap","array","choice","tag","choices","MI","UI","PI","RN","AP","RR","SM","TD","nest","ents","formatMap","_data$ents$i","console","warn","unversionedParsers","versionedParsers","cramUnmappedSliceHeader","ltf8","numContentIds","cramMappedSliceHeader","cramEncoding","namely","0","1","2","3","start","4","5","6","7","8","9","cramDataSeriesEncodingMap","cramTagEncodingMap","integerRepresentation","cramCompressionHeader","int32","cramContainerHeader2","crcLength","numLandmarks","parsers","parserName","itf8Size","CramSlice","CramContainerCompressionScheme","cramFile","filePosition","_readContainerHeader","_getCompressionHeaderBlock","numRecords","contentType","_getFirstBlock","containerHeader","_getCompressionScheme","getCompressionHeaderBlock","slicePosition","sliceSize","_readContainerHeader2","bytes1","header1","numLandmarksSize","bytes2","header2","completeHeader","crypt","isBuffer","md5","message","encoding","slice","isArray","m","bytesToWords","l","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","endian","s","t","n","_blocksize","_digestsize","digestbytes","wordsToBytes","asBytes","asString","bytesToHex","base64map","rotl","rotr","Number","randomBytes","Math","floor","random","words","hex","hexToBytes","parseInt","bytesToBase64","base64","triplet","charAt","base64ToBytes","replace","imod4","indexOf","pow","readFloatLE","isSlowBuffer","_isBuffer","_context17","_values","_promise","_filter","_flags","_map","_toConsumableArray2","sequenceMD5","decodeRecord","associateIntraSliceMate","allRecords","currentRecordNumber","thisRecord","mateRecord","complicatedMultiSegment","mate","mateRecordNumber","readName","uniqueId","sequenceId","alignmentStart","flags","BAM_FPAIRED","BAM_FUNMAP","BAM_FMUNMAP","BAM_FREVERSE","BAM_FMREVERSE","templateLength","matedRecords","getAllMatedRecords","startRecord","records","starts","r","ends","readLength","estimatedTemplateLength","max","min","calculateMultiSegmentMatedTemplateLength","lengthEstimate","calculateIntraSliceMatePairTemplateLength","container","containerPosition","_getHeader","_contentType","_getBlocks","blockPosition","blocks","_getCoreDataBlock","getBlocks","_getBlocksContentIdIndex2","blocksByContentId","contentId","_getBlockByContentId","id","_getBlocksContentIdIndex","_getReferenceRegion","sliceHeader","compressionScheme","refBlock","seq","refSeqId","getCompressionScheme","refBaseBlockId","getBlockByContentId","span","refSeqStart","refSeqSpan","referenceRequired","getRecords","_fetchRecords2","refRegion","seqMd5","storedMd5","coreDataBlock","cursors","decodeDataSeries","_this","getReferenceRegion","byte","getCoreDataBlock","lastAlignmentStart","coreBlock","bitPosition","bytePosition","externalBlocks","getCursor","dataSeriesName","codec","getCodecForDataSeries","decode","recordCounter","t0","_getRecords","filterFunction","cacheKey","recordsPromise","singleRefId","_compressionScheme","refRegions","seqId","_i2","_seqId","_refRegion","_this2","_context16","_fetchRecords","t1","t2","t3","Infinity","lengthOnRef","all","_context15","addReferenceSequence","$values","arrayLikeToArray","_isNan","_slice","_parseInt","_minSafeInteger","_maxSafeInteger","_slicedToArray2","_indexOf","Long","CramRecord","readNullTerminatedStringFromBuffer","zeroOffset","parseTagData","tagType","fromBytesLE","greaterThan","lessThan","toNumber","readInt16LE","readUInt16LE","readInt8","readUInt8","arrayType","schema","S","I","_schema","getMethod","itemSize","parseTagValueArray","thingToString","thing","termIndex","recordNumber","cramRecord","cramFlags","APdelta","readGroupId","readNamesIncluded","isDetached","templateSize","CRAM_M_UNMAP","CRAM_M_REVERSE","hasMateDownStream","TLindex","TN","getTagNames","ntags","tagId","tagName","tagCodec","getCodecForTag","tagData","isSegmentUnmapped","isUnknownBases","readBases","qualityScores","_bases","isPreservingQualityScores","_i3","readFeatureCount","readFeatures","currentReadPos","currentRefPos","decodeRFData","toArray","code","readPosDelta","readFeature","data1Schema","B","X","q","Q","H","P","N","data2Schema","refPos","decodeReadFeatures","mappingQuality","bases","isNaN","number","_getIterator","_arr","_n","_d","_e","_s","err","baseNumbers","A","g","G","T","BAM_FPROPER_PAIR","BAM_FREAD1","BAM_FREAD2","BAM_FSECONDARY","BAM_FQCFAIL","BAM_FDUP","BAM_FSUPPLEMENTARY","CRAM_FLAG_DETACHED","CRAM_FLAG_MATE_DOWNSTREAM","CRAM_FLAG_PRESERVE_QUAL_SCORES","CRAM_FLAG_NO_SEQ","regionSeqOffset","toUpperCase","regionPos","currentReadFeature","feature","ret","added","sub","chunk","_chunk","decodeReadSequence","isPaired","isMateUnmapped","s1","isReverseComplemented","s2","isMateReverseComplemented","o1","o2","isRead1","isRead2","tmp","isize","refCoord","refBase","ref","baseNumber","base","substitutionMatrix","decodeBaseSubstitution","k","getReadBases","instantiateCodec","dataSeriesTypes","BF","CF","RI","RL","RG","MF","NS","NP","TS","NF","TC","FN","FP","BS","IN","SC","DL","BA","BB","RS","PD","HC","MQ","QS","QQ","TL","TM","TV","preservation","tagIdsDictionary","byteArray","matrix","parseSubstitutionMatrix","dataSeriesCodecCache","tagCodecCache","encodingData","tagEncoding","tagListId","dataSeriesEncoding","dataType","test","HuffmanIntCodec","ExternalCodec","ByteArrayStopCodec","ByteArrayLengthCodec","BetaCodec","GammaCodec","codecClasses","getCodecClassWithId","CodecClass","codecId","parameters","_parseInt2","_entries","_sort","_includes","_CramCodec","buildCodeBook","buildCodes","buildCaches","sortedCodes","bitLength","_decode","_decodeZeroLengthCode","codes","numCodes","symbol","symbols","bitLengths","codeBook","_this3","codeLength","codeValue","delta","bitCode","ii","numberOfSetBits","sortedByValue","sortedValuesByBitCode","sortedBitCodes","sortedBitLengthsByBitCode","maxBitCode","bitCodeToValue","coreCursor","prevLen","bits","_getBits","$entries","arrayIncludes","stringIncludes","StringPrototype","$includes","arrayMethodUsesToLength","ACCESSORS","el","notARegExp","requireObjectCoercible","correctIsRegExpLogic","searchString","CramCodec","parseItf8","_decodeData","_decodeInt","_decodeByte","blockContentId","contentBlock","cursor","_parseItf","_parseItf2","bytesRead","_decodeByteArray","dataBuffer","stopByte","startPosition","stopPosition","arrayLength","_getLengthCodec","dataCodec","_getDataCodec","encodingParams","lengthsEncoding","valuesEncoding","SubexpCodec","numLeadingOnes","K","fetch","BufferCache","cache","_fetch","_fetch2","headers","response","sizeMatch","range","redirect","mode","status","arrayBuffer","exec","_stat","readPosition","_readFile","buf","__self__","root","DOMException","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","name","toLowerCase","normalizeValue","iteratorFor","items","shift","Headers","append","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","view","Uint8Array","byteLength","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","then","readAsText","readBlobAsText","chars","readArrayBufferAsText","formData","json","JSON","oldValue","hasOwnProperty","thisArg","methods","Request","credentials","signal","upcased","normalizeMethod","referrer","form","trim","parseHeaders","rawHeaders","line","parts","Response","bodyInit","ok","statusText","clone","redirectStatuses","RangeError","location","stack","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","_ref$size","_ref$chunkSize","chunkSize","lruCache","_get","firstChunk","lastChunk","fetches","_loop","chunks","chunksOffset","_getChunk","chunkNumber","chunkPositionStart","copyStart","copyEnd","copyOffset","cachedPromise","freshPromise","fs","promisify","fsOpen","fd","_read","_args","t4","t5","_toArray2","lines","_line$split","_line$split2","fields","parsedFields","_f$split","_f$split2","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","_reduce","cram","cramUrl","cramPath","cramFilehandle","getEntriesForRange","fetchSizeLimit","_getRecordsForRange","_concatInstanceProper","opts","slices","totalSize","sliceResults","readNames","readIds","unmatedPairs","matePromises","_name","mateSlices","mateBlocks","mateChunks","_mateChunks","mateRecordPromises","mateFeatPromises","mateTotalSize","newMateFeats","newMates","viewAsPairs","pairAcrossChr","maxInsertSize","sliceBytes","toLocaleString","getRecordsInSlice","abs","localeCompare","item","ary","recordPromise","featPromise","feats","mateRecs","current","containerStart","sliceStart","getSlice","hasDataForReferenceSequence","_bind","_some","AbortablePromiseCache","QuickLRU","gunzip","Slice","addRecordToIndex","record","_record","_parseCache","parseIndex","readFile","uncompressedBuffer","readUInt32LE","currentRecord","currentString","charCode","ent","_hasDataForReferenceSequence","getIndex","_getEntriesForRange","queryStart","queryEnd","seqEntries","compare","bins","entryStart","entryEnd","$some","arrayMethodIsStrict","STRICT_METHOD","USES_TO_LENGTH","__importDefault","mod","AbortablePromiseCache_1","abortcontroller_ponyfill_1","AggregateAbortController_1","_a","delete","fillCallback","isAbortException","exception","evict","aborter","newEntry","settled","addSignal","catch","checkSinglePromise","checkForSingleAbort","assign","cacheEntry","cachedEntry","keyIter","deleteCount","NullSignal","AggregateAbortController","signals","Set","abortController","handleAborted","getIterator","_Object$getPrototypeOf","_Object$setPrototypeOf","_getPrototypeOf","o","__proto__","_Promise","asyncGeneratorStep","gen","_next","_throw","arg","info","assertThisInitialized","subClass","superClass","validDataTypes","int","long","byteArrayBlock","numBits","dlen","iterableToArrayLimit","v","initialOffset","countFlags","startBufferPosition","startFilePosition","_parser$parse","_class","methodName","memoAttrName","res","arrayWithoutHoles","nonIterableSpread","advanceStep","freq","scaleBits","Decode","sym","pptr","RANS_BYTE_L","advance","_setPrototypeOf","p","_sliceInstanceProperty","minLen","CRAM_FLAG_MASK","BAM_CMATCH","BAM_CINS","BAM_CDEL","BAM_CREF_SKIP","BAM_CSOFT_CLIP","BAM_CHARD_CLIP","BAM_CPAD","BAM_CEQUAL","BAM_CDIFF","BAM_CBACK","BAM_CIGAR_STR","BAM_CIGAR_SHIFT","BAM_CIGAR_MASK","BAM_CIGAR_TYPE"],"mappings":"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","file":"static/js/14.cafbe35e.chunk.js","sourcesContent":["\"use strict\";\n\nvar CramFile = require('./file');\n\nmodule.exports = CramFile;","module.exports = require(\"core-js-pure/features/object/set-prototype-of\");","module.exports = require(\"core-js-pure/features/object/create\");","module.exports = require(\"core-js-pure/features/reflect/construct\");","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","module.exports = require(\"core-js-pure/stable/object/values\");","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","module.exports = require(\"core-js-pure/stable/instance/filter\");","module.exports = require(\"core-js-pure/features/array/is-array\");","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var _Array$from = require(\"../core-js/array/from\");\n\nvar _isIterable = require(\"../core-js/is-iterable\");\n\nvar _Symbol = require(\"../core-js/symbol\");\n\nfunction _iterableToArray(iter) {\n  if (typeof _Symbol !== \"undefined\" && _isIterable(Object(iter))) return _Array$from(iter);\n}\n\nmodule.exports = _iterableToArray;","module.exports = require(\"core-js-pure/features/array/from\");","module.exports = require(\"core-js-pure/features/is-iterable\");","module.exports = require(\"core-js-pure/stable/number/parse-int\");","var _Array$isArray = require(\"../core-js/array/is-array\");\n\nfunction _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","module.exports = require(\"core-js-pure/stable/parse-int\");","\"use strict\";\n\nvar url = require('url');\n\nvar RemoteFile = require('./remoteFile');\n\nvar LocalFile = require('./localFile');\n\nfunction fromUrl(source) {\n  var _url$parse = url.parse(source),\n      protocol = _url$parse.protocol,\n      pathname = _url$parse.pathname;\n\n  if (protocol === 'file:') {\n    return new LocalFile(unescape(pathname));\n  }\n\n  return new RemoteFile(source);\n}\n\nmodule.exports = {\n  LocalFile: LocalFile,\n  RemoteFile: RemoteFile,\n  fromUrl: fromUrl,\n  open: function open(maybeUrl, maybePath, maybeFilehandle) {\n    if (maybeFilehandle) return maybeFilehandle;\n    if (maybeUrl) return fromUrl(maybeUrl);\n    if (maybePath) return new LocalFile(maybePath);\n    throw new Error('no url, path, or filehandle provided, cannot open');\n  }\n};","\"use strict\";\n/* eslint-disable */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cjs_ponyfill_1 = require(\"abortcontroller-polyfill/dist/cjs-ponyfill\");\nvar getGlobal = function () {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('unable to locate global object');\n};\n//@ts-ignore\nvar AbortController = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortController : getGlobal().AbortController;\nexports.AbortController = AbortController;\n//@ts-ignore\nvar AbortSignal = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortSignal : getGlobal().AbortSignal;\nexports.AbortSignal = AbortSignal;\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/wrapNativeSuper\"));\n\nvar CramError =\n/*#__PURE__*/\nfunction (_Error) {\n  (0, _inherits2.default)(CramError, _Error);\n\n  function CramError() {\n    (0, _classCallCheck2.default)(this, CramError);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CramError).apply(this, arguments));\n  }\n\n  return CramError;\n}((0, _wrapNativeSuper2.default)(Error));\n/** Error caused by encountering a part of the CRAM spec that has not yet been implemented */\n\n\nvar CramUnimplementedError =\n/*#__PURE__*/\nfunction (_Error2) {\n  (0, _inherits2.default)(CramUnimplementedError, _Error2);\n\n  function CramUnimplementedError() {\n    (0, _classCallCheck2.default)(this, CramUnimplementedError);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CramUnimplementedError).apply(this, arguments));\n  }\n\n  return CramUnimplementedError;\n}((0, _wrapNativeSuper2.default)(Error));\n/** An error caused by malformed data.  */\n\n\nvar CramMalformedError =\n/*#__PURE__*/\nfunction (_CramError) {\n  (0, _inherits2.default)(CramMalformedError, _CramError);\n\n  function CramMalformedError() {\n    (0, _classCallCheck2.default)(this, CramMalformedError);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CramMalformedError).apply(this, arguments));\n  }\n\n  return CramMalformedError;\n}(CramError);\n/**\n * An error caused by attempting to read beyond the end of the defined data.\n */\n\n\nvar CramBufferOverrunError =\n/*#__PURE__*/\nfunction (_CramMalformedError) {\n  (0, _inherits2.default)(CramBufferOverrunError, _CramMalformedError);\n\n  function CramBufferOverrunError() {\n    (0, _classCallCheck2.default)(this, CramBufferOverrunError);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CramBufferOverrunError).apply(this, arguments));\n  }\n\n  return CramBufferOverrunError;\n}(CramMalformedError);\n/**\n * An error caused by data being too big, exceeding a size limit.\n */\n\n\nvar CramSizeLimitError =\n/*#__PURE__*/\nfunction (_CramError2) {\n  (0, _inherits2.default)(CramSizeLimitError, _CramError2);\n\n  function CramSizeLimitError() {\n    (0, _classCallCheck2.default)(this, CramSizeLimitError);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CramSizeLimitError).apply(this, arguments));\n  }\n\n  return CramSizeLimitError;\n}(CramError);\n/**\n * An invalid argument was supplied to a cram-js method or object.\n */\n\n\nvar CramArgumentError =\n/*#__PURE__*/\nfunction (_CramError3) {\n  (0, _inherits2.default)(CramArgumentError, _CramError3);\n\n  function CramArgumentError() {\n    (0, _classCallCheck2.default)(this, CramArgumentError);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(CramArgumentError).apply(this, arguments));\n  }\n\n  return CramArgumentError;\n}(CramError);\n\nmodule.exports = {\n  CramBufferOverrunError: CramBufferOverrunError,\n  CramMalformedError: CramMalformedError,\n  CramUnimplementedError: CramUnimplementedError,\n  CramSizeLimitError: CramSizeLimitError,\n  CramArgumentError: CramArgumentError\n};","var _Object$defineProperty = require(\"../core-js/object/define-property\");\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","module.exports = require(\"core-js-pure/stable/instance/for-each\");","\"use strict\";\n\nvar CramFile = require('./cramFile');\n\nvar IndexedCramFile = require('./indexedCramFile');\n\nvar CraiIndex = require('./craiIndex');\n\nmodule.exports = {\n  CramFile: CramFile,\n  IndexedCramFile: IndexedCramFile,\n  CraiIndex: CraiIndex\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _context14;\n\nvar zlib = require('zlib');\n\nvar crc32 = require('buffer-crc32');\n\nvar LRU = require('quick-lru');\n\nvar _require = require('../errors'),\n    CramUnimplementedError = _require.CramUnimplementedError,\n    CramMalformedError = _require.CramMalformedError;\n\nvar rans = require('../rans');\n\nvar _require2 = require('./sectionParsers'),\n    cramFileDefinitionParser = _require2.cramFileDefinition,\n    _getSectionParsers = _require2.getSectionParsers;\n\nvar CramContainer = require('./container');\n\nvar _require3 = require('../io'),\n    open = _require3.open;\n\nvar _require4 = require('./util'),\n    parseItem = _require4.parseItem,\n    tinyMemoize = _require4.tinyMemoize;\n\nvar _require5 = require('../sam'),\n    parseHeaderText = _require5.parseHeaderText;\n\nvar CramFile =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {object} args\n   * @param {object} [args.filehandle] - a filehandle that implements the stat() and\n   * read() methods of the Node filehandle API https://nodejs.org/api/fs.html#fs_class_filehandle\n   * @param {object} [args.path] - path to the cram file\n   * @param {object} [args.url] - url for the cram file.  also supports file:// urls for local files\n   * @param {function} [args.seqFetch] - a function with signature\n   * `(seqId, startCoordinate, endCoordinate)` that returns a promise for a string of sequence bases\n   * @param {number} [args.cacheSize] optional maximum number of CRAM records to cache.  default 20,000\n   * @param {boolean} [args.checkSequenceMD5] - default true. if false, disables verifying the MD5\n   * checksum of the reference sequence underlying a slice. In some applications, this check can cause an inconvenient amount (many megabases) of sequences to be fetched.\n   */\n  function CramFile(args) {\n    (0, _classCallCheck2.default)(this, CramFile);\n    this.file = open(args.url, args.path, args.filehandle);\n    this.validateChecksums = true;\n    this.fetchReferenceSequenceCallback = args.seqFetch;\n    this.options = {\n      checkSequenceMD5: args.checkSequenceMD5 !== false,\n      cacheSize: args.cacheSize !== undefined ? args.cacheSize : 20000\n    }; // cache of features in a slice, keyed by the\n    // slice offset. caches all of the features in a slice, or none.\n    // the cache is actually used by the slice object, it's just\n    // kept here at the level of the file\n\n    this.featureCache = new LRU({\n      maxSize: this.options.cacheSize\n    });\n  }\n\n  (0, _createClass2.default)(CramFile, [{\n    key: \"toString\",\n    value: function toString() {\n      if (this.file.filename) return this.file.filename;\n      if (this.file.url) return this.file.url;\n      return '(cram file)';\n    } // can just read this object like a filehandle\n\n  }, {\n    key: \"read\",\n    value: function read(buffer, offset, length, position) {\n      return this.file.read(buffer, offset, length, position);\n    } // can just stat this object like a filehandle\n\n  }, {\n    key: \"stat\",\n    value: function stat() {\n      return this.file.stat();\n    } // memoized\n\n  }, {\n    key: \"getDefinition\",\n    value: function () {\n      var _getDefinition = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee() {\n        var headbytes, definition;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headbytes = Buffer.allocUnsafe(cramFileDefinitionParser.maxLength);\n                _context.next = 3;\n                return this.file.read(headbytes, 0, cramFileDefinitionParser.maxLength, 0);\n\n              case 3:\n                definition = cramFileDefinitionParser.parser.parse(headbytes).result;\n\n                if (!(definition.majorVersion !== 2 && definition.majorVersion !== 3)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new CramUnimplementedError(\"CRAM version \".concat(definition.majorVersion, \" not supported\"));\n\n              case 6:\n                return _context.abrupt(\"return\", definition);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getDefinition() {\n        return _getDefinition.apply(this, arguments);\n      }\n\n      return getDefinition;\n    }() // memoize\n\n  }, {\n    key: \"getSamHeader\",\n    value: function () {\n      var _getSamHeader = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var firstContainer, _ref, content, headerLength, textStart, text;\n\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getContainerById(0);\n\n              case 2:\n                firstContainer = _context2.sent;\n\n                if (firstContainer) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw new CramMalformedError('file contains no containers');\n\n              case 5:\n                _context2.next = 7;\n                return firstContainer.getFirstBlock();\n\n              case 7:\n                _ref = _context2.sent;\n                content = _ref.content;\n                // find the end of the trailing zeros in the header text\n                headerLength = content.readInt32LE(0);\n                textStart = 4; // let textEnd = content.length - 1\n                // while (textEnd >= textStart && !content[textEnd]) textEnd -= 1\n                // trim off the trailing zeros\n\n                text = content.toString('utf8', textStart, textStart + headerLength);\n                this.header = text;\n                return _context2.abrupt(\"return\", parseHeaderText(text));\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getSamHeader() {\n        return _getSamHeader.apply(this, arguments);\n      }\n\n      return getSamHeader;\n    }()\n  }, {\n    key: \"getHeaderText\",\n    value: function () {\n      var _getHeaderText = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getSamHeader();\n\n              case 2:\n                return _context3.abrupt(\"return\", this.header);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getHeaderText() {\n        return _getHeaderText.apply(this, arguments);\n      }\n\n      return getHeaderText;\n    }() // memoize\n\n  }, {\n    key: \"getSectionParsers\",\n    value: function () {\n      var _getSectionParsers2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee4() {\n        var _ref2, majorVersion;\n\n        return _regenerator.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getDefinition();\n\n              case 2:\n                _ref2 = _context4.sent;\n                majorVersion = _ref2.majorVersion;\n                return _context4.abrupt(\"return\", _getSectionParsers(majorVersion));\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getSectionParsers() {\n        return _getSectionParsers2.apply(this, arguments);\n      }\n\n      return getSectionParsers;\n    }()\n  }, {\n    key: \"getContainerById\",\n    value: function () {\n      var _getContainerById = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee5(containerNumber) {\n        var sectionParsers, position, _ref3, fileSize, cramContainerHeader1, currentContainer, i, currentHeader, j, block;\n\n        return _regenerator.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getSectionParsers();\n\n              case 2:\n                sectionParsers = _context5.sent;\n                position = sectionParsers.cramFileDefinition.maxLength;\n                _context5.next = 6;\n                return this.file.stat();\n\n              case 6:\n                _ref3 = _context5.sent;\n                fileSize = _ref3.size;\n                cramContainerHeader1 = sectionParsers.cramContainerHeader1; // skip with a series of reads to the proper container\n\n                i = 0;\n\n              case 10:\n                if (!(i <= containerNumber)) {\n                  _context5.next = 36;\n                  break;\n                }\n\n                if (!(position + cramContainerHeader1.maxLength + 8 >= fileSize)) {\n                  _context5.next = 13;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", undefined);\n\n              case 13:\n                currentContainer = this.getContainerAtPosition(position);\n                _context5.next = 16;\n                return currentContainer.getHeader();\n\n              case 16:\n                currentHeader = _context5.sent;\n\n                if (currentHeader) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                throw new CramMalformedError(\"container \".concat(containerNumber, \" not found in file\"));\n\n              case 19:\n                if (!(i === 0)) {\n                  _context5.next = 32;\n                  break;\n                }\n\n                position = currentHeader._endPosition;\n                j = 0;\n\n              case 22:\n                if (!(j < currentHeader.numBlocks)) {\n                  _context5.next = 30;\n                  break;\n                }\n\n                _context5.next = 25;\n                return this.readBlock(position);\n\n              case 25:\n                block = _context5.sent;\n                position = block._endPosition;\n\n              case 27:\n                j += 1;\n                _context5.next = 22;\n                break;\n\n              case 30:\n                _context5.next = 33;\n                break;\n\n              case 32:\n                // otherwise, just traverse to the next container using the container's length\n                position += currentHeader._size + currentHeader.length;\n\n              case 33:\n                i += 1;\n                _context5.next = 10;\n                break;\n\n              case 36:\n                return _context5.abrupt(\"return\", currentContainer);\n\n              case 37:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getContainerById(_x) {\n        return _getContainerById.apply(this, arguments);\n      }\n\n      return getContainerById;\n    }()\n  }, {\n    key: \"checkCrc32\",\n    value: function () {\n      var _checkCrc = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee6(position, length, recordedCrc32, description) {\n        var b, calculatedCrc32, _context6, _context7;\n\n        return _regenerator.default.wrap(function _callee6$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                b = Buffer.allocUnsafe(length);\n                _context8.next = 3;\n                return this.file.read(b, 0, length, position);\n\n              case 3:\n                calculatedCrc32 = crc32.unsigned(b);\n\n                if (!(calculatedCrc32 !== recordedCrc32)) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                throw new CramMalformedError((0, _concat.default)(_context6 = (0, _concat.default)(_context7 = \"crc mismatch in \".concat(description, \": recorded CRC32 = \")).call(_context7, recordedCrc32, \", but calculated CRC32 = \")).call(_context6, calculatedCrc32));\n\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function checkCrc32(_x2, _x3, _x4, _x5) {\n        return _checkCrc.apply(this, arguments);\n      }\n\n      return checkCrc32;\n    }()\n    /**\n     * @returns {Promise[number]} the number of containers in the file\n     */\n\n  }, {\n    key: \"containerCount\",\n    value: function () {\n      var _containerCount = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee7() {\n        var sectionParsers, _ref4, fileSize, cramContainerHeader1, containerCount, position, currentHeader, j, block;\n\n        return _regenerator.default.wrap(function _callee7$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.getSectionParsers();\n\n              case 2:\n                sectionParsers = _context9.sent;\n                _context9.next = 5;\n                return this.file.stat();\n\n              case 5:\n                _ref4 = _context9.sent;\n                fileSize = _ref4.size;\n                cramContainerHeader1 = sectionParsers.cramContainerHeader1;\n                containerCount = 0;\n                position = sectionParsers.cramFileDefinition.maxLength;\n\n              case 10:\n                if (!(position + cramContainerHeader1.maxLength + 8 < fileSize)) {\n                  _context9.next = 33;\n                  break;\n                }\n\n                _context9.next = 13;\n                return this.getContainerAtPosition(position).getHeader();\n\n              case 13:\n                currentHeader = _context9.sent;\n\n                if (currentHeader) {\n                  _context9.next = 16;\n                  break;\n                }\n\n                return _context9.abrupt(\"break\", 33);\n\n              case 16:\n                if (!(containerCount === 0)) {\n                  _context9.next = 29;\n                  break;\n                }\n\n                position = currentHeader._endPosition;\n                j = 0;\n\n              case 19:\n                if (!(j < currentHeader.numBlocks)) {\n                  _context9.next = 27;\n                  break;\n                }\n\n                _context9.next = 22;\n                return this.readBlock(position);\n\n              case 22:\n                block = _context9.sent;\n                position = block._endPosition;\n\n              case 24:\n                j += 1;\n                _context9.next = 19;\n                break;\n\n              case 27:\n                _context9.next = 30;\n                break;\n\n              case 29:\n                // otherwise, just traverse to the next container using the container's length\n                position += currentHeader._size + currentHeader.length;\n\n              case 30:\n                containerCount += 1;\n                _context9.next = 10;\n                break;\n\n              case 33:\n                return _context9.abrupt(\"return\", containerCount);\n\n              case 34:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function containerCount() {\n        return _containerCount.apply(this, arguments);\n      }\n\n      return containerCount;\n    }()\n  }, {\n    key: \"getContainerAtPosition\",\n    value: function getContainerAtPosition(position) {\n      return new CramContainer(this, position);\n    }\n  }, {\n    key: \"readBlockHeader\",\n    value: function () {\n      var _readBlockHeader = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee8(position) {\n        var sectionParsers, cramBlockHeader, _ref5, fileSize, buffer;\n\n        return _regenerator.default.wrap(function _callee8$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.getSectionParsers();\n\n              case 2:\n                sectionParsers = _context10.sent;\n                cramBlockHeader = sectionParsers.cramBlockHeader;\n                _context10.next = 6;\n                return this.file.stat();\n\n              case 6:\n                _ref5 = _context10.sent;\n                fileSize = _ref5.size;\n\n                if (!(position + cramBlockHeader.maxLength >= fileSize)) {\n                  _context10.next = 10;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", undefined);\n\n              case 10:\n                buffer = Buffer.allocUnsafe(cramBlockHeader.maxLength);\n                _context10.next = 13;\n                return this.file.read(buffer, 0, cramBlockHeader.maxLength, position);\n\n              case 13:\n                return _context10.abrupt(\"return\", parseItem(buffer, cramBlockHeader.parser, 0, position));\n\n              case 14:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function readBlockHeader(_x6) {\n        return _readBlockHeader.apply(this, arguments);\n      }\n\n      return readBlockHeader;\n    }()\n  }, {\n    key: \"_parseSection\",\n    value: function () {\n      var _parseSection2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee9(section, position) {\n        var _context11;\n\n        var size,\n            preReadBuffer,\n            buffer,\n            _ref6,\n            fileSize,\n            data,\n            _args9 = arguments;\n\n        return _regenerator.default.wrap(function _callee9$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                size = _args9.length > 2 && _args9[2] !== undefined ? _args9[2] : section.maxLength;\n                preReadBuffer = _args9.length > 3 ? _args9[3] : undefined;\n\n                if (!preReadBuffer) {\n                  _context12.next = 6;\n                  break;\n                }\n\n                buffer = preReadBuffer;\n                _context12.next = 15;\n                break;\n\n              case 6:\n                _context12.next = 8;\n                return this.file.stat();\n\n              case 8:\n                _ref6 = _context12.sent;\n                fileSize = _ref6.size;\n\n                if (!(position + size >= fileSize)) {\n                  _context12.next = 12;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", undefined);\n\n              case 12:\n                buffer = Buffer.allocUnsafe(size);\n                _context12.next = 15;\n                return this.file.read(buffer, 0, size, position);\n\n              case 15:\n                data = parseItem(buffer, section.parser, 0, position);\n\n                if (!(data._size !== size)) {\n                  _context12.next = 18;\n                  break;\n                }\n\n                throw new CramMalformedError((0, _concat.default)(_context11 = \"section read error: requested size \".concat(size, \" does not equal parsed size \")).call(_context11, data._size));\n\n              case 18:\n                return _context12.abrupt(\"return\", data);\n\n              case 19:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function _parseSection(_x7, _x8) {\n        return _parseSection2.apply(this, arguments);\n      }\n\n      return _parseSection;\n    }()\n  }, {\n    key: \"_uncompress\",\n    value: function _uncompress(compressionMethod, inputBuffer, outputBuffer) {\n      if (compressionMethod === 'gzip') {\n        var result = zlib.gunzipSync(inputBuffer);\n        result.copy(outputBuffer);\n      } else if (compressionMethod === 'rans') {\n        rans.uncompress(inputBuffer, outputBuffer);\n      } else {\n        throw new CramUnimplementedError(\"\".concat(compressionMethod, \" decompression not yet implemented\"));\n      }\n    }\n  }, {\n    key: \"readBlock\",\n    value: function () {\n      var _readBlock = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee10(position) {\n        var _ref7, majorVersion, sectionParsers, block, blockContentPosition, uncompressedData, compressedData, crc;\n\n        return _regenerator.default.wrap(function _callee10$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return this.getDefinition();\n\n              case 2:\n                _ref7 = _context13.sent;\n                majorVersion = _ref7.majorVersion;\n                _context13.next = 6;\n                return this.getSectionParsers();\n\n              case 6:\n                sectionParsers = _context13.sent;\n                _context13.next = 9;\n                return this.readBlockHeader(position);\n\n              case 9:\n                block = _context13.sent;\n                blockContentPosition = block._endPosition;\n                block.contentPosition = block._endPosition;\n                uncompressedData = Buffer.allocUnsafe(block.uncompressedSize);\n\n                if (!(block.compressionMethod !== 'raw')) {\n                  _context13.next = 20;\n                  break;\n                }\n\n                compressedData = Buffer.allocUnsafe(block.compressedSize);\n                _context13.next = 17;\n                return this.read(compressedData, 0, block.compressedSize, blockContentPosition);\n\n              case 17:\n                this._uncompress(block.compressionMethod, compressedData, uncompressedData);\n\n                _context13.next = 22;\n                break;\n\n              case 20:\n                _context13.next = 22;\n                return this.read(uncompressedData, 0, block.uncompressedSize, blockContentPosition);\n\n              case 22:\n                block.content = uncompressedData;\n\n                if (!(majorVersion >= 3)) {\n                  _context13.next = 35;\n                  break;\n                }\n\n                _context13.next = 26;\n                return this._parseSection(sectionParsers.cramBlockCrc32, blockContentPosition + block.compressedSize);\n\n              case 26:\n                crc = _context13.sent;\n                block.crc32 = crc.crc32; // check the block data crc32\n\n                if (!this.validateChecksums) {\n                  _context13.next = 31;\n                  break;\n                }\n\n                _context13.next = 31;\n                return this.checkCrc32(position, block._size + block.compressedSize, block.crc32, 'block data');\n\n              case 31:\n                // make the endposition and size reflect the whole block\n                block._endPosition = crc._endPosition;\n                block._size = block.compressedSize + sectionParsers.cramBlockCrc32.maxLength;\n                _context13.next = 37;\n                break;\n\n              case 35:\n                block._endPosition = blockContentPosition + block.compressedSize;\n                block._size = block.compressedSize;\n\n              case 37:\n                return _context13.abrupt(\"return\", block);\n\n              case 38:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function readBlock(_x9) {\n        return _readBlock.apply(this, arguments);\n      }\n\n      return readBlock;\n    }()\n  }]);\n  return CramFile;\n}();\n\n(0, _forEach.default)(_context14 = 'getDefinition getSectionParsers getSamHeader'.split(' ')).call(_context14, function (method) {\n  return tinyMemoize(CramFile, method);\n});\nmodule.exports = CramFile;","module.exports = require(\"core-js-pure/features/promise\");","module.exports = require(\"core-js-pure/features/object/define-property\");","var _Symbol$iterator = require(\"../core-js/symbol/iterator\");\n\nvar _Symbol = require(\"../core-js/symbol\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"core-js-pure/features/symbol/iterator\");","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","module.exports = require(\"core-js-pure/features/object/get-prototype-of\");","var _Object$create = require(\"../core-js/object/create\");\n\nvar _Map = require(\"../core-js/map\");\n\nvar getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof _Map === \"function\" ? new _Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = _Object$create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","module.exports = require(\"core-js-pure/features/map\");","var parent = require('../../es/map');\nrequire('../../modules/esnext.map.from');\nrequire('../../modules/esnext.map.of');\nrequire('../../modules/esnext.map.delete-all');\nrequire('../../modules/esnext.map.every');\nrequire('../../modules/esnext.map.filter');\nrequire('../../modules/esnext.map.find');\nrequire('../../modules/esnext.map.find-key');\nrequire('../../modules/esnext.map.group-by');\nrequire('../../modules/esnext.map.includes');\nrequire('../../modules/esnext.map.key-by');\nrequire('../../modules/esnext.map.key-of');\nrequire('../../modules/esnext.map.map-keys');\nrequire('../../modules/esnext.map.map-values');\nrequire('../../modules/esnext.map.merge');\nrequire('../../modules/esnext.map.reduce');\nrequire('../../modules/esnext.map.some');\nrequire('../../modules/esnext.map.update');\nrequire('../../modules/esnext.map.upsert');\n// TODO: remove from `core-js@4`\nrequire('../../modules/esnext.map.update-or-insert');\n\nmodule.exports = parent;\n","require('../../modules/es.map');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Map;\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/collection-from');\n\n// `Map.from` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\n$({ target: 'Map', stat: true }, {\n  from: from\n});\n","var $ = require('../internals/export');\nvar of = require('../internals/collection-of');\n\n// `Map.of` method\n// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\n$({ target: 'Map', stat: true }, {\n  of: of\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar collectionDeleteAll = require('../internals/collection-delete-all');\n\n// `Map.prototype.deleteAll` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  deleteAll: function deleteAll(/* ...elements */) {\n    return collectionDeleteAll.apply(this, arguments);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar bind = require('../internals/function-bind-context');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.every` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  every: function every(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    return !iterate(iterator, function (key, value) {\n      if (!boundFunction(value, key, map)) return iterate.stop();\n    }, undefined, true, true).stopped;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar getBuiltIn = require('../internals/get-built-in');\nvar anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar bind = require('../internals/function-bind-context');\nvar speciesConstructor = require('../internals/species-constructor');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.filter` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var newMap = new (speciesConstructor(map, getBuiltIn('Map')))();\n    var setter = aFunction(newMap.set);\n    iterate(iterator, function (key, value) {\n      if (boundFunction(value, key, map)) setter.call(newMap, key, value);\n    }, undefined, true, true);\n    return newMap;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar bind = require('../internals/function-bind-context');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.find` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  find: function find(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    return iterate(iterator, function (key, value) {\n      if (boundFunction(value, key, map)) return iterate.stop(value);\n    }, undefined, true, true).result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar bind = require('../internals/function-bind-context');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.findKey` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  findKey: function findKey(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    return iterate(iterator, function (key, value) {\n      if (boundFunction(value, key, map)) return iterate.stop(key);\n    }, undefined, true, true).result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aFunction = require('../internals/a-function');\n\n// `Map.groupBy` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', stat: true }, {\n  groupBy: function groupBy(iterable, keyDerivative) {\n    var newMap = new this();\n    aFunction(keyDerivative);\n    var has = aFunction(newMap.has);\n    var get = aFunction(newMap.get);\n    var set = aFunction(newMap.set);\n    iterate(iterable, function (element) {\n      var derivedKey = keyDerivative(element);\n      if (!has.call(newMap, derivedKey)) set.call(newMap, derivedKey, [element]);\n      else get.call(newMap, derivedKey).push(element);\n    });\n    return newMap;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar sameValueZero = require('../internals/same-value-zero');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.includes` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  includes: function includes(searchElement) {\n    return iterate(getMapIterator(anObject(this)), function (key, value) {\n      if (sameValueZero(value, searchElement)) return iterate.stop();\n    }, undefined, true, true).stopped;\n  }\n});\n","// `SameValueZero` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevaluezero\nmodule.exports = function (x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y || x != x && y != y;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aFunction = require('../internals/a-function');\n\n// `Map.keyBy` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', stat: true }, {\n  keyBy: function keyBy(iterable, keyDerivative) {\n    var newMap = new this();\n    aFunction(keyDerivative);\n    var setter = aFunction(newMap.set);\n    iterate(iterable, function (element) {\n      setter.call(newMap, keyDerivative(element), element);\n    });\n    return newMap;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.includes` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  keyOf: function keyOf(searchElement) {\n    return iterate(getMapIterator(anObject(this)), function (key, value) {\n      if (value === searchElement) return iterate.stop(key);\n    }, undefined, true, true).result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar getBuiltIn = require('../internals/get-built-in');\nvar anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar bind = require('../internals/function-bind-context');\nvar speciesConstructor = require('../internals/species-constructor');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.mapKeys` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  mapKeys: function mapKeys(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var newMap = new (speciesConstructor(map, getBuiltIn('Map')))();\n    var setter = aFunction(newMap.set);\n    iterate(iterator, function (key, value) {\n      setter.call(newMap, boundFunction(value, key, map), value);\n    }, undefined, true, true);\n    return newMap;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar getBuiltIn = require('../internals/get-built-in');\nvar anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar bind = require('../internals/function-bind-context');\nvar speciesConstructor = require('../internals/species-constructor');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.mapValues` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  mapValues: function mapValues(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var newMap = new (speciesConstructor(map, getBuiltIn('Map')))();\n    var setter = aFunction(newMap.set);\n    iterate(iterator, function (key, value) {\n      setter.call(newMap, key, boundFunction(value, key, map));\n    }, undefined, true, true);\n    return newMap;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.merge` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  // eslint-disable-next-line no-unused-vars\n  merge: function merge(iterable /* ...iterbles */) {\n    var map = anObject(this);\n    var setter = aFunction(map.set);\n    var i = 0;\n    while (i < arguments.length) {\n      iterate(arguments[i++], setter, map, true);\n    }\n    return map;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Map.prototype.reduce` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    aFunction(callbackfn);\n    iterate(iterator, function (key, value) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = callbackfn(accumulator, value, key, map);\n      }\n    }, undefined, true, true);\n    if (noInitial) throw TypeError('Reduce of empty map with no initial value');\n    return accumulator;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar bind = require('../internals/function-bind-context');\nvar getMapIterator = require('../internals/get-map-iterator');\nvar iterate = require('../internals/iterate');\n\n// `Set.prototype.some` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  some: function some(callbackfn /* , thisArg */) {\n    var map = anObject(this);\n    var iterator = getMapIterator(map);\n    var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n    return iterate(iterator, function (key, value) {\n      if (boundFunction(value, key, map)) return iterate.stop();\n    }, undefined, true, true).stopped;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\n\n// `Set.prototype.update` method\n// https://github.com/tc39/proposal-collection-methods\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  update: function update(key, callback /* , thunk */) {\n    var map = anObject(this);\n    var length = arguments.length;\n    aFunction(callback);\n    var isPresentInMap = map.has(key);\n    if (!isPresentInMap && length < 3) {\n      throw TypeError('Updating absent value');\n    }\n    var value = isPresentInMap ? map.get(key) : aFunction(length > 2 ? arguments[2] : undefined)(key, map);\n    map.set(key, callback(value, key, map));\n    return map;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar $upsert = require('../internals/map-upsert');\n\n// `Map.prototype.upsert` method\n// https://github.com/thumbsupep/proposal-upsert\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  upsert: $upsert\n});\n","'use strict';\n// TODO: remove from `core-js@4`\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar $upsert = require('../internals/map-upsert');\n\n// `Map.prototype.updateOrInsert` method (replaced by `Map.prototype.upsert`)\n// https://github.com/thumbsupep/proposal-upsert\n$({ target: 'Map', proto: true, real: true, forced: IS_PURE }, {\n  updateOrInsert: $upsert\n});\n","var _indexOfInstanceProperty = require(\"../core-js/instance/index-of\");\n\nfunction _isNativeFunction(fn) {\n  var _context;\n\n  return _indexOfInstanceProperty(_context = Function.toString.call(fn)).call(_context, \"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","module.exports = require(\"core-js-pure/features/instance/index-of\");","var _bindInstanceProperty = require(\"../core-js/instance/bind\");\n\nvar _Reflect$construct = require(\"../core-js/reflect/construct\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = _Reflect$construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n\n      var Constructor = _bindInstanceProperty(Function).apply(Parent, a);\n\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","module.exports = require(\"core-js-pure/features/instance/bind\");","var parent = require('../../es/instance/bind');\n\nmodule.exports = parent;\n","var parent = require('../../es/reflect/construct');\n\nmodule.exports = parent;\n","var _Reflect$construct = require(\"../core-js/reflect/construct\");\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(_Reflect$construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _fill = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/fill\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _require = require('../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar Decoding = require('./decoding');\n\nvar Frequencies = require('./frequencies');\n\nvar D04 = require('./d04');\n\nvar D14 = require('./d14'); // const /* int */ ORDER_BYTE_LENGTH = 1\n// const /* int */ COMPRESSED_BYTE_LENGTH = 4\n\n\nvar\n/* int */\nRAW_BYTE_LENGTH = 4; // const /* int */ PREFIX_BYTE_LENGTH =\n//   ORDER_BYTE_LENGTH + COMPRESSED_BYTE_LENGTH + RAW_BYTE_LENGTH\n// enum ORDER {\n//     ZERO, ONE;\n//     static ORDER fromInt(const /* int */ value) {\n//         try {\n//             return ORDER.values()[value];\n//         } catch (const ArrayIndexOutOfBoundsException e) {\n//             throw new RuntimeException(\"Unknown rANS order: \" + value);\n//         }\n//     }\n// }\n// static ByteBuffer compress(const ByteBuffer input, const ORDER order, const ByteBuffer out) {\n//     if (input.remaining() == 0)\n//         return EMPTY_BUFFER;\n//     if (input.remaining() < 4)\n//         return encode_order0_way4(input, out);\n//     switch (order) {\n//         case ZERO:\n//             return encode_order0_way4(input, out);\n//         case ONE:\n//             return encode_order1_way4(input, out);\n//         default:\n//             throw new RuntimeException(\"Unknown rANS order: \" + order);\n//     }\n// }\n// static /* ByteBuffer */ allocateIfNeeded(/* const int */ in_size,\n//                                            /* const ByteBuffer */ out_buf) {\n//     const /* int */ compressedSize = (/* int */) (1.05 * in_size + 257 * 257 * 3 + 4);\n//     if (out_buf == null)\n//         return ByteBuffer.allocate(compressedSize);\n//     if (out_buf.remaining() < compressedSize)\n//         throw new RuntimeException(\"Insufficient buffer size.\");\n//     out_buf.order(ByteOrder.LITTLE_ENDIAN);\n//     return out_buf;\n// }\n// static ByteBuffer encode_order0_way4(const ByteBuffer input,\n//                                              ByteBuffer out_buf) {\n//     const /* int */ in_size = input.remaining();\n//     out_buf = allocateIfNeeded(in_size, out_buf);\n//     const /* int */ freqTableStart = PREFIX_BYTE_LENGTH;\n//     out_buf.position(freqTableStart);\n//     const /* int */[] F = Frequencies.calcFrequencies_o0(in);\n//     const RansEncSymbol[] syms = Frequencies.buildSyms_o0(F);\n//     const ByteBuffer cp = out_buf.slice();\n//     const /* int */ frequencyTable_size = Frequencies.writeFrequencies_o0(cp, F);\n//     input.rewind();\n//     const /* int */ compressedBlob_size = E04.compress(input, syms, cp);\n//     finalizeCompressed(0, out_buf, in_size, frequencyTable_size,\n//             compressedBlob_size);\n//     return out_buf;\n// }\n// static ByteBuffer encode_order1_way4(const ByteBuffer input,\n//                                              ByteBuffer out_buf) {\n//     const /* int */ in_size = input.remaining();\n//     out_buf = allocateIfNeeded(in_size, out_buf);\n//     const /* int */ freqTableStart = PREFIX_BYTE_LENGTH;\n//     out_buf.position(freqTableStart);\n//     const /* int */[][] F = Frequencies.calcFrequencies_o1(in);\n//     const RansEncSymbol[][] syms = Frequencies.buildSyms_o1(F);\n//     const ByteBuffer cp = out_buf.slice();\n//     const /* int */ frequencyTable_size = Frequencies.writeFrequencies_o1(cp, F);\n//     input.rewind();\n//     const /* int */ compressedBlob_size = E14.compress(input, syms, cp);\n//     finalizeCompressed(1, out_buf, in_size, frequencyTable_size,\n//             compressedBlob_size);\n//     return out_buf;\n// }\n// static void finalizeCompressed(const /* int */ order, const ByteBuffer out_buf,\n//                                        const /* int */ in_size, const /* int */ frequencyTable_size, const /* int */ compressedBlob_size) {\n//     out_buf.limit(PREFIX_BYTE_LENGTH + frequencyTable_size\n//             + compressedBlob_size);\n//     out_buf.put(0, (byte) order);\n//     out_buf.order(ByteOrder.LITTLE_ENDIAN);\n//     const /* int */ compressedSizeOffset = ORDER_BYTE_LENGTH;\n//     out_buf.putInt(compressedSizeOffset, frequencyTable_size\n//             + compressedBlob_size);\n//     const /* int */ rawSizeOffset = ORDER_BYTE_LENGTH + COMPRESSED_BYTE_LENGTH;\n//     out_buf.putInt(rawSizeOffset, in_size);\n//     out_buf.rewind();\n// }\n\nfunction\n/* static ByteBuffer */\nuncompressOrder0Way4(\n/* const ByteBuffer  */\ninput,\n/* const ByteBuffer  */\nout) {\n  // input.order(ByteOrder.LITTLE_ENDIAN);\n  var D = new Decoding.AriDecoder();\n  var syms = new Array(256);\n\n  for (var i = 0; i < syms.length; i += 1) {\n    syms[i] = new Decoding.Symbol();\n  }\n\n  Frequencies.readStatsO0(input, D, syms);\n  D04.uncompress(input, D, syms, out);\n  return out;\n}\n\nfunction\n/* static ByteBuffer */\nuncompressOrder1Way4(\n/* const ByteBuffer */\ninput,\n/* const ByteBuffer */\noutput) {\n  var D = new Array(256);\n\n  for (var i = 0; i < D.length; i += 1) {\n    D[i] = new Decoding.AriDecoder();\n  }\n\n  var\n  /* Decoding.RansDecSymbol[][]  */\n  syms = new Array(256);\n\n  for (var _i = 0; _i < syms.length; _i += 1) {\n    syms[_i] = new Array(256);\n\n    for (var j = 0; j < syms[_i].length; j += 1) {\n      syms[_i][j] = new Decoding.Symbol();\n    }\n  }\n\n  Frequencies.readStatsO1(input, D, syms);\n  D14.uncompress(input, output, D, syms);\n  return output;\n}\n/* compat layer to make a node buffer act like a java ByteBuffer */\n\n\nvar ByteBuffer =\n/*#__PURE__*/\nfunction () {\n  function ByteBuffer(nodeBuffer) {\n    var initialInputPosition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    (0, _classCallCheck2.default)(this, ByteBuffer);\n    this._buffer = nodeBuffer;\n    this._position = initialInputPosition;\n    this.length = nodeBuffer.length;\n  }\n\n  (0, _createClass2.default)(ByteBuffer, [{\n    key: \"get\",\n    value: function get() {\n      var b = this._buffer[this._position];\n      this._position += 1;\n      return b;\n    }\n  }, {\n    key: \"getByte\",\n    value: function getByte() {\n      return this.get();\n    }\n  }, {\n    key: \"getByteAt\",\n    value: function getByteAt(position) {\n      return this._buffer[position];\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      return this._position;\n    }\n  }, {\n    key: \"put\",\n    value: function put(val) {\n      this._buffer[this._position] = val;\n      this._position += 1;\n      return val;\n    }\n  }, {\n    key: \"putAt\",\n    value: function putAt(position, val) {\n      this._buffer[position] = val;\n      return val;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(pos) {\n      this._position = pos;\n      return pos;\n    }\n  }, {\n    key: \"getInt\",\n    value: function getInt() {\n      var i = this._buffer.readInt32LE(this._position);\n\n      this._position += 4;\n      return i;\n    }\n  }, {\n    key: \"remaining\",\n    value: function remaining() {\n      return this._buffer.length - this._position;\n    }\n  }]);\n  return ByteBuffer;\n}(); // static /* const */ ByteBuffer EMPTY_BUFFER = ByteBuffer.allocate(0);\n\n\nfunction uncompress(inputBuffer, outputBuffer) {\n  var initialInputPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  if (inputBuffer.length === 0) {\n    (0, _fill.default)(outputBuffer).call(outputBuffer, 0);\n    return outputBuffer;\n  }\n\n  var input = new ByteBuffer(inputBuffer, initialInputPosition); // input.order(ByteOrder.LITTLE_ENDIAN);\n\n  var order = input.get();\n  if (order !== 0 && order !== 1) throw new CramMalformedError(\"Invalid rANS order \".concat(order));\n  var\n  /* int */\n  inputSize = input.getInt();\n  if (inputSize !== input.remaining() - RAW_BYTE_LENGTH) throw new CramMalformedError('Incorrect input length.');\n  var\n  /* int */\n  outputSize = input.getInt();\n  var output = new ByteBuffer(outputBuffer || Buffer.allocUnsafe(outputSize)); // TODO output.limit(outputSize)\n\n  if (output.length < outputSize) throw new CramMalformedError(\"Output buffer too small to fit \".concat(outputSize, \" bytes.\"));\n\n  switch (order) {\n    case 0:\n      return uncompressOrder0Way4(input, output);\n\n    case 1:\n      return uncompressOrder1Way4(input, output);\n\n    default:\n      throw new CramMalformedError(\"Invalid rANS order: \".concat(order));\n  }\n}\n\nmodule.exports = {\n  uncompress: uncompress\n};","var parent = require('../../es/instance/fill');\n\nmodule.exports = parent;\n","var fill = require('../array/virtual/fill');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.fill;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.fill) ? fill : own;\n};\n","require('../../../modules/es.array.fill');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').fill;\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _fill = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/fill\"));\n\nvar _require = require('../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar Constants = require('./constants');\n\nvar Decoding = require('./decoding');\n\nfunction assert(result) {\n  if (!result) throw new CramMalformedError('assertion failed');\n}\n\nfunction readStatsO0(\n/* ByteBuffer */\ncp,\n/* Decoding.AriDecoder */\ndecoder,\n/* Decoding.RansDecSymbol[] */\nsyms) {\n  // Pre-compute reverse lookup of frequency.\n  var rle = 0;\n  var x = 0;\n  var j = cp.get() & 0xff;\n\n  do {\n    var _context;\n\n    if (decoder.fc[j] == null) decoder.fc[j] = new Decoding.FC();\n    decoder.fc[j].F = cp.get() & 0xff;\n\n    if (decoder.fc[j].F >= 128) {\n      decoder.fc[j].F &= ~128;\n      decoder.fc[j].F = (decoder.fc[j].F & 127) << 8 | cp.get() & 0xff;\n    }\n\n    decoder.fc[j].C = x;\n    Decoding.symbolInit(syms[j], decoder.fc[j].C, decoder.fc[j].F);\n    /* Build reverse lookup table */\n\n    if (!decoder.R) decoder.R = new Array(Constants.TOTFREQ);\n    (0, _fill.default)(_context = decoder.R).call(_context, j, x, x + decoder.fc[j].F);\n    x += decoder.fc[j].F;\n\n    if (rle === 0 && j + 1 === (0xff & cp.getByteAt(cp.position()))) {\n      j = cp.get() & 0xff;\n      rle = cp.get() & 0xff;\n    } else if (rle !== 0) {\n      rle -= 1;\n      j += 1;\n    } else {\n      j = cp.get() & 0xff;\n    }\n  } while (j !== 0);\n\n  assert(x < Constants.TOTFREQ);\n}\n\nfunction readStatsO1(\n/* ByteBuffer */\ncp,\n/*  Decoding.AriDecoder[] */\nD,\n/* Decoding.RansDecSymbol[][] */\nsyms) {\n  var rlei = 0;\n  var i = 0xff & cp.get();\n\n  do {\n    var rlej = 0;\n    var x = 0;\n    var j = 0xff & cp.get();\n    if (D[i] == null) D[i] = new Decoding.AriDecoder();\n\n    do {\n      var _context2;\n\n      if (D[i].fc[j] == null) D[i].fc[j] = new Decoding.FC();\n      D[i].fc[j].F = 0xff & cp.get();\n\n      if (D[i].fc[j].F >= 128) {\n        D[i].fc[j].F &= ~128;\n        D[i].fc[j].F = (D[i].fc[j].F & 127) << 8 | 0xff & cp.get();\n      }\n\n      D[i].fc[j].C = x;\n      if (D[i].fc[j].F === 0) D[i].fc[j].F = Constants.TOTFREQ;\n      if (syms[i][j] == null) syms[i][j] = new Decoding.RansDecSymbol();\n      Decoding.symbolInit(syms[i][j], D[i].fc[j].C, D[i].fc[j].F);\n      /* Build reverse lookup table */\n\n      if (D[i].R == null) D[i].R = new Array(Constants.TOTFREQ);\n      (0, _fill.default)(_context2 = D[i].R).call(_context2, j, x, x + D[i].fc[j].F);\n      x += D[i].fc[j].F;\n      assert(x <= Constants.TOTFREQ);\n\n      if (rlej === 0 && j + 1 === (0xff & cp.getByteAt(cp.position()))) {\n        j = 0xff & cp.get();\n        rlej = 0xff & cp.get();\n      } else if (rlej !== 0) {\n        rlej -= 1;\n        j += 1;\n      } else {\n        j = 0xff & cp.get();\n      }\n    } while (j !== 0);\n\n    if (rlei === 0 && i + 1 === (0xff & cp.getByteAt(cp.position()))) {\n      i = 0xff & cp.get();\n      rlei = 0xff & cp.get();\n    } else if (rlei !== 0) {\n      rlei -= 1;\n      i += 1;\n    } else {\n      i = 0xff & cp.get();\n    }\n  } while (i !== 0);\n}\n\nmodule.exports = {\n  readStatsO0: readStatsO0,\n  readStatsO1: readStatsO1\n};","\"use strict\";\n\nvar _require = require('../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar Constants = require('./constants');\n\nvar Decoding = require('./decoding');\n\nfunction uncompress(\n/* ByteBuffer */\ninput,\n/* Decoding.AriDecoder */\nD,\n/* Decoding.Symbol[] */\nsyms,\n/* ByteBuffer */\nout) {\n  var rans0 = input.getInt();\n  var rans1 = input.getInt();\n  var rans2 = input.getInt();\n  var rans3 = input.getInt();\n  var\n  /* int */\n  outputSize = out.remaining();\n  var\n  /* int */\n  outputEnd = outputSize & ~3;\n\n  for (var i = 0; i < outputEnd; i += 4) {\n    var\n    /* byte */\n    c0 = D.R[Decoding.get(rans0, Constants.TF_SHIFT)];\n    var\n    /* byte */\n    c1 = D.R[Decoding.get(rans1, Constants.TF_SHIFT)];\n    var\n    /* byte */\n    c2 = D.R[Decoding.get(rans2, Constants.TF_SHIFT)];\n    var\n    /* byte */\n    c3 = D.R[Decoding.get(rans3, Constants.TF_SHIFT)];\n    out.putAt(i, c0);\n    out.putAt(i + 1, c1);\n    out.putAt(i + 2, c2);\n    out.putAt(i + 3, c3);\n    rans0 = Decoding.advanceSymbolStep(rans0, syms[0xff & c0], Constants.TF_SHIFT);\n    rans1 = Decoding.advanceSymbolStep(rans1, syms[0xff & c1], Constants.TF_SHIFT);\n    rans2 = Decoding.advanceSymbolStep(rans2, syms[0xff & c2], Constants.TF_SHIFT);\n    rans3 = Decoding.advanceSymbolStep(rans3, syms[0xff & c3], Constants.TF_SHIFT);\n    rans0 = Decoding.renormalize(rans0, input);\n    rans1 = Decoding.renormalize(rans1, input);\n    rans2 = Decoding.renormalize(rans2, input);\n    rans3 = Decoding.renormalize(rans3, input);\n  }\n\n  out.setPosition(outputEnd);\n  var\n  /* byte */\n  c;\n\n  switch (outputSize & 3) {\n    case 0:\n      break;\n\n    case 1:\n      c = D.R[Decoding.get(rans0, Constants.TF_SHIFT)];\n      Decoding.advanceSymbol(rans0, input, syms[0xff & c], Constants.TF_SHIFT);\n      out.put(c);\n      break;\n\n    case 2:\n      c = D.R[Decoding.get(rans0, Constants.TF_SHIFT)];\n      Decoding.advanceSymbol(rans0, input, syms[0xff & c], Constants.TF_SHIFT);\n      out.put(c);\n      c = D.R[Decoding.get(rans1, Constants.TF_SHIFT)];\n      Decoding.advanceSymbol(rans1, input, syms[0xff & c], Constants.TF_SHIFT);\n      out.put(c);\n      break;\n\n    case 3:\n      c = D.R[Decoding.get(rans0, Constants.TF_SHIFT)];\n      Decoding.advanceSymbol(rans0, input, syms[0xff & c], Constants.TF_SHIFT);\n      out.put(c);\n      c = D.R[Decoding.get(rans1, Constants.TF_SHIFT)];\n      Decoding.advanceSymbol(rans1, input, syms[0xff & c], Constants.TF_SHIFT);\n      out.put(c);\n      c = D.R[Decoding.get(rans2, Constants.TF_SHIFT)];\n      Decoding.advanceSymbol(rans2, input, syms[0xff & c], Constants.TF_SHIFT);\n      out.put(c);\n      break;\n\n    default:\n      throw new CramMalformedError('invalid output size encountered during rANS decoding');\n  }\n\n  out.setPosition(0);\n}\n\nmodule.exports = {\n  uncompress: uncompress\n};","\"use strict\";\n\nvar Constants = require('./constants');\n\nvar Decoding = require('./decoding');\n\nfunction uncompress(\n/* ByteBuffer */\ninput,\n/* ByteBuffer */\noutput,\n/* Decoding.AriDecoder[] */\nD,\n/* Decoding.Symbol[][] */\nsyms) {\n  var\n  /* int */\n  outputSize = output.remaining();\n  var rans0 = input.getInt();\n  var rans1 = input.getInt();\n  var rans2 = input.getInt();\n  var rans7 = input.getInt();\n  var\n  /* int */\n  isz4 = outputSize >> 2;\n  var\n  /* int */\n  i0 = 0;\n  var\n  /* int */\n  i1 = isz4;\n  var\n  /* int */\n  i2 = 2 * isz4;\n  var\n  /* int */\n  i7 = 3 * isz4;\n  var\n  /* int */\n  l0 = 0;\n  var\n  /* int */\n  l1 = 0;\n  var\n  /* int */\n  l2 = 0;\n  var\n  /* int */\n  l7 = 0;\n\n  for (; i0 < isz4; i0 += 1, i1 += 1, i2 += 1, i7 += 1) {\n    var\n    /* int */\n    c0 = 0xff & D[l0].R[Decoding.get(rans0, Constants.TF_SHIFT)];\n    var\n    /* int */\n    c1 = 0xff & D[l1].R[Decoding.get(rans1, Constants.TF_SHIFT)];\n    var\n    /* int */\n    c2 = 0xff & D[l2].R[Decoding.get(rans2, Constants.TF_SHIFT)];\n    var\n    /* int */\n    c7 = 0xff & D[l7].R[Decoding.get(rans7, Constants.TF_SHIFT)];\n    output.putAt(i0, c0);\n    output.putAt(i1, c1);\n    output.putAt(i2, c2);\n    output.putAt(i7, c7);\n    rans0 = Decoding.advanceSymbolStep(rans0, syms[l0][c0], Constants.TF_SHIFT);\n    rans1 = Decoding.advanceSymbolStep(rans1, syms[l1][c1], Constants.TF_SHIFT);\n    rans2 = Decoding.advanceSymbolStep(rans2, syms[l2][c2], Constants.TF_SHIFT);\n    rans7 = Decoding.advanceSymbolStep(rans7, syms[l7][c7], Constants.TF_SHIFT);\n    rans0 = Decoding.renormalize(rans0, input);\n    rans1 = Decoding.renormalize(rans1, input);\n    rans2 = Decoding.renormalize(rans2, input);\n    rans7 = Decoding.renormalize(rans7, input);\n    l0 = c0;\n    l1 = c1;\n    l2 = c2;\n    l7 = c7;\n  } // Remainder\n\n\n  for (; i7 < outputSize; i7 += 1) {\n    var\n    /* int */\n    _c = 0xff & D[l7].R[Decoding.get(rans7, Constants.TF_SHIFT)];\n\n    output.putAt(i7, _c);\n    rans7 = Decoding.advanceSymbol(rans7, input, syms[l7][_c], Constants.TF_SHIFT);\n    l7 = _c;\n  }\n}\n\nmodule.exports = {\n  uncompress: uncompress\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/assign\"));\n\nvar _require = require('@gmod/binary-parser'),\n    Parser = _require.Parser;\n\nvar singleItf8 = new Parser().itf8();\nvar cramFileDefinition = {\n  parser: new Parser().string('magic', {\n    length: 4\n  }).uint8('majorVersion').uint8('minorVersion').string('fileId', {\n    length: 20,\n    stripNull: true\n  }),\n  maxLength: 26\n};\nvar cramBlockHeader = {\n  parser: new Parser().uint8('compressionMethod', {\n    formatter:\n    /* istanbul ignore next */\n    function formatter(b) {\n      var method = ['raw', 'gzip', 'bzip2', 'lzma', 'rans'][b];\n      if (!method) throw new Error(\"compression method number \".concat(b, \" not implemented\"));\n      return method;\n    }\n  }).uint8('contentType', {\n    formatter:\n    /* istanbul ignore next */\n    function formatter(b) {\n      var type = ['FILE_HEADER', 'COMPRESSION_HEADER', 'MAPPED_SLICE_HEADER', 'UNMAPPED_SLICE_HEADER', // < only used in cram v1\n      'EXTERNAL_DATA', 'CORE_DATA'][b];\n      if (!type) throw new Error(\"invalid block content type id \".concat(b));\n      return type;\n    }\n  }).itf8('contentId').itf8('compressedSize').itf8('uncompressedSize'),\n  maxLength: 17\n};\nvar cramBlockCrc32 = {\n  parser: new Parser().uint32('crc32'),\n  maxLength: 4\n}; // const ENCODING_NAMES = [\n//   'NULL', // 0\n//   'EXTERNAL', // 1\n//   'GOLOMB', // 2\n//   'HUFFMAN_INT', // 3\n//   'BYTE_ARRAY_LEN', // 4\n//   'BYTE_ARRAY_STOP', // 5\n//   'BETA', // 6\n//   'SUBEXP', // 7\n//   'GOLOMB_RICE', // 8\n//   'GAMMA', // 9\n// ]\n\nvar cramTagDictionary = new Parser().itf8('size').buffer('ents', {\n  length: 'size',\n  formatter:\n  /* istanbul ignore next */\n  function formatter(buffer) {\n    function makeTagSet(stringStart, stringEnd) {\n      var str = buffer.toString('utf8', stringStart, stringEnd);\n      var tags = [];\n\n      for (var _i = 0; _i < str.length; _i += 3) {\n        tags.push(str.substr(_i, 3));\n      }\n\n      return tags;\n    }\n    /* eslint-disable */\n\n\n    var tagSets = [];\n    var stringStart = 0;\n    var i;\n    /* eslint-enable */\n\n    for (i = 0; i < buffer.length; i += 1) {\n      if (!buffer[i]) {\n        tagSets.push(makeTagSet(stringStart, i));\n        stringStart = i + 1;\n      }\n    }\n\n    if (i > stringStart) tagSets.push(makeTagSet(stringStart, i));\n    return tagSets;\n  }\n}); // const cramPreservationMapKeys = 'XX RN AP RR SM TD'.split(' ')\n\nvar parseByteAsBool = new Parser().uint8(null, {\n  formatter:\n  /* istanbul ignore next */\n  function formatter(val) {\n    return !!val;\n  }\n});\nvar cramPreservationMap = new Parser().itf8('mapSize').itf8('mapCount').array('ents', {\n  length: 'mapCount',\n  type: new Parser().string('key', {\n    length: 2,\n    stripNull: false // formatter: val => cramPreservationMapKeys[val] || 0,\n\n  }).choice('value', {\n    tag: 'key',\n    choices: {\n      MI: parseByteAsBool,\n      UI: parseByteAsBool,\n      PI: parseByteAsBool,\n      RN: parseByteAsBool,\n      AP: parseByteAsBool,\n      RR: parseByteAsBool,\n      SM: new Parser().array(null, {\n        type: 'uint8',\n        length: 5\n      }),\n      TD: new Parser().nest(null, {\n        type: cramTagDictionary,\n        formatter:\n        /* istanbul ignore next */\n        function formatter(data) {\n          return data.ents;\n        }\n      })\n    }\n  })\n});\n/* istanbul ignore next */\n\nfunction formatMap(data) {\n  var map = {};\n\n  for (var i = 0; i < data.ents.length; i += 1) {\n    var _data$ents$i = data.ents[i],\n        key = _data$ents$i.key,\n        value = _data$ents$i.value;\n    if (map[key]) console.warn(\"duplicate key \".concat(key, \" in map\"));\n    map[key] = value;\n  }\n\n  return map;\n}\n\nvar unversionedParsers = {\n  cramFileDefinition: cramFileDefinition,\n  cramBlockHeader: cramBlockHeader,\n  cramBlockCrc32: cramBlockCrc32\n}; // each of these is a function of the major and minor version\n\nvar versionedParsers = {\n  // assemble a section parser for the unmapped slice header, with slight\n  // variations depending on the major version of the cram file\n  cramUnmappedSliceHeader: function cramUnmappedSliceHeader(majorVersion) {\n    var maxLength = 0;\n    var parser = new Parser().itf8('numRecords');\n    maxLength += 5; // recordCounter is itf8 in a CRAM v2 file, absent in CRAM v1\n\n    if (majorVersion >= 3) {\n      parser = parser.ltf8('recordCounter');\n      maxLength += 9;\n    } else if (majorVersion === 2) {\n      parser = parser.itf8('recordCounter');\n      maxLength += 5;\n    }\n\n    parser = parser.itf8('numBlocks').itf8('numContentIds').array('contentIds', {\n      type: singleItf8,\n      length: 'numContentIds'\n    });\n    maxLength += 5 * 2; // + numContentIds*5\n    // the md5 sum is missing in cram v1\n\n    if (majorVersion >= 2) {\n      parser = parser.array('md5', {\n        type: 'uint8',\n        length: 16\n      });\n      maxLength += 16;\n    }\n\n    var maxLengthFunc = function maxLengthFunc(numContentIds) {\n      return maxLength + numContentIds * 5;\n    };\n\n    return {\n      parser: parser,\n      maxLength: maxLengthFunc\n    }; // : p, maxLength: numContentIds => 5 + 9 + 5 * 2 + 5 * numContentIds + 16 }\n  },\n  // assembles a section parser for the unmapped slice header, with slight\n  // variations depending on the major version of the cram file\n  cramMappedSliceHeader: function cramMappedSliceHeader(majorVersion) {\n    var parser = new Parser().itf8('refSeqId').itf8('refSeqStart').itf8('refSeqSpan').itf8('numRecords');\n    var maxLength = 5 * 4;\n\n    if (majorVersion >= 3) {\n      parser = parser.ltf8('recordCounter');\n      maxLength += 9;\n    } else if (majorVersion === 2) {\n      parser = parser.itf8('recordCounter');\n      maxLength += 5;\n    }\n\n    parser = parser.itf8('numBlocks').itf8('numContentIds').array('contentIds', {\n      type: singleItf8,\n      length: 'numContentIds'\n    }).itf8('refBaseBlockId');\n    maxLength += 5 * 3; // the md5 sum is missing in cram v1\n\n    if (majorVersion >= 2) {\n      parser = parser.array('md5', {\n        type: 'uint8',\n        length: 16\n      });\n      maxLength += 16;\n    }\n\n    var maxLengthFunc = function maxLengthFunc(numContentIds) {\n      return maxLength + numContentIds * 5;\n    };\n\n    return {\n      parser: parser,\n      maxLength: maxLengthFunc\n    };\n  },\n  cramEncoding: function cramEncoding(majorVersion) {\n    var parser = new Parser().namely('cramEncoding').itf8('codecId').itf8('parametersBytes').choice('parameters', {\n      tag: 'codecId',\n      choices: {\n        0: new Parser(),\n        // NULL\n        1: new Parser().itf8('blockContentId'),\n        // EXTERNAL\n        2: new Parser().itf8('offset').itf8('M'),\n        // GOLOMB,\n        // HUFFMAN_INT\n        3: Parser.start().itf8('numCodes').array('symbols', {\n          length: 'numCodes',\n          type: singleItf8\n        }).itf8('numLengths').array('bitLengths', {\n          length: 'numLengths',\n          type: singleItf8\n        }),\n        4: Parser.start() // BYTE_ARRAY_LEN\n        .nest('lengthsEncoding', {\n          type: 'cramEncoding'\n        }).nest('valuesEncoding', {\n          type: 'cramEncoding'\n        }),\n        // BYTE_ARRAY_STOP is a little different for CRAM v1\n        5: new Parser().uint8('stopByte')[majorVersion > 1 ? 'itf8' : 'int']('blockContentId'),\n        6: new Parser().itf8('offset').itf8('length'),\n        // BETA\n        7: new Parser().itf8('offset').itf8('K'),\n        // SUBEXP\n        8: new Parser().itf8('offset').itf8('log2m'),\n        // GOLOMB_RICE\n        9: new Parser().itf8('offset') // GAMMA\n\n      }\n    });\n    return {\n      parser: parser\n    };\n  },\n  cramDataSeriesEncodingMap: function cramDataSeriesEncodingMap(majorVersion) {\n    return new Parser().itf8('mapSize').itf8('mapCount').array('ents', {\n      length: 'mapCount',\n      type: new Parser().string('key', {\n        length: 2,\n        stripNull: false\n      }).nest('value', {\n        type: this.cramEncoding(majorVersion).parser\n      })\n    });\n  },\n  cramTagEncodingMap: function cramTagEncodingMap(majorVersion) {\n    return new Parser().itf8('mapSize').itf8('mapCount').array('ents', {\n      length: 'mapCount',\n      type: new Parser().itf8('key', {\n        formatter:\n        /* istanbul ignore next */\n        function formatter(integerRepresentation) {\n          return (\n            /* istanbul ignore next */\n            String.fromCharCode(integerRepresentation >> 16 & 0xff) + String.fromCharCode(integerRepresentation >> 8 & 0xff) + String.fromCharCode(integerRepresentation & 0xff)\n          );\n        }\n      }).nest('value', {\n        type: this.cramEncoding(majorVersion).parser\n      })\n    });\n  },\n  cramCompressionHeader: function cramCompressionHeader(majorVersion) {\n    var parser = new Parser(); // TODO: if we want to support CRAM v1, we will need to refactor\n    // compression header into 2 parts to parse the landmarks,\n    // like the container header\n\n    parser = parser.nest('preservation', {\n      type: cramPreservationMap,\n      formatter: formatMap\n    }).nest('dataSeriesEncoding', {\n      type: this.cramDataSeriesEncodingMap(majorVersion),\n      formatter: formatMap\n    }).nest('tagEncoding', {\n      type: this.cramTagEncodingMap(majorVersion),\n      formatter: formatMap\n    });\n    return {\n      parser: parser\n    };\n  },\n  cramContainerHeader1: function cramContainerHeader1(majorVersion) {\n    var parser = new Parser().int32('length') // byte size of the container data (blocks)\n    .itf8('refSeqId') // reference sequence identifier, -1 for unmapped reads, -2 for multiple reference sequences\n    .itf8('refSeqStart') // the alignment start position or 0 for unmapped reads\n    .itf8('alignmentSpan') // the length of the alignment or 0 for unmapped reads\n    .itf8('numRecords'); // number of records in the container\n\n    var maxLength = 4 + 5 * 4;\n\n    if (majorVersion >= 3) {\n      parser = parser.ltf8('recordCounter'); // 1-based sequential index of records in the file/stream.\n\n      maxLength += 9;\n    } else if (majorVersion === 2) {\n      parser = parser.itf8('recordCounter');\n      maxLength += 5;\n    }\n\n    if (majorVersion > 1) {\n      parser = parser.ltf8('numBases'); // number of read bases\n\n      maxLength += 9;\n    }\n\n    parser = parser.itf8('numBlocks') // the number of blocks\n    .itf8('numLandmarks'); // the number of landmarks\n\n    maxLength += 5 + 5;\n    return {\n      parser: parser,\n      maxLength: maxLength\n    };\n  },\n  cramContainerHeader2: function cramContainerHeader2(majorVersion) {\n    var parser = new Parser().itf8('numLandmarks') // the number of blocks\n    // Each integer value of this array is a byte offset\n    // into the blocks byte array. Landmarks are used for\n    // random access indexing.\n    .array('landmarks', {\n      type: new Parser().itf8(),\n      length: 'numLandmarks'\n    });\n    var crcLength = 0;\n\n    if (majorVersion >= 3) {\n      parser = parser.uint32('crc32');\n      crcLength = 4;\n    }\n\n    return {\n      parser: parser,\n      maxLength: function maxLength(numLandmarks) {\n        return 5 + numLandmarks * 5 + crcLength;\n      }\n    };\n  }\n};\n\nfunction getSectionParsers(majorVersion) {\n  var _context;\n\n  var parsers = (0, _assign.default)({}, unversionedParsers);\n  (0, _forEach.default)(_context = (0, _keys.default)(versionedParsers)).call(_context, function (parserName) {\n    parsers[parserName] = versionedParsers[parserName](majorVersion);\n  });\n  return parsers;\n}\n\nmodule.exports = {\n  cramFileDefinition: cramFileDefinition,\n  getSectionParsers: getSectionParsers\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/assign\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _context7;\n\nvar _require = require('../../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar _require2 = require('../util'),\n    itf8Size = _require2.itf8Size,\n    parseItem = _require2.parseItem,\n    tinyMemoize = _require2.tinyMemoize;\n\nvar CramSlice = require('../slice');\n\nvar CramContainerCompressionScheme = require('./compressionScheme');\n\nvar CramContainer =\n/*#__PURE__*/\nfunction () {\n  function CramContainer(cramFile, position) {\n    (0, _classCallCheck2.default)(this, CramContainer);\n    // cram file this container comes from\n    this.file = cramFile; // position of this container in the file\n\n    this.filePosition = position; // console.log(`container: ${this.filePosition}`)\n  } // memoize\n\n\n  (0, _createClass2.default)(CramContainer, [{\n    key: \"getHeader\",\n    value: function getHeader() {\n      return this._readContainerHeader(this.filePosition);\n    } // memoize\n\n  }, {\n    key: \"getCompressionHeaderBlock\",\n    value: function () {\n      var _getCompressionHeaderBlock = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee() {\n        var containerHeader, sectionParsers, block, content;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getHeader();\n\n              case 2:\n                containerHeader = _context.sent;\n\n                if (containerHeader.numRecords) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 5:\n                _context.next = 7;\n                return this.file.getSectionParsers();\n\n              case 7:\n                sectionParsers = _context.sent;\n                _context.next = 10;\n                return this.getFirstBlock();\n\n              case 10:\n                block = _context.sent;\n\n                if (!(block.contentType !== 'COMPRESSION_HEADER')) {\n                  _context.next = 13;\n                  break;\n                }\n\n                throw new CramMalformedError(\"invalid content type \".concat(block.contentType, \" in what is supposed to be the compression header block\"));\n\n              case 13:\n                content = parseItem(block.content, sectionParsers.cramCompressionHeader.parser, 0, block.contentPosition);\n                block.content = content;\n                return _context.abrupt(\"return\", block);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getCompressionHeaderBlock() {\n        return _getCompressionHeaderBlock.apply(this, arguments);\n      }\n\n      return getCompressionHeaderBlock;\n    }()\n  }, {\n    key: \"getFirstBlock\",\n    value: function () {\n      var _getFirstBlock = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var containerHeader;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getHeader();\n\n              case 2:\n                containerHeader = _context2.sent;\n                return _context2.abrupt(\"return\", this.file.readBlock(containerHeader._endPosition));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getFirstBlock() {\n        return _getFirstBlock.apply(this, arguments);\n      }\n\n      return getFirstBlock;\n    }() // parses the compression header data into a CramContainerCompressionScheme object\n    // memoize\n\n  }, {\n    key: \"getCompressionScheme\",\n    value: function () {\n      var _getCompressionScheme = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee3() {\n        var header;\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getCompressionHeaderBlock();\n\n              case 2:\n                header = _context3.sent;\n\n                if (header) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", undefined);\n\n              case 5:\n                return _context3.abrupt(\"return\", new CramContainerCompressionScheme(header.content));\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getCompressionScheme() {\n        return _getCompressionScheme.apply(this, arguments);\n      }\n\n      return getCompressionScheme;\n    }()\n  }, {\n    key: \"getSlice\",\n    value: function getSlice(slicePosition, sliceSize) {\n      // note: slicePosition is relative to the end of the container header\n      // TODO: perhaps we should cache slices?\n      return new CramSlice(this, slicePosition, sliceSize);\n    }\n  }, {\n    key: \"_readContainerHeader\",\n    value: function () {\n      var _readContainerHeader2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee4(position) {\n        var sectionParsers, cramContainerHeader1, cramContainerHeader2, _ref, fileSize, bytes1, header1, numLandmarksSize, _context4, _context5, bytes2, header2, completeHeader;\n\n        return _regenerator.default.wrap(function _callee4$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.file.getSectionParsers();\n\n              case 2:\n                sectionParsers = _context6.sent;\n                cramContainerHeader1 = sectionParsers.cramContainerHeader1, cramContainerHeader2 = sectionParsers.cramContainerHeader2;\n                _context6.next = 6;\n                return this.file.stat();\n\n              case 6:\n                _ref = _context6.sent;\n                fileSize = _ref.size;\n\n                if (!(position >= fileSize)) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", undefined);\n\n              case 10:\n                // parse the container header. do it in 2 pieces because you cannot tell\n                // how much to buffer until you read numLandmarks\n                bytes1 = Buffer.allocUnsafe(cramContainerHeader1.maxLength);\n                _context6.next = 13;\n                return this.file.read(bytes1, 0, cramContainerHeader1.maxLength, position);\n\n              case 13:\n                header1 = parseItem(bytes1, cramContainerHeader1.parser);\n                numLandmarksSize = itf8Size(header1.numLandmarks);\n\n                if (!(position + header1.length >= fileSize)) {\n                  _context6.next = 18;\n                  break;\n                }\n\n                console.warn((0, _concat.default)(_context4 = (0, _concat.default)(_context5 = \"\".concat(this.file, \": container header at \")).call(_context5, position, \" indicates that the container has length \")).call(_context4, header1.length, \", which extends beyond the length of the file. Skipping this container.\"));\n                return _context6.abrupt(\"return\", undefined);\n\n              case 18:\n                bytes2 = Buffer.allocUnsafe(cramContainerHeader2.maxLength(header1.numLandmarks));\n                _context6.next = 21;\n                return this.file.read(bytes2, 0, cramContainerHeader2.maxLength(header1.numLandmarks), position + header1._size - numLandmarksSize);\n\n              case 21:\n                header2 = parseItem(bytes2, cramContainerHeader2.parser);\n\n                if (!(this.file.validateChecksums && header2.crc32 !== undefined)) {\n                  _context6.next = 25;\n                  break;\n                }\n\n                _context6.next = 25;\n                return this.file.checkCrc32(position, header1._size + header2._size - numLandmarksSize - 4, header2.crc32, \"container header beginning at position \".concat(position));\n\n              case 25:\n                completeHeader = (0, _assign.default)(header1, header2, {\n                  _size: header1._size + header2._size - numLandmarksSize,\n                  _endPosition: header1._size + header2._size - numLandmarksSize + position\n                });\n                return _context6.abrupt(\"return\", completeHeader);\n\n              case 27:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _readContainerHeader(_x) {\n        return _readContainerHeader2.apply(this, arguments);\n      }\n\n      return _readContainerHeader;\n    }()\n  }]);\n  return CramContainer;\n}();\n\n(0, _forEach.default)(_context7 = 'getHeader getCompressionHeaderBlock getCompressionScheme'.split(' ')).call(_context7, function (method) {\n  return tinyMemoize(CramContainer, method);\n});\nmodule.exports = CramContainer;","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _flags = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/flags\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _context17;\n\nvar _require = require('../../errors'),\n    CramMalformedError = _require.CramMalformedError,\n    CramBufferOverrunError = _require.CramBufferOverrunError,\n    CramArgumentError = _require.CramArgumentError;\n\nvar _require2 = require('../util'),\n    parseItem = _require2.parseItem,\n    tinyMemoize = _require2.tinyMemoize,\n    sequenceMD5 = _require2.sequenceMD5;\n\nvar Constants = require('../constants');\n\nvar decodeRecord = require('./decodeRecord');\n/**\n * @private\n * Try to estimate the template length from a bunch of interrelated multi-segment reads.\n * @param {Array[CramRecord]} allRecords\n * @param {number} currentRecordNumber\n * @param {CramRecord} thisRecord\n */\n\n\nfunction calculateMultiSegmentMatedTemplateLength(allRecords, currentRecordNumber, thisRecord) {\n  function getAllMatedRecords(startRecord) {\n    var records = [startRecord];\n\n    if (startRecord.mateRecordNumber >= 0) {\n      var mateRecord = allRecords[startRecord.mateRecordNumber];\n      if (!mateRecord) throw new CramMalformedError('intra-slice mate record not found, this file seems malformed');\n      records.push.apply(records, (0, _toConsumableArray2.default)(getAllMatedRecords(mateRecord)));\n    }\n\n    return records;\n  }\n\n  var matedRecords = getAllMatedRecords(thisRecord);\n  var starts = (0, _map.default)(matedRecords).call(matedRecords, function (r) {\n    return r.alignmentStart;\n  });\n  var ends = (0, _map.default)(matedRecords).call(matedRecords, function (r) {\n    return r.alignmentStart + r.readLength - 1;\n  });\n  var estimatedTemplateLength = Math.max.apply(Math, (0, _toConsumableArray2.default)(ends)) - Math.min.apply(Math, (0, _toConsumableArray2.default)(starts)) + 1;\n  if (estimatedTemplateLength >= 0) (0, _forEach.default)(matedRecords).call(matedRecords, function (r) {\n    if (r.templateLength !== undefined) throw new CramMalformedError('mate pair group has some members that have template lengths already, this file seems malformed');\n    r.templateLength = estimatedTemplateLength;\n  });\n}\n/**\n * @private\n * Attempt to calculate the `templateLength` for a pair of intra-slice paired reads.\n * Ported from htslib. Algorithm is imperfect.\n * @param {CramRecord} thisRecord\n * @param {CramRecord} mateRecord\n */\n\n\nfunction calculateIntraSliceMatePairTemplateLength(thisRecord, mateRecord) {\n  // this just estimates the template length by using the simple (non-gapped) end coordinate of each\n  // read, because gapping in the alignment doesn't mean the template is longer or shorter\n  var start = Math.min(thisRecord.alignmentStart, mateRecord.alignmentStart);\n  var end = Math.max(thisRecord.alignmentStart + thisRecord.readLength - 1, mateRecord.alignmentStart + mateRecord.readLength - 1);\n  var lengthEstimate = end - start + 1;\n  thisRecord.templateLength = lengthEstimate;\n  mateRecord.templateLength = lengthEstimate;\n}\n/**\n * @private establishes a mate-pair relationship between two records in the same slice.\n * CRAM compresses mate-pair relationships between records in the same slice down into\n * just one record having the index in the slice of its mate\n */\n\n\nfunction associateIntraSliceMate(allRecords, currentRecordNumber, thisRecord, mateRecord) {\n  if (!mateRecord) throw new CramMalformedError('could not resolve intra-slice mate pairs, file seems truncated or malformed');\n  var complicatedMultiSegment = !!(mateRecord.mate || mateRecord.mateRecordNumber !== undefined && mateRecord.mateRecordNumber !== currentRecordNumber); // Deal with lossy read names\n\n  if (!thisRecord.readName) {\n    thisRecord.readName = String(thisRecord.uniqueId);\n    mateRecord.readName = thisRecord.readName;\n  }\n\n  thisRecord.mate = {\n    sequenceId: mateRecord.sequenceId,\n    alignmentStart: mateRecord.alignmentStart,\n    uniqueId: mateRecord.uniqueId\n  };\n  if (mateRecord.readName) thisRecord.mate.readName = mateRecord.readName; // the mate record might have its own mate pointer, if this is some kind of\n  // multi-segment (more than paired) scheme, so only relate that one back to this one\n  // if it does not have any other relationship\n\n  if (!mateRecord.mate && mateRecord.mateRecordNumber === undefined) {\n    mateRecord.mate = {\n      sequenceId: thisRecord.sequenceId,\n      alignmentStart: thisRecord.alignmentStart,\n      uniqueId: thisRecord.uniqueId\n    };\n    if (thisRecord.readName) mateRecord.mate.readName = thisRecord.readName;\n  } // make sure the proper flags and cramFlags are set on both records\n  // paired\n\n\n  thisRecord.flags |= Constants.BAM_FPAIRED; // set mate unmapped if needed\n\n  if ((0, _flags.default)(mateRecord) & Constants.BAM_FUNMAP) {\n    thisRecord.flags |= Constants.BAM_FMUNMAP; // thisRecord.templateLength = 0\n  }\n\n  if ((0, _flags.default)(thisRecord) & Constants.BAM_FUNMAP) {\n    // thisRecord.templateLength = 0\n    mateRecord.flags |= Constants.BAM_FMUNMAP;\n  } // set mate reversed if needed\n\n\n  if ((0, _flags.default)(mateRecord) & Constants.BAM_FREVERSE) {\n    thisRecord.flags |= Constants.BAM_FMREVERSE;\n  }\n\n  if ((0, _flags.default)(thisRecord) & Constants.BAM_FREVERSE) {\n    mateRecord.flags |= Constants.BAM_FMREVERSE;\n  }\n\n  if (thisRecord.templateLength === undefined) {\n    if (complicatedMultiSegment) calculateMultiSegmentMatedTemplateLength(allRecords, currentRecordNumber, thisRecord);else calculateIntraSliceMatePairTemplateLength(thisRecord, mateRecord);\n  } // delete this last because it's used by the\n  // complicated template length estimation\n\n\n  delete thisRecord.mateRecordNumber;\n}\n\nvar CramSlice =\n/*#__PURE__*/\nfunction () {\n  function CramSlice(container, position) {\n    (0, _classCallCheck2.default)(this, CramSlice);\n    this.container = container;\n    this.file = container.file;\n    this.containerPosition = position;\n  } // memoize\n\n\n  (0, _createClass2.default)(CramSlice, [{\n    key: \"getHeader\",\n    value: function () {\n      var _getHeader = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee() {\n        var sectionParsers, containerHeader, header;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.file.getSectionParsers();\n\n              case 2:\n                sectionParsers = _context.sent;\n                _context.next = 5;\n                return this.container.getHeader();\n\n              case 5:\n                containerHeader = _context.sent;\n                _context.next = 8;\n                return this.file.readBlock(containerHeader._endPosition + this.containerPosition);\n\n              case 8:\n                header = _context.sent;\n\n                if (!(header.contentType === 'MAPPED_SLICE_HEADER')) {\n                  _context.next = 13;\n                  break;\n                }\n\n                header.content = parseItem(header.content, sectionParsers.cramMappedSliceHeader.parser, 0, containerHeader._endPosition);\n                _context.next = 18;\n                break;\n\n              case 13:\n                if (!(header.contentType === 'UNMAPPED_SLICE_HEADER')) {\n                  _context.next = 17;\n                  break;\n                }\n\n                header.content = parseItem(header.content, sectionParsers.cramUnmappedSliceHeader.parser, 0, containerHeader._endPosition);\n                _context.next = 18;\n                break;\n\n              case 17:\n                throw new CramMalformedError(\"error reading slice header block, invalid content type \".concat(header._contentType));\n\n              case 18:\n                return _context.abrupt(\"return\", header);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getHeader() {\n        return _getHeader.apply(this, arguments);\n      }\n\n      return getHeader;\n    }() // memoize\n\n  }, {\n    key: \"getBlocks\",\n    value: function () {\n      var _getBlocks = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var header, blockPosition, blocks, i;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getHeader();\n\n              case 2:\n                header = _context2.sent;\n                // read all the blocks into memory and store them\n                blockPosition = header._endPosition;\n                blocks = new Array(header.content.numBlocks);\n                i = 0;\n\n              case 6:\n                if (!(i < blocks.length)) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 9;\n                return this.file.readBlock(blockPosition);\n\n              case 9:\n                blocks[i] = _context2.sent;\n                blockPosition = blocks[i]._endPosition;\n\n              case 11:\n                i += 1;\n                _context2.next = 6;\n                break;\n\n              case 14:\n                return _context2.abrupt(\"return\", blocks);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getBlocks() {\n        return _getBlocks.apply(this, arguments);\n      }\n\n      return getBlocks;\n    }() // no memoize\n\n  }, {\n    key: \"getCoreDataBlock\",\n    value: function () {\n      var _getCoreDataBlock = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee3() {\n        var blocks;\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getBlocks();\n\n              case 2:\n                blocks = _context3.sent;\n                return _context3.abrupt(\"return\", blocks[0]);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getCoreDataBlock() {\n        return _getCoreDataBlock.apply(this, arguments);\n      }\n\n      return getCoreDataBlock;\n    }() // memoize\n\n  }, {\n    key: \"_getBlocksContentIdIndex\",\n    value: function () {\n      var _getBlocksContentIdIndex2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee4() {\n        var blocks, blocksByContentId;\n        return _regenerator.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getBlocks();\n\n              case 2:\n                blocks = _context4.sent;\n                blocksByContentId = {};\n                (0, _forEach.default)(blocks).call(blocks, function (block) {\n                  if (block.contentType === 'EXTERNAL_DATA') {\n                    blocksByContentId[block.contentId] = block;\n                  }\n                });\n                return _context4.abrupt(\"return\", blocksByContentId);\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _getBlocksContentIdIndex() {\n        return _getBlocksContentIdIndex2.apply(this, arguments);\n      }\n\n      return _getBlocksContentIdIndex;\n    }()\n  }, {\n    key: \"getBlockByContentId\",\n    value: function () {\n      var _getBlockByContentId = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee5(id) {\n        var blocksByContentId;\n        return _regenerator.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getBlocksContentIdIndex();\n\n              case 2:\n                blocksByContentId = _context5.sent;\n                return _context5.abrupt(\"return\", blocksByContentId[id]);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getBlockByContentId(_x) {\n        return _getBlockByContentId.apply(this, arguments);\n      }\n\n      return getBlockByContentId;\n    }()\n  }, {\n    key: \"getReferenceRegion\",\n    value: function () {\n      var _getReferenceRegion = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee6() {\n        var sliceHeader, compressionScheme, refBlock, seq;\n        return _regenerator.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getHeader();\n\n              case 2:\n                sliceHeader = _context6.sent.content;\n\n                if (!(sliceHeader.refSeqId < 0)) {\n                  _context6.next = 5;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", undefined);\n\n              case 5:\n                _context6.next = 7;\n                return this.container.getCompressionScheme();\n\n              case 7:\n                compressionScheme = _context6.sent;\n\n                if (!(sliceHeader.refBaseBlockId >= 0)) {\n                  _context6.next = 15;\n                  break;\n                }\n\n                refBlock = this.getBlockByContentId(sliceHeader.refBaseBlockId);\n\n                if (refBlock) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                throw new CramMalformedError('embedded reference specified, but reference block does not exist');\n\n              case 12:\n                if (!(sliceHeader.span > refBlock.uncompressedSize)) {\n                  _context6.next = 14;\n                  break;\n                }\n\n                throw new CramMalformedError('Embedded reference is too small');\n\n              case 14:\n                return _context6.abrupt(\"return\", {\n                  seq: refBlock.data.toString('utf8'),\n                  start: sliceHeader.refSeqStart,\n                  end: sliceHeader.refSeqStart + sliceHeader.refSeqSpan - 1,\n                  span: sliceHeader.refSeqSpan\n                });\n\n              case 15:\n                if (!(compressionScheme.referenceRequired || this.file.fetchReferenceSequenceCallback)) {\n                  _context6.next = 24;\n                  break;\n                }\n\n                if (this.file.fetchReferenceSequenceCallback) {\n                  _context6.next = 18;\n                  break;\n                }\n\n                throw new Error('reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence');\n\n              case 18:\n                _context6.next = 20;\n                return this.file.fetchReferenceSequenceCallback(sliceHeader.refSeqId, sliceHeader.refSeqStart, sliceHeader.refSeqStart + sliceHeader.refSeqSpan - 1);\n\n              case 20:\n                seq = _context6.sent;\n\n                if (!(seq.length !== sliceHeader.refSeqSpan)) {\n                  _context6.next = 23;\n                  break;\n                }\n\n                throw new CramArgumentError('seqFetch callback returned a reference sequence of the wrong length');\n\n              case 23:\n                return _context6.abrupt(\"return\", {\n                  seq: seq,\n                  start: sliceHeader.refSeqStart,\n                  end: sliceHeader.refSeqStart + sliceHeader.refSeqSpan - 1,\n                  span: sliceHeader.refSeqSpan\n                });\n\n              case 24:\n                return _context6.abrupt(\"return\", undefined);\n\n              case 25:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getReferenceRegion() {\n        return _getReferenceRegion.apply(this, arguments);\n      }\n\n      return getReferenceRegion;\n    }()\n  }, {\n    key: \"getAllRecords\",\n    value: function getAllRecords() {\n      return this.getRecords(function () {\n        return true;\n      });\n    }\n  }, {\n    key: \"_fetchRecords\",\n    value: function () {\n      var _fetchRecords2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee7() {\n        var _this = this;\n\n        var _ref, majorVersion, compressionScheme, sliceHeader, blocksByContentId, refRegion, _context7, _context8, _context9, _context10, _context11, seq, start, end, seqMd5, storedMd5, coreDataBlock, cursors, decodeDataSeries, records, i, _i, mateRecordNumber;\n\n        return _regenerator.default.wrap(function _callee7$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return this.file.getDefinition();\n\n              case 2:\n                _ref = _context12.sent;\n                majorVersion = _ref.majorVersion;\n                _context12.next = 6;\n                return this.container.getCompressionScheme();\n\n              case 6:\n                compressionScheme = _context12.sent;\n                _context12.next = 9;\n                return this.getHeader();\n\n              case 9:\n                sliceHeader = _context12.sent;\n                _context12.next = 12;\n                return this._getBlocksContentIdIndex();\n\n              case 12:\n                blocksByContentId = _context12.sent;\n\n                if (!(majorVersion > 1 && this.file.options.checkSequenceMD5 && sliceHeader.content.refSeqId >= 0 && sliceHeader.content.md5.join('') !== '0000000000000000')) {\n                  _context12.next = 23;\n                  break;\n                }\n\n                _context12.next = 16;\n                return this.getReferenceRegion();\n\n              case 16:\n                refRegion = _context12.sent;\n\n                if (!refRegion) {\n                  _context12.next = 23;\n                  break;\n                }\n\n                seq = refRegion.seq, start = refRegion.start, end = refRegion.end;\n                seqMd5 = sequenceMD5(seq);\n                storedMd5 = (0, _map.default)(_context7 = sliceHeader.content.md5).call(_context7, function (byte) {\n                  return (byte < 16 ? '0' : '') + byte.toString(16);\n                }).join('');\n\n                if (!(seqMd5 !== storedMd5)) {\n                  _context12.next = 23;\n                  break;\n                }\n\n                throw new CramMalformedError((0, _concat.default)(_context8 = (0, _concat.default)(_context9 = (0, _concat.default)(_context10 = (0, _concat.default)(_context11 = \"MD5 checksum reference mismatch for ref \".concat(sliceHeader.content.refSeqId, \" pos \")).call(_context11, start, \"..\")).call(_context10, end, \". recorded MD5: \")).call(_context9, storedMd5, \", calculated MD5: \")).call(_context8, seqMd5));\n\n              case 23:\n                _context12.next = 25;\n                return this.getCoreDataBlock();\n\n              case 25:\n                coreDataBlock = _context12.sent;\n                cursors = {\n                  lastAlignmentStart: sliceHeader.content.refSeqStart || 0,\n                  coreBlock: {\n                    bitPosition: 7,\n                    bytePosition: 0\n                  },\n                  externalBlocks: {\n                    getCursor: function getCursor(contentId) {\n                      if (!this[contentId]) this[contentId] = {\n                        bitPosition: 7,\n                        bytePosition: 0\n                      };\n                      return this[contentId];\n                    }\n                  }\n                };\n\n                decodeDataSeries = function decodeDataSeries(dataSeriesName) {\n                  var codec = compressionScheme.getCodecForDataSeries(dataSeriesName);\n                  if (!codec) throw new CramMalformedError(\"no codec defined for \".concat(dataSeriesName, \" data series\")); // console.log(dataSeriesName, Object.getPrototypeOf(codec))\n\n                  return codec.decode(_this, coreDataBlock, blocksByContentId, cursors);\n                };\n\n                records = new Array(sliceHeader.content.numRecords);\n                i = 0;\n\n              case 30:\n                if (!(i < records.length)) {\n                  _context12.next = 48;\n                  break;\n                }\n\n                _context12.prev = 31;\n                records[i] = decodeRecord(this, decodeDataSeries, compressionScheme, sliceHeader, coreDataBlock, blocksByContentId, cursors, majorVersion, i);\n                records[i].uniqueId = sliceHeader.contentPosition + sliceHeader.content.recordCounter + i + 1;\n                _context12.next = 45;\n                break;\n\n              case 36:\n                _context12.prev = 36;\n                _context12.t0 = _context12[\"catch\"](31);\n\n                if (!(_context12.t0 instanceof CramBufferOverrunError)) {\n                  _context12.next = 44;\n                  break;\n                }\n\n                console.warn('read attempted beyond end of buffer, file seems truncated.');\n                records = (0, _filter.default)(records).call(records, function (r) {\n                  return !!r;\n                });\n                return _context12.abrupt(\"break\", 48);\n\n              case 44:\n                throw _context12.t0;\n\n              case 45:\n                i += 1;\n                _context12.next = 30;\n                break;\n\n              case 48:\n                // interpret `recordsToNextFragment` attributes to make standard `mate` objects\n                // Resolve mate pair cross-references between records in this slice\n                for (_i = 0; _i < records.length; _i += 1) {\n                  mateRecordNumber = records[_i].mateRecordNumber;\n                  if (mateRecordNumber >= 0) associateIntraSliceMate(records, _i, records[_i], records[mateRecordNumber]);\n                }\n\n                return _context12.abrupt(\"return\", records);\n\n              case 50:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee7, this, [[31, 36]]);\n      }));\n\n      function _fetchRecords() {\n        return _fetchRecords2.apply(this, arguments);\n      }\n\n      return _fetchRecords;\n    }()\n  }, {\n    key: \"getRecords\",\n    value: function () {\n      var _getRecords = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee9(filterFunction) {\n        var _context13,\n            _this2 = this;\n\n        var cacheKey, recordsPromise, records, sliceHeader, _context14, singleRefId, _compressionScheme, refRegions, i, seqId, refRegion, end, _i2, _seqId, _refRegion;\n\n        return _regenerator.default.wrap(function _callee9$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                // fetch the features if necessary, using the file-level feature cache\n                cacheKey = this.container.filePosition + this.containerPosition;\n                recordsPromise = this.file.featureCache.get(cacheKey);\n\n                if (!recordsPromise) {\n                  recordsPromise = this._fetchRecords();\n                  this.file.featureCache.set(cacheKey, recordsPromise);\n                }\n\n                _context16.t0 = _filter.default;\n                _context16.next = 6;\n                return recordsPromise;\n\n              case 6:\n                _context16.t1 = _context13 = _context16.sent;\n                _context16.t2 = _context13;\n                _context16.t3 = filterFunction;\n                records = (0, _context16.t0)(_context16.t1).call(_context16.t2, _context16.t3);\n\n                if (!(records.length && this.file.fetchReferenceSequenceCallback)) {\n                  _context16.next = 24;\n                  break;\n                }\n\n                _context16.next = 13;\n                return this.getHeader();\n\n              case 13:\n                sliceHeader = _context16.sent;\n\n                if (!(sliceHeader.content.refSeqId >= 0 || // single-ref slice\n                sliceHeader.content.refSeqId === -2 // multi-ref slice\n                )) {\n                  _context16.next = 24;\n                  break;\n                }\n\n                singleRefId = sliceHeader.content.refSeqId >= 0 ? sliceHeader.content.refSeqId : undefined;\n                _context16.next = 18;\n                return this.container.getCompressionScheme();\n\n              case 18:\n                _compressionScheme = _context16.sent;\n                refRegions = {}; // seqId => { start, end, seq }\n                // iterate over the records to find the spans of the reference sequences we need to fetch\n\n                for (i = 0; i < records.length; i += 1) {\n                  seqId = singleRefId !== undefined ? singleRefId : records[i].sequenceId;\n                  refRegion = refRegions[seqId];\n\n                  if (!refRegion) {\n                    refRegion = {\n                      id: seqId,\n                      start: records[i].alignmentStart,\n                      end: -Infinity\n                    };\n                    refRegions[seqId] = refRegion;\n                  }\n\n                  end = records[i].alignmentStart + (records[i].lengthOnRef || records[i].readLength) - 1;\n                  if (end > refRegion.end) refRegion.end = end;\n                  if (records[i].alignmentStart < refRegion.start) refRegion.start = records[i].alignmentStart;\n                } // fetch the `seq` for all of the ref regions\n\n\n                _context16.next = 23;\n                return _promise.default.all((0, _map.default)(_context14 = (0, _values.default)(refRegions)).call(_context14,\n                /*#__PURE__*/\n                function () {\n                  var _ref2 = (0, _asyncToGenerator2.default)(\n                  /*#__PURE__*/\n                  _regenerator.default.mark(function _callee8(refRegion) {\n                    return _regenerator.default.wrap(function _callee8$(_context15) {\n                      while (1) {\n                        switch (_context15.prev = _context15.next) {\n                          case 0:\n                            if (!(refRegion.id !== -1 && refRegion.start <= refRegion.end)) {\n                              _context15.next = 4;\n                              break;\n                            }\n\n                            _context15.next = 3;\n                            return _this2.file.fetchReferenceSequenceCallback(refRegion.id, refRegion.start, refRegion.end);\n\n                          case 3:\n                            refRegion.seq = _context15.sent;\n\n                          case 4:\n                          case \"end\":\n                            return _context15.stop();\n                        }\n                      }\n                    }, _callee8);\n                  }));\n\n                  return function (_x3) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }()));\n\n              case 23:\n                // now decorate all the records with them\n                for (_i2 = 0; _i2 < records.length; _i2 += 1) {\n                  _seqId = singleRefId !== undefined ? singleRefId : records[_i2].sequenceId;\n                  _refRegion = refRegions[_seqId];\n\n                  if (_refRegion && _refRegion.seq) {\n                    records[_i2].addReferenceSequence(_refRegion, _compressionScheme);\n                  }\n                }\n\n              case 24:\n                return _context16.abrupt(\"return\", records);\n\n              case 25:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getRecords(_x2) {\n        return _getRecords.apply(this, arguments);\n      }\n\n      return getRecords;\n    }()\n  }]);\n  return CramSlice;\n}(); // memoize several methods in the class for performance\n\n\n(0, _forEach.default)(_context17 = 'getHeader getBlocks _getBlocksContentIdIndex'.split(' ')).call(_context17, function (method) {\n  return tinyMemoize(CramSlice, method);\n});\nmodule.exports = CramSlice;","var parent = require('../../es/object/values');\n\nmodule.exports = parent;\n","require('../../modules/es.object.values');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.values;\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var _Array$isArray = require(\"../core-js/array/is-array\");\n\nvar arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","module.exports = require(\"core-js-pure/features/instance/slice\");","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _isNan = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-nan\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _flags = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/flags\"));\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _parseInt = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/parse-int\"));\n\nvar _minSafeInteger = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/min-safe-integer\"));\n\nvar _maxSafeInteger = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/max-safe-integer\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar Long = require('long');\n\nvar _require = require('../../errors'),\n    CramMalformedError = _require.CramMalformedError,\n    CramUnimplementedError = _require.CramUnimplementedError;\n\nvar CramRecord = require('../record');\n\nvar Constants = require('../constants');\n/**\n * given a Buffer, read a string up to the first null character\n * @private\n */\n\n\nfunction readNullTerminatedStringFromBuffer(buffer) {\n  var zeroOffset = (0, _indexOf.default)(buffer).call(buffer, 0);\n  if (zeroOffset === -1) return buffer.toString('utf8');\n  return buffer.toString('utf8', 0, zeroOffset);\n}\n/**\n * parse a BAM tag's array value from a binary buffer\n * @private\n */\n\n\nfunction parseTagValueArray(buffer) {\n  var arrayType = String.fromCharCode(buffer[0]);\n  var length = buffer.readInt32LE(1);\n  var schema = {\n    c: ['readInt8', 1],\n    C: ['readUInt8', 1],\n    s: ['readInt16LE', 2],\n    S: ['readUInt16LE', 2],\n    i: ['readInt32LE', 4],\n    I: ['readUInt32LE', 4],\n    f: ['readFloatLE', 4]\n  }[arrayType];\n  if (!schema) throw new CramMalformedError(\"invalid tag value array type '\".concat(arrayType, \"'\"));\n\n  var _schema = (0, _slicedToArray2.default)(schema, 2),\n      getMethod = _schema[0],\n      itemSize = _schema[1];\n\n  var array = new Array(length);\n  var offset = 5;\n\n  for (var i = 0; i < length; i += 1) {\n    array[i] = buffer[getMethod](offset);\n    offset += itemSize;\n  }\n\n  return array;\n}\n\nfunction parseTagData(tagType, buffer) {\n  if (!buffer.readInt32LE) buffer = Buffer.from(buffer);\n  if (tagType === 'Z') return readNullTerminatedStringFromBuffer(buffer);\n  if (tagType === 'A') return String.fromCharCode(buffer[0]);\n\n  if (tagType === 'I') {\n    var val = Long.fromBytesLE(buffer);\n    if (val.greaterThan(_maxSafeInteger.default) || val.lessThan(_minSafeInteger.default)) throw new CramUnimplementedError('integer overflow');\n    return val.toNumber();\n  }\n\n  if (tagType === 'i') return buffer.readInt32LE(0);\n  if (tagType === 's') return buffer.readInt16LE(0);\n  if (tagType === 'S') return buffer.readUInt16LE(0);\n  if (tagType === 'c') return buffer.readInt8(0);\n  if (tagType === 'C') return buffer.readUInt8(0);\n  if (tagType === 'f') return buffer.readFloatLE(0);\n\n  if (tagType === 'H') {\n    var hex = readNullTerminatedStringFromBuffer(buffer);\n    return (0, _parseInt.default)(hex.replace(/^0x/, ''), 16);\n  }\n\n  if (tagType === 'B') return parseTagValueArray(buffer);\n  throw new CramMalformedError(\"Unrecognized tag type \".concat(tagType));\n}\n\nfunction decodeReadFeatures(cramRecord, readFeatureCount, decodeDataSeries, compressionScheme, majorVersion) {\n  var currentReadPos = 0;\n  var currentRefPos = cramRecord.alignmentStart - 1;\n  var readFeatures = new Array(readFeatureCount);\n\n  function decodeRFData(_ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        type = _ref2[0],\n        dataSeriesName = _ref2[1];\n\n    var data = decodeDataSeries(dataSeriesName);\n\n    if (type === 'character') {\n      return String.fromCharCode(data);\n    }\n\n    if (type === 'string') {\n      return data.toString('utf8');\n    }\n\n    if (type === 'numArray') {\n      return data.toArray();\n    } // else if (type === 'number') {\n    //   return data[0]\n    // }\n\n\n    return data;\n  }\n\n  for (var i = 0; i < readFeatureCount; i += 1) {\n    var code = String.fromCharCode(decodeDataSeries('FC'));\n    var readPosDelta = decodeDataSeries('FP');\n    var readFeature = {\n      code: code\n    }; // map of operator name -> data series name\n\n    var data1Schema = {\n      B: ['character', 'BA'],\n      S: ['string', majorVersion > 1 ? 'SC' : 'IN'],\n      // IN if cram v1, SC otherwise\n      X: ['number', 'BS'],\n      D: ['number', 'DL'],\n      I: ['string', 'IN'],\n      i: ['character', 'BA'],\n      b: ['string', 'BB'],\n      q: ['numArray', 'QQ'],\n      Q: ['number', 'QS'],\n      H: ['number', 'HC'],\n      P: ['number', 'PD'],\n      N: ['number', 'RS']\n    }[code];\n    if (!data1Schema) throw new CramMalformedError(\"invalid read feature code \\\"\".concat(code, \"\\\"\"));\n    readFeature.data = decodeRFData(data1Schema); // if this is a tag with two data items, make the data an array and add the second item\n\n    var data2Schema = {\n      B: ['number', 'QS']\n    }[code];\n    if (data2Schema) readFeature.data = [readFeature.data, decodeRFData(data2Schema)];\n    currentReadPos += readPosDelta;\n    readFeature.pos = currentReadPos;\n    currentRefPos += readPosDelta;\n    readFeature.refPos = currentRefPos; // for gapping features, adjust the reference position for read features that follow\n\n    if (code === 'D' || code === 'N') currentRefPos += readFeature.data;else if (code === 'I' || code === 'S') currentRefPos -= readFeature.data.length;else if (code === 'i') currentRefPos -= 1;\n    readFeatures[i] = readFeature;\n  }\n\n  return readFeatures;\n}\n\nfunction thingToString(thing) {\n  if (thing instanceof Buffer) {\n    return readNullTerminatedStringFromBuffer(thing);\n  }\n\n  if (thing.length && (0, _indexOf.default)(thing)) {\n    // array-like\n    if (!thing[thing.length - 1]) {\n      // trim zeroes off the end if necessary\n      var termIndex = (0, _indexOf.default)(thing).call(thing, 0);\n      return String.fromCharCode.apply(String, (0, _toConsumableArray2.default)((0, _slice.default)(thing).call(thing, 0, termIndex)));\n    }\n\n    return String.fromCharCode.apply(String, (0, _toConsumableArray2.default)(thing));\n  }\n\n  return String(thing);\n}\n\nfunction decodeRecord(slice, decodeDataSeries, compressionScheme, sliceHeader, coreDataBlock, blocksByContentId, cursors, majorVersion, recordNumber) {\n  var cramRecord = new CramRecord();\n  cramRecord.flags = decodeDataSeries('BF'); // note: the C data type of compressionFlags is byte in cram v1\n  // and int32 in cram v2+, but that does not matter for us here\n  // in javascript land.\n\n  cramRecord.cramFlags = decodeDataSeries('CF');\n  if (majorVersion > 1 && sliceHeader.content.refSeqId === -2) cramRecord.sequenceId = decodeDataSeries('RI');else cramRecord.sequenceId = sliceHeader.content.refSeqId;\n  cramRecord.readLength = decodeDataSeries('RL'); // if APDelta, will calculate the true start in a second pass\n\n  cramRecord.alignmentStart = decodeDataSeries('AP');\n  if (compressionScheme.APdelta) cramRecord.alignmentStart += cursors.lastAlignmentStart;\n  cursors.lastAlignmentStart = cramRecord.alignmentStart;\n  cramRecord.readGroupId = decodeDataSeries('RG');\n  if (compressionScheme.readNamesIncluded) cramRecord.readName = thingToString(decodeDataSeries('RN')); // mate record\n\n  if (cramRecord.isDetached()) {\n    // note: the MF is a byte in 1.0, int32 in 2+, but once again this doesn't matter for javascript\n    var mate = {};\n    mate.flags = decodeDataSeries('MF');\n\n    if (!compressionScheme.readNamesIncluded) {\n      mate.readName = thingToString(decodeDataSeries('RN'));\n      cramRecord.readName = mate.readName;\n    }\n\n    mate.sequenceId = decodeDataSeries('NS');\n    mate.alignmentStart = decodeDataSeries('NP');\n    if ((0, _flags.default)(mate) || mate.sequenceId > -1) cramRecord.mate = mate;\n    cramRecord.templateSize = decodeDataSeries('TS'); // set mate unmapped if needed\n\n    if ((0, _flags.default)(mate) & Constants.CRAM_M_UNMAP) {\n      cramRecord.flags |= Constants.BAM_FMUNMAP;\n    } // set mate reversed if needed\n\n\n    if ((0, _flags.default)(mate) & Constants.CRAM_M_REVERSE) {\n      cramRecord.flags |= Constants.BAM_FMREVERSE;\n    } // detachedCount++\n\n  } else if (cramRecord.hasMateDownStream()) {\n    cramRecord.mateRecordNumber = decodeDataSeries('NF') + recordNumber + 1;\n  } // TODO: the aux tag parsing will have to be refactored if we want to support\n  // cram v1\n\n\n  var TLindex = decodeDataSeries('TL');\n  if (TLindex < 0)\n    /* TODO: check nTL: TLindex >= compressionHeader.tagEncoding.size */\n    throw new CramMalformedError('invalid TL index'); // TN = tag names\n\n  var TN = compressionScheme.getTagNames(TLindex);\n  var ntags = TN.length;\n\n  for (var i = 0; i < ntags; i += 1) {\n    var tagId = TN[i];\n    var tagName = tagId.substr(0, 2);\n    var tagType = tagId.substr(2, 1);\n    var tagCodec = compressionScheme.getCodecForTag(tagId);\n    if (!tagCodec) throw new CramMalformedError(\"no codec defined for auxiliary tag \".concat(tagId));\n    var tagData = tagCodec.decode(slice, coreDataBlock, blocksByContentId, cursors);\n    cramRecord.tags[tagName] = parseTagData(tagType, tagData);\n  }\n\n  if (!cramRecord.isSegmentUnmapped()) {\n    var _context;\n\n    // reading read features\n    var\n    /* int */\n    readFeatureCount = decodeDataSeries('FN');\n\n    if (readFeatureCount) {\n      cramRecord.readFeatures = decodeReadFeatures(cramRecord, readFeatureCount, decodeDataSeries, compressionScheme, majorVersion);\n    } // compute the read's true span on the reference sequence, and the end coordinate of the alignment on the reference\n\n\n    var lengthOnRef = cramRecord.readLength;\n    if (cramRecord.readFeatures) (0, _forEach.default)(_context = cramRecord.readFeatures).call(_context, function (_ref3) {\n      var code = _ref3.code,\n          data = _ref3.data;\n      if (code === 'D' || code === 'N') lengthOnRef += data;else if (code === 'I' || code === 'S') lengthOnRef -= data.length;else if (code === 'i') lengthOnRef -= 1;\n    });\n\n    if ((0, _isNan.default)(lengthOnRef)) {\n      var _context2;\n\n      console.warn(\"\".concat(cramRecord.readName || (0, _concat.default)(_context2 = \"\".concat(cramRecord.sequenceId, \":\")).call(_context2, cramRecord.alignmentStart), \" record has invalid read features\"));\n      lengthOnRef = cramRecord.readLength;\n    }\n\n    cramRecord.lengthOnRef = lengthOnRef; // mapping quality\n\n    cramRecord.mappingQuality = decodeDataSeries('MQ');\n\n    if (cramRecord.isPreservingQualityScores()) {\n      var bases = new Array(cramRecord.readLength);\n\n      for (var _i = 0; _i < bases.length; _i += 1) {\n        bases[_i] = decodeDataSeries('QS');\n      }\n\n      cramRecord.qualityScores = bases;\n    }\n  } else if (cramRecord.isUnknownBases()) {\n    cramRecord.readBases = null;\n    cramRecord.qualityScores = null;\n  } else {\n    var _bases = new Array(cramRecord.readLength);\n\n    for (var _i2 = 0; _i2 < _bases.length; _i2 += 1) {\n      _bases[_i2] = decodeDataSeries('BA');\n    }\n\n    cramRecord.readBases = String.fromCharCode.apply(String, _bases);\n\n    if (cramRecord.isPreservingQualityScores()) {\n      for (var _i3 = 0; _i3 < _bases.length; _i3 += 1) {\n        _bases[_i3] = decodeDataSeries('QS');\n      }\n\n      cramRecord.qualityScores = _bases;\n    }\n  }\n\n  return cramRecord;\n}\n\nmodule.exports = decodeRecord;","module.exports = require(\"core-js-pure/stable/number/is-nan\");","var parent = require('../../es/number/is-nan');\n\nmodule.exports = parent;\n","require('../../modules/es.number.is-nan');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Number.isNaN;\n","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","var parent = require('../../es/number/parse-int');\n\nmodule.exports = parent;\n","require('../../modules/es.number.parse-int');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Number.parseInt;\n","var $ = require('../internals/export');\nvar parseInt = require('../internals/number-parse-int');\n\n// `Number.parseInt` method\n// https://tc39.github.io/ecma262/#sec-number.parseint\n$({ target: 'Number', stat: true, forced: Number.parseInt != parseInt }, {\n  parseInt: parseInt\n});\n","module.exports = require(\"core-js-pure/stable/number/min-safe-integer\");","module.exports = require(\"core-js-pure/stable/number/max-safe-integer\");","var _getIterator = require(\"../core-js/get-iterator\");\n\nvar _isIterable = require(\"../core-js/is-iterable\");\n\nvar _Symbol = require(\"../core-js/symbol\");\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof _Symbol === \"undefined\" || !_isIterable(Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","module.exports = require(\"core-js-pure/features/get-iterator\");","module.exports = require(\"core-js-pure/stable/instance/index-of\");","var parent = require('../../es/instance/index-of');\n\nmodule.exports = parent;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _flags = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/flags\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar Constants = require('./constants');\n\nfunction decodeReadSequence(cramRecord, refRegion) {\n  // if it has no length, it has no sequence\n  if (!cramRecord.lengthOnRef && !cramRecord.readLength) return undefined;\n  if (cramRecord.isUnknownBases()) return undefined; // remember: all coordinates are 1-based closed\n\n  var regionSeqOffset = cramRecord.alignmentStart - refRegion.start;\n  if (!cramRecord.readFeatures) return refRegion.seq.substr(regionSeqOffset, cramRecord.lengthOnRef).toUpperCase();\n  var bases = '';\n  var regionPos = regionSeqOffset;\n  var currentReadFeature = 0;\n\n  while (bases.length < cramRecord.readLength) {\n    if (currentReadFeature < cramRecord.readFeatures.length) {\n      var feature = cramRecord.readFeatures[currentReadFeature];\n\n      if (feature.code === 'Q' || feature.code === 'q') {\n        currentReadFeature += 1;\n      } else if (feature.pos === bases.length + 1) {\n        // process the read feature\n        currentReadFeature += 1;\n\n        if (feature.code === 'b') {\n          // specify a base pair for some reason\n          var ret = feature.data.split(',');\n          var added = String.fromCharCode.apply(String, (0, _toConsumableArray2.default)(ret));\n          bases += added;\n          regionPos += added.length;\n        } else if (feature.code === 'B') {\n          // base pair and associated quality\n          // TODO: do we need to set the quality in the qual scores?\n          bases += feature.data[0];\n          regionPos += 1;\n        } else if (feature.code === 'X') {\n          // base substitution\n          bases += feature.sub;\n          regionPos += 1;\n        } else if (feature.code === 'I') {\n          // insertion\n          bases += feature.data;\n        } else if (feature.code === 'D') {\n          // deletion\n          regionPos += feature.data;\n        } else if (feature.code === 'i') {\n          // insert single base\n          bases += feature.data;\n        } else if (feature.code === 'N') {\n          // reference skip. delete some bases\n          // do nothing\n          // seqBases.splice(feature.pos - 1, feature.data)\n          regionPos += feature.data;\n        } else if (feature.code === 'S') {\n          // soft clipped bases that should be present in the read seq\n          // seqBases.splice(feature.pos - 1, 0, ...feature.data.split(''))\n          bases += feature.data;\n        } else if (feature.code === 'P') {// padding, do nothing\n        } else if (feature.code === 'H') {// hard clip, do nothing\n        }\n      } else if (currentReadFeature < cramRecord.readFeatures.length) {\n        // put down a chunk of sequence up to the next read feature\n        var chunk = refRegion.seq.substr(regionPos, cramRecord.readFeatures[currentReadFeature].pos - bases.length - 1);\n        bases += chunk;\n        regionPos += chunk.length;\n      }\n    } else {\n      // put down a chunk of reference up to the full read length\n      var _chunk = refRegion.seq.substr(regionPos, cramRecord.readLength - bases.length);\n\n      bases += _chunk;\n      regionPos += _chunk.length;\n    }\n  }\n\n  return bases.toUpperCase();\n}\n\nvar baseNumbers = {\n  a: 0,\n  A: 0,\n  c: 1,\n  C: 1,\n  g: 2,\n  G: 2,\n  t: 3,\n  T: 3,\n  n: 4,\n  N: 4\n};\n\nfunction decodeBaseSubstitution(cramRecord, refRegion, compressionScheme, readFeature) {\n  if (!refRegion) return; // decode base substitution code using the substitution matrix\n\n  var refCoord = readFeature.refPos - refRegion.start;\n  var refBase = refRegion.seq.charAt(refCoord);\n  if (refBase) readFeature.ref = refBase;\n  var baseNumber = baseNumbers[refBase];\n  if (baseNumber === undefined) baseNumber = 4;\n  var substitutionScheme = compressionScheme.substitutionMatrix[baseNumber];\n  var base = substitutionScheme[readFeature.data];\n  if (base) readFeature.sub = base;\n}\n/**\n * Class of each CRAM record returned by this API.\n */\n\n\nvar CramRecord =\n/*#__PURE__*/\nfunction () {\n  function CramRecord() {\n    (0, _classCallCheck2.default)(this, CramRecord);\n    this.tags = {};\n  }\n  /**\n   * @returns {boolean} true if the read is paired, regardless of whether both segments are mapped\n   */\n\n\n  (0, _createClass2.default)(CramRecord, [{\n    key: \"isPaired\",\n    value: function isPaired() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FPAIRED);\n    }\n    /** @returns {boolean} true if the read is paired, and both segments are mapped */\n\n  }, {\n    key: \"isProperlyPaired\",\n    value: function isProperlyPaired() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FPROPER_PAIR);\n    }\n    /** @returns {boolean} true if the read itself is unmapped; conflictive with isProperlyPaired */\n\n  }, {\n    key: \"isSegmentUnmapped\",\n    value: function isSegmentUnmapped() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FUNMAP);\n    }\n    /** @returns {boolean} true if the read itself is unmapped; conflictive with isProperlyPaired */\n\n  }, {\n    key: \"isMateUnmapped\",\n    value: function isMateUnmapped() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FMUNMAP);\n    }\n    /** @returns {boolean} true if the read is mapped to the reverse strand */\n\n  }, {\n    key: \"isReverseComplemented\",\n    value: function isReverseComplemented() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FREVERSE);\n    }\n    /** @returns {boolean} true if the mate is mapped to the reverse strand */\n\n  }, {\n    key: \"isMateReverseComplemented\",\n    value: function isMateReverseComplemented() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FMREVERSE);\n    }\n    /** @returns {boolean} true if this is read number 1 in a pair */\n\n  }, {\n    key: \"isRead1\",\n    value: function isRead1() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FREAD1);\n    }\n    /** @returns {boolean} true if this is read number 2 in a pair */\n\n  }, {\n    key: \"isRead2\",\n    value: function isRead2() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FREAD2);\n    }\n    /** @returns {boolean} true if this is a secondary alignment */\n\n  }, {\n    key: \"isSecondary\",\n    value: function isSecondary() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FSECONDARY);\n    }\n    /** @returns {boolean} true if this read has failed QC checks */\n\n  }, {\n    key: \"isFailedQc\",\n    value: function isFailedQc() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FQCFAIL);\n    }\n    /** @returns {boolean} true if the read is an optical or PCR duplicate */\n\n  }, {\n    key: \"isDuplicate\",\n    value: function isDuplicate() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FDUP);\n    }\n    /** @returns {boolean} true if this is a supplementary alignment */\n\n  }, {\n    key: \"isSupplementary\",\n    value: function isSupplementary() {\n      return !!((0, _flags.default)(this) & Constants.BAM_FSUPPLEMENTARY);\n    }\n    /**\n     * @returns {boolean} true if the read is detached\n     */\n\n  }, {\n    key: \"isDetached\",\n    value: function isDetached() {\n      return !!(this.cramFlags & Constants.CRAM_FLAG_DETACHED);\n    }\n    /** @returns {boolean} true if the read has a mate in this same CRAM segment */\n\n  }, {\n    key: \"hasMateDownStream\",\n    value: function hasMateDownStream() {\n      return !!(this.cramFlags & Constants.CRAM_FLAG_MATE_DOWNSTREAM);\n    }\n    /** @returns {boolean} true if the read contains qual scores */\n\n  }, {\n    key: \"isPreservingQualityScores\",\n    value: function isPreservingQualityScores() {\n      return !!(this.cramFlags & Constants.CRAM_FLAG_PRESERVE_QUAL_SCORES);\n    }\n    /** @returns {boolean} true if the read has no sequence bases */\n\n  }, {\n    key: \"isUnknownBases\",\n    value: function isUnknownBases() {\n      return !!(this.cramFlags & Constants.CRAM_FLAG_NO_SEQ);\n    }\n    /**\n     * Get the original sequence of this read.\n     * @returns {String} sequence basepairs\n     */\n\n  }, {\n    key: \"getReadBases\",\n    value: function getReadBases() {\n      if (!this.readBases && this._refRegion) {\n        this.readBases = decodeReadSequence(this, this._refRegion);\n      }\n\n      return this.readBases;\n    }\n    /**\n     * Get the pair orientation of a paired read. Adapted from igv.js\n     * @returns {String} of paired orientatin\n     */\n\n  }, {\n    key: \"getPairOrientation\",\n    value: function getPairOrientation() {\n      if (!this.isSegmentUnmapped() && this.isPaired() && !this.isMateUnmapped() && this.mate && this.sequenceId === this.mate.sequenceId) {\n        var s1 = this.isReverseComplemented() ? 'R' : 'F';\n        var s2 = this.isMateReverseComplemented() ? 'R' : 'F';\n        var o1 = ' ';\n        var o2 = ' ';\n\n        if (this.isRead1()) {\n          o1 = '1';\n          o2 = '2';\n        } else if (this.isRead2()) {\n          o1 = '2';\n          o2 = '1';\n        }\n\n        var tmp = [];\n        var isize = this.templateLength || this.templateSize;\n\n        if (this.alignmentStart > this.mate.alignmentStart && isize > 0) {\n          isize = -isize;\n        }\n\n        if (isize > 0) {\n          tmp[0] = s1;\n          tmp[1] = o1;\n          tmp[2] = s2;\n          tmp[3] = o2;\n        } else {\n          tmp[2] = s1;\n          tmp[3] = o1;\n          tmp[0] = s2;\n          tmp[1] = o2;\n        }\n\n        return tmp.join('');\n      }\n\n      return null;\n    }\n    /**\n     * Annotates this feature with the given reference sequence basepair\n     * information. This will add a `sub` and a `ref` item to base\n     * subsitution read features given the actual substituted and reference\n     * base pairs, and will make the `getReadSequence()` method work.\n     *\n     * @param {object} refRegion\n     * @param {number} refRegion.start\n     * @param {number} refRegion.end\n     * @param {string} refRegion.seq\n     * @param {CramContainerCompressionScheme} compressionScheme\n     * @returns {undefined} nothing\n     */\n\n  }, {\n    key: \"addReferenceSequence\",\n    value: function addReferenceSequence(refRegion, compressionScheme) {\n      var _this = this;\n\n      if (this.readFeatures) {\n        var _context;\n\n        // use the reference bases to decode the bases\n        // substituted in each base substitution\n        (0, _forEach.default)(_context = this.readFeatures).call(_context, function (readFeature) {\n          if (readFeature.code === 'X') decodeBaseSubstitution(_this, refRegion, compressionScheme, readFeature);\n        });\n      } // if this region completely covers this read,\n      // keep a reference to it\n\n\n      if (!this.readBases && refRegion.start <= this.alignmentStart && refRegion.end >= this.alignmentStart + (this.lengthOnRef || this.readLength) - 1) {\n        this._refRegion = refRegion;\n      }\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var _context2,\n          _this2 = this;\n\n      var data = {};\n      (0, _forEach.default)(_context2 = (0, _keys.default)(this)).call(_context2, function (k) {\n        if (k.charAt(0) === '_') return;\n        data[k] = _this2[k];\n      });\n      data.readBases = this.getReadBases();\n      return data;\n    }\n  }]);\n  return CramRecord;\n}();\n\nmodule.exports = CramRecord;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/assign\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _require = require('../../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar _require2 = require('../codecs'),\n    instantiateCodec = _require2.instantiateCodec; // the hardcoded data type to be decoded for each core\n// data field\n\n\nvar dataSeriesTypes = {\n  BF: 'int',\n  CF: 'int',\n  RI: 'int',\n  RL: 'int',\n  AP: 'int',\n  RG: 'int',\n  MF: 'int',\n  NS: 'int',\n  NP: 'int',\n  TS: 'int',\n  NF: 'int',\n  TC: 'byte',\n  TN: 'int',\n  FN: 'int',\n  FC: 'byte',\n  FP: 'int',\n  BS: 'byte',\n  IN: 'byteArray',\n  SC: 'byteArray',\n  DL: 'int',\n  BA: 'byte',\n  BB: 'byteArray',\n  RS: 'int',\n  PD: 'int',\n  HC: 'int',\n  MQ: 'int',\n  RN: 'byteArray',\n  QS: 'byte',\n  QQ: 'byteArray',\n  TL: 'int',\n  TM: 'ignore',\n  TV: 'ignore'\n};\n\nfunction parseSubstitutionMatrix(byteArray) {\n  var matrix = new Array(5);\n\n  for (var i = 0; i < 5; i += 1) {\n    matrix[i] = new Array(4);\n  }\n\n  matrix[0][byteArray[0] >> 6 & 3] = 'C';\n  matrix[0][byteArray[0] >> 4 & 3] = 'G';\n  matrix[0][byteArray[0] >> 2 & 3] = 'T';\n  matrix[0][byteArray[0] >> 0 & 3] = 'N';\n  matrix[1][byteArray[1] >> 6 & 3] = 'A';\n  matrix[1][byteArray[1] >> 4 & 3] = 'G';\n  matrix[1][byteArray[1] >> 2 & 3] = 'T';\n  matrix[1][byteArray[1] >> 0 & 3] = 'N';\n  matrix[2][byteArray[2] >> 6 & 3] = 'A';\n  matrix[2][byteArray[2] >> 4 & 3] = 'C';\n  matrix[2][byteArray[2] >> 2 & 3] = 'T';\n  matrix[2][byteArray[2] >> 0 & 3] = 'N';\n  matrix[3][byteArray[3] >> 6 & 3] = 'A';\n  matrix[3][byteArray[3] >> 4 & 3] = 'C';\n  matrix[3][byteArray[3] >> 2 & 3] = 'G';\n  matrix[3][byteArray[3] >> 0 & 3] = 'N';\n  matrix[4][byteArray[4] >> 6 & 3] = 'A';\n  matrix[4][byteArray[4] >> 4 & 3] = 'C';\n  matrix[4][byteArray[4] >> 2 & 3] = 'G';\n  matrix[4][byteArray[4] >> 0 & 3] = 'T';\n  return matrix;\n}\n\nvar CramContainerCompressionScheme =\n/*#__PURE__*/\nfunction () {\n  function CramContainerCompressionScheme(content) {\n    (0, _classCallCheck2.default)(this, CramContainerCompressionScheme);\n    (0, _assign.default)(this, content); // interpret some of the preservation map tags for convenient use\n\n    this.readNamesIncluded = content.preservation.RN;\n    this.APdelta = content.preservation.AP;\n    this.referenceRequired = !!content.preservation.RR;\n    this.tagIdsDictionary = content.preservation.TD;\n    this.substitutionMatrix = parseSubstitutionMatrix(content.preservation.SM);\n    this.dataSeriesCodecCache = {};\n    this.tagCodecCache = {};\n  }\n  /**\n   * @param {string} tagName three-character tag name\n   * @private\n   */\n\n\n  (0, _createClass2.default)(CramContainerCompressionScheme, [{\n    key: \"getCodecForTag\",\n    value: function getCodecForTag(tagName) {\n      if (!this.tagCodecCache[tagName]) {\n        var encodingData = this.tagEncoding[tagName];\n\n        if (encodingData) {\n          this.tagCodecCache[tagName] = instantiateCodec(encodingData, 'byteArray' // all tags are byte array data\n          );\n        }\n      }\n\n      return this.tagCodecCache[tagName];\n    }\n    /**\n     *\n     * @param {number} tagListId ID of the tag list to fetch from the tag dictionary\n     * @private\n     */\n\n  }, {\n    key: \"getTagNames\",\n    value: function getTagNames(tagListId) {\n      return this.tagIdsDictionary[tagListId];\n    }\n  }, {\n    key: \"getCodecForDataSeries\",\n    value: function getCodecForDataSeries(dataSeriesName) {\n      if (!this.dataSeriesCodecCache[dataSeriesName]) {\n        var encodingData = this.dataSeriesEncoding[dataSeriesName];\n\n        if (encodingData) {\n          var dataType = dataSeriesTypes[dataSeriesName];\n          if (!dataType) throw new CramMalformedError(\"data series name \".concat(dataSeriesName, \" not defined in file compression header\"));\n          this.dataSeriesCodecCache[dataSeriesName] = instantiateCodec(encodingData, dataType);\n        }\n      }\n\n      return this.dataSeriesCodecCache[dataSeriesName];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var _context,\n          _this = this;\n\n      var data = {};\n      (0, _forEach.default)(_context = (0, _keys.default)(this)).call(_context, function (k) {\n        if (/Cache$/.test(k)) return;\n        data[k] = _this[k];\n      });\n      return data;\n    }\n  }]);\n  return CramContainerCompressionScheme;\n}();\n\nmodule.exports = CramContainerCompressionScheme;","\"use strict\";\n\nvar _require = require('../../errors'),\n    CramUnimplementedError = _require.CramUnimplementedError;\n\nvar HuffmanIntCodec = require('./huffman');\n\nvar ExternalCodec = require('./external');\n\nvar ByteArrayStopCodec = require('./byteArrayStop');\n\nvar ByteArrayLengthCodec = require('./byteArrayLength');\n\nvar BetaCodec = require('./beta');\n\nvar GammaCodec = require('./gamma');\n\nvar SubexpCodec = require('./subexp');\n\nvar codecClasses = {\n  1: ExternalCodec,\n  // 2: GolombCodec,\n  3: HuffmanIntCodec,\n  4: ByteArrayLengthCodec,\n  5: ByteArrayStopCodec,\n  6: BetaCodec,\n  7: SubexpCodec,\n  // 8: GolombRiceCodec,\n  9: GammaCodec\n};\n\nfunction getCodecClassWithId(id) {\n  return codecClasses[id];\n}\n\nfunction instantiateCodec(encodingData, dataType) {\n  var CodecClass = getCodecClassWithId(dataType === 'ignore' ? 0 : encodingData.codecId);\n  if (!CodecClass) throw new CramUnimplementedError(\"no codec implemented for codec ID \".concat(encodingData.codecId));\n  return new CodecClass(encodingData.parameters, dataType, instantiateCodec);\n}\n\nmodule.exports = {\n  getCodecClassWithId: getCodecClassWithId,\n  instantiateCodec: instantiateCodec\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _fill = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/fill\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _parseInt2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/parse-int\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _sort = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/sort\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _require = require('../../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar CramCodec = require('./_base');\n\nfunction numberOfSetBits(ii) {\n  var i = ii - (ii >> 1) & 0x55555555;\n  i = (i & 0x33333333) + (i >> 2 & 0x33333333);\n  return (i + (i >> 4) & 0x0f0f0f0f) * 0x01010101 >> 24;\n}\n\nvar HuffmanIntCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(HuffmanIntCodec, _CramCodec);\n\n  function HuffmanIntCodec() {\n    var _context;\n\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, HuffmanIntCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(HuffmanIntCodec).call(this, parameters, dataType));\n\n    if (!(0, _includes.default)(_context = ['byte', 'int']).call(_context, _this.dataType)) {\n      throw new TypeError(\"\".concat(_this.dataType, \" decoding not yet implemented by HUFFMAN_INT codec\"));\n    }\n\n    _this.buildCodeBook();\n\n    _this.buildCodes();\n\n    _this.buildCaches(); // if this is a degenerate zero-length huffman code, special-case the decoding\n\n\n    if (_this.sortedCodes[0].bitLength === 0) _this._decode = _this._decodeZeroLengthCode;\n    return _this;\n  }\n\n  (0, _createClass2.default)(HuffmanIntCodec, [{\n    key: \"buildCodeBook\",\n    value: function buildCodeBook() {\n      var _this2 = this;\n\n      // parse the parameters together into a `codes` data structure\n      var codes = new Array(this.parameters.numCodes);\n\n      for (var i = 0; i < this.parameters.numCodes; i += 1) {\n        codes[i] = {\n          symbol: this.parameters.symbols[i],\n          bitLength: this.parameters.bitLengths[i]\n        };\n      } // sort the codes by bit length and symbol value\n\n\n      codes = (0, _sort.default)(codes).call(codes, function (a, b) {\n        return a.bitLength - b.bitLength || a.symbol - b.symbol;\n      });\n      this.codeBook = {};\n      (0, _forEach.default)(codes).call(codes, function (code) {\n        if (!_this2.codeBook[code.bitLength]) _this2.codeBook[code.bitLength] = [];\n\n        _this2.codeBook[code.bitLength].push(code.symbol);\n      });\n    }\n  }, {\n    key: \"buildCodes\",\n    value: function buildCodes() {\n      var _context2,\n          _this3 = this;\n\n      this.codes = {};\n      /*  new TreeMap<Integer, HuffmanBitCode>(); */\n\n      var codeLength = 0;\n      var codeValue = -1;\n      (0, _forEach.default)(_context2 = (0, _entries.default)(this.codeBook)).call(_context2, function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n            bitLength = _ref2[0],\n            symbols = _ref2[1];\n\n        bitLength = (0, _parseInt2.default)(bitLength, 10);\n        (0, _forEach.default)(symbols).call(symbols, function (symbol) {\n          var code = {\n            bitLength: bitLength,\n            value: symbol\n          };\n          codeValue += 1;\n          var delta = bitLength - codeLength; // new length?\n\n          codeValue <<= delta; // pad with 0's\n\n          code.bitCode = codeValue; // calculated: huffman code\n\n          codeLength += delta; // adjust current code length\n\n          if (numberOfSetBits(codeValue) > bitLength) throw new CramMalformedError('Symbol out of range');\n          _this3.codes[symbol] = code;\n        });\n      });\n    }\n  }, {\n    key: \"buildCaches\",\n    value: function buildCaches() {\n      var _context3, _context4, _context5, _context6, _context7, _context8;\n\n      this.sortedCodes = (0, _sort.default)(_context3 = (0, _values.default)(this.codes)).call(_context3, function (a, b) {\n        return a.bitLength - b.bitLength || a.bitCode - b.bitCode;\n      }); // this.sortedValues = this.parameters.values.sort((a,b) => a-b)\n\n      this.sortedByValue = (0, _sort.default)(_context4 = (0, _values.default)(this.codes)).call(_context4, function (a, b) {\n        return a.value - b.value;\n      });\n      this.sortedValuesByBitCode = (0, _map.default)(_context5 = this.sortedCodes).call(_context5, function (c) {\n        return c.value;\n      });\n      this.sortedBitCodes = (0, _map.default)(_context6 = this.sortedCodes).call(_context6, function (c) {\n        return c.bitCode;\n      });\n      this.sortedBitLengthsByBitCode = (0, _map.default)(_context7 = this.sortedCodes).call(_context7, function (c) {\n        return c.bitLength;\n      });\n      var maxBitCode = Math.max.apply(Math, (0, _toConsumableArray2.default)(this.sortedBitCodes));\n      this.bitCodeToValue = (0, _fill.default)(_context8 = new Array(maxBitCode + 1)).call(_context8, -1);\n\n      for (var i = 0; i < this.sortedBitCodes.length; i += 1) {\n        this.bitCodeToValue[this.sortedCodes[i].bitCode] = i;\n      }\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      return this._decode(slice, coreDataBlock, cursors.coreBlock);\n    } // _decodeNull() {\n    //   return -1\n    // }\n    // the special case for zero-length codes\n\n  }, {\n    key: \"_decodeZeroLengthCode\",\n    value: function _decodeZeroLengthCode() {\n      return this.sortedCodes[0].value;\n    }\n  }, {\n    key: \"_decode\",\n    value: function _decode(slice, coreDataBlock, coreCursor) {\n      var input = coreDataBlock.content;\n      var prevLen = 0;\n      var bits = 0;\n\n      for (var i = 0; i < this.sortedCodes.length; i += 1) {\n        var length = this.sortedCodes[i].bitLength;\n        bits <<= length - prevLen;\n        bits |= this._getBits(input, coreCursor, length - prevLen);\n        prevLen = length;\n        {\n          var index = this.bitCodeToValue[bits];\n          if (index > -1 && this.sortedBitLengthsByBitCode[index] === length) return this.sortedValuesByBitCode[index];\n\n          for (var j = i; this.sortedCodes[j + 1].bitLength === length && j < this.sortedCodes.length; j += 1) {\n            i += 1;\n          }\n        }\n      }\n\n      throw new CramMalformedError('Huffman symbol not found.');\n    }\n  }]);\n  return HuffmanIntCodec;\n}(CramCodec);\n\nmodule.exports = HuffmanIntCodec;","var parent = require('../../es/object/entries');\n\nmodule.exports = parent;\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","module.exports = require(\"core-js-pure/stable/instance/includes\");","var parent = require('../../es/instance/includes');\n\nmodule.exports = parent;\n","var arrayIncludes = require('../array/virtual/includes');\nvar stringIncludes = require('../string/virtual/includes');\n\nvar ArrayPrototype = Array.prototype;\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.includes;\n  if (it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.includes)) return arrayIncludes;\n  if (typeof it === 'string' || it === StringPrototype || (it instanceof String && own === StringPrototype.includes)) {\n    return stringIncludes;\n  } return own;\n};\n","require('../../../modules/es.array.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","require('../../../modules/es.string.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _require = require('../../errors'),\n    CramUnimplementedError = _require.CramUnimplementedError,\n    CramMalformedError = _require.CramMalformedError,\n    CramBufferOverrunError = _require.CramBufferOverrunError;\n\nvar CramCodec = require('./_base');\n\nvar _require2 = require('../util'),\n    parseItf8 = _require2.parseItf8;\n\nvar ExternalCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(ExternalCodec, _CramCodec);\n\n  function ExternalCodec() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, ExternalCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(ExternalCodec).call(this, parameters, dataType));\n\n    if (_this.dataType === 'int') {\n      _this._decodeData = _this._decodeInt;\n    } else if (_this.dataType === 'byte') {\n      _this._decodeData = _this._decodeByte;\n    } else {\n      throw new CramUnimplementedError(\"\".concat(_this.dataType, \" decoding not yet implemented by EXTERNAL codec\"));\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(ExternalCodec, [{\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      var blockContentId = this.parameters.blockContentId;\n      var contentBlock = blocksByContentId[blockContentId];\n      if (!contentBlock) throw new CramMalformedError(\"no block found with content ID \".concat(blockContentId));\n      var cursor = cursors.externalBlocks.getCursor(blockContentId);\n      return this._decodeData(contentBlock, cursor);\n    }\n  }, {\n    key: \"_decodeInt\",\n    value: function _decodeInt(contentBlock, cursor) {\n      var _parseItf = parseItf8(contentBlock.content, cursor.bytePosition),\n          _parseItf2 = (0, _slicedToArray2.default)(_parseItf, 2),\n          result = _parseItf2[0],\n          bytesRead = _parseItf2[1];\n\n      cursor.bytePosition += bytesRead;\n      return result;\n    }\n  }, {\n    key: \"_decodeByte\",\n    value: function _decodeByte(contentBlock, cursor) {\n      if (cursor.bytePosition >= contentBlock.content.length) throw new CramBufferOverrunError('attempted to read beyond end of block. this file seems truncated.');\n      var result = contentBlock.content[cursor.bytePosition];\n      cursor.bytePosition += 1;\n      return result;\n    }\n  }]);\n  return ExternalCodec;\n}(CramCodec);\n\nmodule.exports = ExternalCodec;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _require = require('../../errors'),\n    CramBufferOverrunError = _require.CramBufferOverrunError,\n    CramMalformedError = _require.CramMalformedError;\n\nvar CramCodec = require('./_base');\n\nvar ByteArrayStopCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(ByteArrayStopCodec, _CramCodec);\n\n  function ByteArrayStopCodec() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, ByteArrayStopCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(ByteArrayStopCodec).call(this, parameters, dataType));\n\n    if (dataType === 'byteArray') {\n      _this._decode = _this._decodeByteArray;\n    } else {\n      throw new TypeError(\"byteArrayStop codec does not support data type \".concat(dataType));\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(ByteArrayStopCodec, [{\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      var blockContentId = this.parameters.blockContentId;\n      var contentBlock = blocksByContentId[blockContentId];\n      if (!contentBlock) throw new CramMalformedError(\"no block found with content ID \".concat(blockContentId));\n      var cursor = cursors.externalBlocks.getCursor(blockContentId);\n      return this._decode(contentBlock, cursor);\n    }\n  }, {\n    key: \"_decodeByteArray\",\n    value: function _decodeByteArray(contentBlock, cursor) {\n      var dataBuffer = contentBlock.content;\n      var stopByte = this.parameters.stopByte; // scan to the next stop byte\n\n      var startPosition = cursor.bytePosition;\n      var stopPosition = cursor.bytePosition;\n\n      while (dataBuffer[stopPosition] !== stopByte && stopPosition < dataBuffer.length) {\n        if (stopPosition === dataBuffer.length) {\n          throw new CramBufferOverrunError(\"byteArrayStop reading beyond length of data buffer?\");\n        }\n\n        stopPosition += 1;\n      }\n\n      cursor.bytePosition = stopPosition + 1;\n      var data = (0, _slice.default)(dataBuffer).call(dataBuffer, startPosition, stopPosition);\n      return data;\n    }\n  }]);\n  return ByteArrayStopCodec;\n}(CramCodec);\n\nmodule.exports = ByteArrayStopCodec;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _context;\n\nvar _require = require('../util'),\n    tinyMemoize = _require.tinyMemoize;\n\nvar CramCodec = require('./_base');\n\nvar ByteArrayStopCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(ByteArrayStopCodec, _CramCodec);\n\n  function ByteArrayStopCodec() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    var instantiateCodec = arguments.length > 2 ? arguments[2] : undefined;\n    (0, _classCallCheck2.default)(this, ByteArrayStopCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(ByteArrayStopCodec).call(this, parameters, dataType));\n    _this.instantiateCodec = instantiateCodec;\n    if (dataType !== 'byteArray') throw new TypeError(\"byteArrayLength does not support data type \".concat(dataType));\n    return _this;\n  }\n\n  (0, _createClass2.default)(ByteArrayStopCodec, [{\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      var lengthCodec = this._getLengthCodec();\n\n      var arrayLength = lengthCodec.decode(slice, coreDataBlock, blocksByContentId, cursors);\n\n      var dataCodec = this._getDataCodec();\n\n      var data = new Array(arrayLength);\n\n      for (var i = 0; i < arrayLength; i += 1) {\n        data[i] = dataCodec.decode(slice, coreDataBlock, blocksByContentId, cursors);\n      }\n\n      return data;\n    } // memoize\n\n  }, {\n    key: \"_getLengthCodec\",\n    value: function _getLengthCodec() {\n      var encodingParams = this.parameters.lengthsEncoding;\n      return this.instantiateCodec(encodingParams, 'int');\n    } // memoize\n\n  }, {\n    key: \"_getDataCodec\",\n    value: function _getDataCodec() {\n      var encodingParams = this.parameters.valuesEncoding;\n      return this.instantiateCodec(encodingParams, 'byte');\n    }\n  }]);\n  return ByteArrayStopCodec;\n}(CramCodec);\n\n(0, _forEach.default)(_context = '_getLengthCodec _getDataCodec'.split(' ')).call(_context, function (method) {\n  return tinyMemoize(ByteArrayStopCodec, method);\n});\nmodule.exports = ByteArrayStopCodec;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _require = require('../../errors'),\n    CramUnimplementedError = _require.CramUnimplementedError;\n\nvar CramCodec = require('./_base');\n\nvar BetaCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(BetaCodec, _CramCodec);\n\n  function BetaCodec() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, BetaCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(BetaCodec).call(this, parameters, dataType));\n\n    if (_this.dataType !== 'int') {\n      throw new CramUnimplementedError(\"\".concat(_this.dataType, \" decoding not yet implemented by BETA codec\"));\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(BetaCodec, [{\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      var data = this._getBits(coreDataBlock.content, cursors.coreBlock, this.parameters.length) - this.parameters.offset;\n      return data;\n    }\n  }]);\n  return BetaCodec;\n}(CramCodec);\n\nmodule.exports = BetaCodec;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _require = require('../../errors'),\n    CramUnimplementedError = _require.CramUnimplementedError;\n\nvar CramCodec = require('./_base');\n\nvar GammaCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(GammaCodec, _CramCodec);\n\n  function GammaCodec() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, GammaCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(GammaCodec).call(this, parameters, dataType));\n\n    if (_this.dataType !== 'int') {\n      throw new CramUnimplementedError(\"\".concat(_this.dataType, \" decoding not yet implemented by GAMMA codec\"));\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(GammaCodec, [{\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      var length = 1;\n\n      while (this._getBits(coreDataBlock.content, cursors.coreBlock, 1) === 0) {\n        length += 1;\n      }\n\n      var readBits = this._getBits(coreDataBlock.content, cursors.coreBlock, length - 1);\n\n      var value = readBits | 1 << length - 1;\n      return value - this.parameters.offset;\n    }\n  }]);\n  return GammaCodec;\n}(CramCodec);\n\nmodule.exports = GammaCodec;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _require = require('../../errors'),\n    CramUnimplementedError = _require.CramUnimplementedError;\n\nvar CramCodec = require('./_base');\n\nvar SubexpCodec =\n/*#__PURE__*/\nfunction (_CramCodec) {\n  (0, _inherits2.default)(SubexpCodec, _CramCodec);\n\n  function SubexpCodec() {\n    var _this;\n\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, SubexpCodec);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(SubexpCodec).call(this, parameters, dataType));\n\n    if (_this.dataType !== 'int') {\n      throw new CramUnimplementedError(\"\".concat(_this.dataType, \" decoding not yet implemented by SUBEXP codec\"));\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(SubexpCodec, [{\n    key: \"decode\",\n    value: function decode(slice, coreDataBlock, blocksByContentId, cursors) {\n      var numLeadingOnes = 0;\n\n      while (this._getBits(coreDataBlock.content, cursors.coreBlock, 1)) {\n        numLeadingOnes += 1;\n      }\n\n      var b;\n      var n;\n\n      if (numLeadingOnes === 0) {\n        b = this.parameters.K;\n        n = this._getBits(coreDataBlock.content, cursors.coreBlock, b);\n      } else {\n        b = numLeadingOnes + this.parameters.K - 1;\n        n = 1 << b | this._getBits(coreDataBlock.content, cursors.coreBlock, b);\n      }\n\n      return n - this.parameters.offset;\n    }\n  }]);\n  return SubexpCodec;\n}(CramCodec);\n\nmodule.exports = SubexpCodec;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _parseInt2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/parse-int\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar fetch = require('cross-fetch');\n\nvar BufferCache = require('./bufferCache');\n\nvar RemoteFile =\n/*#__PURE__*/\nfunction () {\n  function RemoteFile(source) {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, RemoteFile);\n    this.position = 0;\n    this.url = source;\n    this.cache = new BufferCache({\n      fetch: function fetch(start, length) {\n        return _this._fetch(start, length);\n      }\n    });\n  }\n\n  (0, _createClass2.default)(RemoteFile, [{\n    key: \"_fetch\",\n    value: function () {\n      var _fetch2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(position, length) {\n        var _context2;\n\n        var headers, _context, response, nodeBuffer, sizeMatch;\n\n        return _regenerator.default.wrap(function _callee$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                headers = {};\n\n                if (length < Infinity) {\n                  headers.range = (0, _concat.default)(_context = \"bytes=\".concat(position, \"-\")).call(_context, position + length);\n                } else if (length === Infinity && position !== 0) {\n                  headers.range = \"bytes=\".concat(position, \"-\");\n                }\n\n                _context3.next = 4;\n                return fetch(this.url, {\n                  method: 'GET',\n                  headers: headers,\n                  redirect: 'follow',\n                  mode: 'cors'\n                });\n\n              case 4:\n                response = _context3.sent;\n\n                if (!(response.status === 200 && position === 0 || response.status === 206)) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                _context3.t0 = Buffer;\n                _context3.next = 9;\n                return response.arrayBuffer();\n\n              case 9:\n                _context3.t1 = _context3.sent;\n                nodeBuffer = _context3.t0.from.call(_context3.t0, _context3.t1);\n                // try to parse out the size of the remote file\n                sizeMatch = /\\/(\\d+)$/.exec(response.headers.get('content-range'));\n                if (sizeMatch[1]) this._stat = {\n                  size: (0, _parseInt2.default)(sizeMatch[1], 10)\n                };\n                return _context3.abrupt(\"return\", nodeBuffer);\n\n              case 14:\n                throw new Error((0, _concat.default)(_context2 = \"HTTP \".concat(response.status, \" fetching \")).call(_context2, this.url));\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _fetch(_x, _x2) {\n        return _fetch2.apply(this, arguments);\n      }\n\n      return _fetch;\n    }()\n  }, {\n    key: \"read\",\n    value: function read(buffer) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n      var position = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var readPosition = position;\n\n      if (readPosition === null) {\n        readPosition = this.position;\n        this.position += length;\n      }\n\n      return this.cache.get(buffer, offset, length, position);\n    }\n  }, {\n    key: \"readFile\",\n    value: function () {\n      var _readFile = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var response;\n        return _regenerator.default.wrap(function _callee2$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return fetch(this.url, {\n                  method: 'GET',\n                  redirect: 'follow',\n                  mode: 'cors'\n                });\n\n              case 2:\n                response = _context4.sent;\n                _context4.t0 = Buffer;\n                _context4.next = 6;\n                return response.arrayBuffer();\n\n              case 6:\n                _context4.t1 = _context4.sent;\n                return _context4.abrupt(\"return\", _context4.t0.from.call(_context4.t0, _context4.t1));\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function readFile() {\n        return _readFile.apply(this, arguments);\n      }\n\n      return readFile;\n    }()\n  }, {\n    key: \"stat\",\n    value: function () {\n      var _stat = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee3() {\n        var buf;\n        return _regenerator.default.wrap(function _callee3$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (this._stat) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                buf = Buffer.allocUnsafe(10);\n                _context5.next = 4;\n                return this.read(buf, 0, 10, 0);\n\n              case 4:\n                if (this._stat) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                throw new Error(\"unable to determine size of file at \".concat(this.url));\n\n              case 6:\n                return _context5.abrupt(\"return\", this._stat);\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stat() {\n        return _stat.apply(this, arguments);\n      }\n\n      return stat;\n    }()\n  }]);\n  return RemoteFile;\n}();\n\nmodule.exports = RemoteFile;","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar LRU = require('quick-lru');\n\nvar BufferCache =\n/*#__PURE__*/\nfunction () {\n  function BufferCache(_ref) {\n    var fetch = _ref.fetch,\n        _ref$size = _ref.size,\n        size = _ref$size === void 0 ? 10000000 : _ref$size,\n        _ref$chunkSize = _ref.chunkSize,\n        chunkSize = _ref$chunkSize === void 0 ? 32768 : _ref$chunkSize;\n    (0, _classCallCheck2.default)(this, BufferCache);\n    if (!fetch) throw new Error('fetch function required');\n    this.fetch = fetch;\n    this.chunkSize = chunkSize;\n    this.lruCache = new LRU({\n      maxSize: Math.floor(size / chunkSize)\n    });\n  }\n\n  (0, _createClass2.default)(BufferCache, [{\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(outputBuffer, offset, length, position) {\n        var _this = this;\n\n        var firstChunk, lastChunk, fetches, _loop, chunk, chunks, chunksOffset;\n\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(outputBuffer.length < offset + length)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error('output buffer not big enough for request');\n\n              case 2:\n                // calculate the list of chunks involved in this fetch\n                firstChunk = Math.floor(position / this.chunkSize);\n                lastChunk = Math.floor((position + length) / this.chunkSize); // fetch them all as necessary\n\n                fetches = new Array(lastChunk - firstChunk + 1);\n\n                _loop = function _loop(chunk) {\n                  fetches[chunk - firstChunk] = _this._getChunk(chunk).then(function (data) {\n                    return {\n                      data: data,\n                      chunkNumber: chunk\n                    };\n                  });\n                };\n\n                for (chunk = firstChunk; chunk <= lastChunk; chunk += 1) {\n                  _loop(chunk);\n                } // stitch together the response buffer using them\n\n\n                _context.next = 9;\n                return _promise.default.all(fetches);\n\n              case 9:\n                chunks = _context.sent;\n                chunksOffset = position - chunks[0].chunkNumber * this.chunkSize;\n                (0, _forEach.default)(chunks).call(chunks, function (_ref2) {\n                  var data = _ref2.data,\n                      chunkNumber = _ref2.chunkNumber;\n                  var chunkPositionStart = chunkNumber * _this.chunkSize;\n                  var copyStart = 0;\n                  var copyEnd = _this.chunkSize;\n                  var copyOffset = offset + (chunkNumber - firstChunk) * _this.chunkSize - chunksOffset;\n\n                  if (chunkNumber === firstChunk) {\n                    copyOffset = offset;\n                    copyStart = chunksOffset;\n                  }\n\n                  if (chunkNumber === lastChunk) {\n                    copyEnd = position + length - chunkPositionStart;\n                  }\n\n                  data.copy(outputBuffer, copyOffset, copyStart, copyEnd);\n                });\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get(_x, _x2, _x3, _x4) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"_getChunk\",\n    value: function _getChunk(chunkNumber) {\n      var cachedPromise = this.lruCache.get(chunkNumber);\n      if (cachedPromise) return cachedPromise;\n      var freshPromise = this.fetch(chunkNumber * this.chunkSize, this.chunkSize);\n      this.lruCache.set(chunkNumber, freshPromise);\n      return freshPromise;\n    }\n  }]);\n  return BufferCache;\n}();\n\nmodule.exports = BufferCache;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _require = require('es6-promisify'),\n    promisify = _require.promisify; // don't load fs native module if running in webpacked code\n\n\nvar fs = typeof __webpack_require__ !== 'function' ? require('fs') : null; // eslint-disable-line camelcase\n\nvar fsOpen = fs && promisify(fs.open);\nvar fsRead = fs && promisify(fs.read);\nvar fsFStat = fs && promisify(fs.fstat);\nvar fsReadFile = fs && promisify(fs.readFile);\n\nvar LocalFile =\n/*#__PURE__*/\nfunction () {\n  function LocalFile(source) {\n    (0, _classCallCheck2.default)(this, LocalFile);\n    this.position = 0;\n    this.filename = source;\n    this.fd = fsOpen(this.filename, 'r');\n  }\n\n  (0, _createClass2.default)(LocalFile, [{\n    key: \"read\",\n    value: function () {\n      var _read = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(buffer) {\n        var offset,\n            length,\n            position,\n            readPosition,\n            _args = arguments;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                offset = _args.length > 1 && _args[1] !== undefined ? _args[1] : 0;\n                length = _args.length > 2 ? _args[2] : undefined;\n                position = _args.length > 3 ? _args[3] : undefined;\n                readPosition = position;\n\n                if (readPosition === null) {\n                  readPosition = this.position;\n                  this.position += length;\n                }\n\n                _context.t0 = fsRead;\n                _context.next = 8;\n                return this.fd;\n\n              case 8:\n                _context.t1 = _context.sent;\n                _context.t2 = buffer;\n                _context.t3 = offset;\n                _context.t4 = length;\n                _context.t5 = position;\n                return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, _context.t2, _context.t3, _context.t4, _context.t5));\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function read(_x) {\n        return _read.apply(this, arguments);\n      }\n\n      return read;\n    }()\n  }, {\n    key: \"readFile\",\n    value: function () {\n      var _readFile = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = fsReadFile;\n                _context2.next = 3;\n                return this.fd;\n\n              case 3:\n                _context2.t1 = _context2.sent;\n                return _context2.abrupt(\"return\", (0, _context2.t0)(_context2.t1));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function readFile() {\n        return _readFile.apply(this, arguments);\n      }\n\n      return readFile;\n    }()\n  }, {\n    key: \"stat\",\n    value: function () {\n      var _stat = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this._stat) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _context3.t0 = fsFStat;\n                _context3.next = 4;\n                return this.fd;\n\n              case 4:\n                _context3.t1 = _context3.sent;\n                _context3.next = 7;\n                return (0, _context3.t0)(_context3.t1);\n\n              case 7:\n                this._stat = _context3.sent;\n\n              case 8:\n                return _context3.abrupt(\"return\", this._stat);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stat() {\n        return _stat.apply(this, arguments);\n      }\n\n      return stat;\n    }()\n  }]);\n  return LocalFile;\n}();\n\nmodule.exports = LocalFile;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _toArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toArray\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nfunction parseHeaderText(text) {\n  var lines = text.split(/\\r?\\n/);\n  var data = [];\n  (0, _forEach.default)(lines).call(lines, function (line) {\n    var _line$split = line.split(/\\t/),\n        _line$split2 = (0, _toArray2.default)(_line$split),\n        tag = _line$split2[0],\n        fields = (0, _slice.default)(_line$split2).call(_line$split2, 1);\n\n    var parsedFields = (0, _map.default)(fields).call(fields, function (f) {\n      var _f$split = f.split(':', 2),\n          _f$split2 = (0, _slicedToArray2.default)(_f$split, 2),\n          fieldTag = _f$split2[0],\n          value = _f$split2[1];\n\n      return {\n        tag: fieldTag,\n        value: value\n      };\n    });\n    if (tag) data.push({\n      tag: tag.substr(1),\n      data: parsedFields\n    });\n  });\n  return data;\n}\n\nmodule.exports = {\n  parseHeaderText: parseHeaderText\n};","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _sort = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/sort\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _reduce = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _require = require('./errors'),\n    CramUnimplementedError = _require.CramUnimplementedError,\n    CramSizeLimitError = _require.CramSizeLimitError;\n\nvar CramFile = require('./cramFile');\n\nvar IndexedCramFile =\n/*#__PURE__*/\nfunction () {\n  /**\n   *\n   * @param {object} args\n   * @param {CramFile} args.cram\n   * @param {Index-like} args.index object that supports getEntriesForRange(seqId,start,end) -> Promise[Array[index entries]]\n   * @param {number} [args.cacheSize] optional maximum number of CRAM records to cache.  default 20,000\n   * @param {number} [args.fetchSizeLimit] optional maximum number of bytes to fetch in a single getRecordsForRange call.  Default 3 MiB.\n   * @param {boolean} [args.checkSequenceMD5] - default true. if false, disables verifying the MD5\n   * checksum of the reference sequence underlying a slice. In some applications, this check can cause an inconvenient amount (many megabases) of sequences to be fetched.\n   */\n  function IndexedCramFile(args) {\n    (0, _classCallCheck2.default)(this, IndexedCramFile);\n    // { cram, index, seqFetch /* fasta, fastaIndex */ }) {\n    if (args.cram) this.cram = args.cram;else this.cram = new CramFile({\n      url: args.cramUrl,\n      path: args.cramPath,\n      filehandle: args.cramFilehandle,\n      seqFetch: args.seqFetch,\n      checkSequenceMD5: args.checkSequenceMD5,\n      cacheSize: args.cacheSize\n    });\n    if (!(this.cram instanceof CramFile)) throw new Error('invalid arguments: no cramfile');\n    this.index = args.index;\n    if (!this.index.getEntriesForRange) throw new Error('invalid arguments: not an index');\n    this.fetchSizeLimit = args.fetchSizeLimit || 3000000;\n  }\n  /**\n   *\n   * @param {number} seq numeric ID of the reference sequence\n   * @param {number} start start of the range of interest. 1-based closed coordinates.\n   * @param {number} end end of the range of interest. 1-based closed coordinates.\n   * @returns {Promise[Array[CramRecord]]}\n   */\n\n\n  (0, _createClass2.default)(IndexedCramFile, [{\n    key: \"getRecordsForRange\",\n    value: function () {\n      var _getRecordsForRange = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(seq, start, end) {\n        var _context,\n            _context2,\n            _this = this,\n            _context3,\n            _concatInstanceProper,\n            _context4;\n\n        var opts,\n            seqId,\n            slices,\n            totalSize,\n            filter,\n            sliceResults,\n            ret,\n            _context5,\n            _context6,\n            _context7,\n            readNames,\n            readIds,\n            i,\n            name,\n            id,\n            unmatedPairs,\n            matePromises,\n            _i,\n            _name,\n            mateSlices,\n            mateBlocks,\n            mateChunks,\n            _i2,\n            _mateChunks,\n            mateRecordPromises,\n            mateFeatPromises,\n            mateTotalSize,\n            _context8,\n            newMateFeats,\n            newMates,\n            _args = arguments;\n\n        return _regenerator.default.wrap(function _callee$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                opts = _args.length > 3 && _args[3] !== undefined ? _args[3] : {};\n                opts.viewAsPairs = opts.viewAsPairs || false;\n                opts.pairAcrossChr = opts.pairAcrossChr || false;\n                opts.maxInsertSize = opts.maxInsertSize || 200000;\n\n                if (!(typeof seq === 'string')) {\n                  _context9.next = 6;\n                  break;\n                }\n\n                throw new CramUnimplementedError('string sequence names not yet supported');\n\n              case 6:\n                seqId = seq;\n                _context9.next = 9;\n                return this.index.getEntriesForRange(seqId, start, end);\n\n              case 9:\n                slices = _context9.sent;\n                totalSize = (0, _reduce.default)(_context = (0, _map.default)(slices).call(slices, function (s) {\n                  return s.sliceBytes;\n                })).call(_context, function (a, b) {\n                  return a + b;\n                }, 0);\n\n                if (!(totalSize > this.fetchSizeLimit)) {\n                  _context9.next = 13;\n                  break;\n                }\n\n                throw new CramSizeLimitError((0, _concat.default)(_context2 = \"data size of \".concat(totalSize.toLocaleString(), \" bytes exceeded fetch size limit of \")).call(_context2, this.fetchSizeLimit.toLocaleString(), \" bytes\"));\n\n              case 13:\n                // TODO: do we need to merge or de-duplicate the blocks?\n                // fetch all the slices and parse the feature data\n                filter = function filter(feature) {\n                  return feature.sequenceId === seq && feature.alignmentStart <= end && feature.alignmentStart + feature.lengthOnRef - 1 >= start;\n                };\n\n                _context9.next = 16;\n                return _promise.default.all((0, _map.default)(slices).call(slices, function (slice) {\n                  return _this.getRecordsInSlice(slice, filter);\n                }));\n\n              case 16:\n                sliceResults = _context9.sent;\n                ret = (_concatInstanceProper = (0, _concat.default)(_context3 = Array.prototype)).call.apply(_concatInstanceProper, (0, _concat.default)(_context4 = [_context3]).call(_context4, (0, _toConsumableArray2.default)(sliceResults)));\n\n                if (!opts.viewAsPairs) {\n                  _context9.next = 42;\n                  break;\n                }\n\n                readNames = {};\n                readIds = {};\n\n                for (i = 0; i < ret.length; i += 1) {\n                  name = ret[i].readName;\n                  id = ret[i].uniqueId;\n                  if (!readNames[name]) readNames[name] = 0;\n                  readNames[name] += 1;\n                  readIds[id] = 1;\n                }\n\n                unmatedPairs = {};\n                (0, _forEach.default)(_context5 = (0, _entries.default)(readNames)).call(_context5, function (_ref) {\n                  var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n                      k = _ref2[0],\n                      v = _ref2[1];\n\n                  if (v === 1) unmatedPairs[k] = true;\n                });\n                matePromises = [];\n\n                for (_i = 0; _i < ret.length; _i += 1) {\n                  _name = ret[_i].readName;\n\n                  if (unmatedPairs[_name] && ret[_i].mate && (ret[_i].mate.sequenceId === seqId || opts.pairAcrossChr) && Math.abs(ret[_i].alignmentStart - ret[_i].mate.alignmentStart) < opts.maxInsertSize) {\n                    mateSlices = this.index.getEntriesForRange(ret[_i].mate.sequenceId, ret[_i].mate.alignmentStart, ret[_i].mate.alignmentStart + 1);\n                    matePromises.push(mateSlices);\n                  }\n                }\n\n                _context9.next = 28;\n                return _promise.default.all(matePromises);\n\n              case 28:\n                mateBlocks = _context9.sent;\n                mateChunks = [];\n\n                for (_i2 = 0; _i2 < mateBlocks.length; _i2 += 1) {\n                  (_mateChunks = mateChunks).push.apply(_mateChunks, (0, _toConsumableArray2.default)(mateBlocks[_i2]));\n                } // filter out duplicates\n\n\n                mateChunks = (0, _filter.default)(_context6 = (0, _sort.default)(mateChunks).call(mateChunks, function (a, b) {\n                  return a.toString().localeCompare(b.toString());\n                })).call(_context6, function (item, pos, ary) {\n                  return !pos || item.toString() !== ary[pos - 1].toString();\n                });\n                mateRecordPromises = [];\n                mateFeatPromises = [];\n                mateTotalSize = (0, _reduce.default)(_context7 = (0, _map.default)(mateChunks).call(mateChunks, function (s) {\n                  return s.sliceBytes;\n                })).call(_context7, function (a, b) {\n                  return a + b;\n                }, 0);\n\n                if (!(mateTotalSize > this.fetchSizeLimit)) {\n                  _context9.next = 37;\n                  break;\n                }\n\n                throw new Error((0, _concat.default)(_context8 = \"mate data size of \".concat(mateTotalSize.toLocaleString(), \" bytes exceeded fetch size limit of \")).call(_context8, this.fetchSizeLimit.toLocaleString(), \" bytes\"));\n\n              case 37:\n                (0, _forEach.default)(mateChunks).call(mateChunks, function (c) {\n                  var recordPromise = _this.cram.featureCache.get(c.toString());\n\n                  if (!recordPromise) {\n                    recordPromise = _this.getRecordsInSlice(c, function () {\n                      return true;\n                    });\n\n                    _this.cram.featureCache.set(c.toString(), recordPromise);\n                  }\n\n                  mateRecordPromises.push(recordPromise);\n                  var featPromise = recordPromise.then(function (feats) {\n                    var mateRecs = [];\n\n                    for (var _i3 = 0; _i3 < feats.length; _i3 += 1) {\n                      var feature = feats[_i3];\n\n                      if (unmatedPairs[feature.readName] && !readIds[feature.uniqueId]) {\n                        mateRecs.push(feature);\n                      }\n                    }\n\n                    return mateRecs;\n                  });\n                  mateFeatPromises.push(featPromise);\n                });\n                _context9.next = 40;\n                return _promise.default.all(mateFeatPromises);\n\n              case 40:\n                newMateFeats = _context9.sent;\n\n                if (newMateFeats.length) {\n                  newMates = (0, _reduce.default)(newMateFeats).call(newMateFeats, function (result, current) {\n                    return (0, _concat.default)(result).call(result, current);\n                  });\n                  ret = (0, _concat.default)(ret).call(ret, newMates);\n                }\n\n              case 42:\n                return _context9.abrupt(\"return\", ret);\n\n              case 43:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getRecordsForRange(_x, _x2, _x3) {\n        return _getRecordsForRange.apply(this, arguments);\n      }\n\n      return getRecordsForRange;\n    }()\n  }, {\n    key: \"getRecordsInSlice\",\n    value: function getRecordsInSlice(_ref3, filterFunction) {\n      var containerStart = _ref3.containerStart,\n          sliceStart = _ref3.sliceStart,\n          sliceBytes = _ref3.sliceBytes;\n      var container = this.cram.getContainerAtPosition(containerStart);\n      var slice = container.getSlice(sliceStart, sliceBytes);\n      return slice.getRecords(filterFunction);\n    }\n    /**\n     *\n     * @param {number} seqId\n     * @returns {Promise} true if the CRAM file contains data for the given\n     * reference sequence numerical ID\n     */\n\n  }, {\n    key: \"hasDataForReferenceSequence\",\n    value: function hasDataForReferenceSequence(seqId) {\n      return this.index.hasDataForReferenceSequence(seqId);\n    }\n  }]);\n  return IndexedCramFile;\n}();\n\nmodule.exports = IndexedCramFile;","module.exports = require(\"core-js-pure/stable/instance/reduce\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _sort = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/sort\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _parseInt = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/parse-int\"));\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _some = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/some\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/assign\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar AbortablePromiseCache = require('abortable-promise-cache').default;\n\nvar QuickLRU = require('quick-lru');\n\nvar _require = require('es6-promisify'),\n    promisify = _require.promisify;\n\nvar zlib = require('zlib');\n\nvar gunzip = promisify(zlib.gunzip);\n\nvar _require2 = require('./io'),\n    open = _require2.open;\n\nvar _require3 = require('./errors'),\n    CramMalformedError = _require3.CramMalformedError;\n\nvar BAI_MAGIC = 21578050; // BAI\\1\n\nvar Slice =\n/*#__PURE__*/\nfunction () {\n  function Slice(args) {\n    (0, _classCallCheck2.default)(this, Slice);\n    (0, _assign.default)(this, args);\n  }\n\n  (0, _createClass2.default)(Slice, [{\n    key: \"toString\",\n    value: function toString() {\n      var _context, _context2, _context3, _context4;\n\n      return (0, _concat.default)(_context = (0, _concat.default)(_context2 = (0, _concat.default)(_context3 = (0, _concat.default)(_context4 = \"\".concat(this.start, \":\")).call(_context4, this.span, \":\")).call(_context3, this.containerStart, \":\")).call(_context2, this.sliceStart, \":\")).call(_context, this.sliceBytes);\n    }\n  }]);\n  return Slice;\n}();\n\nfunction addRecordToIndex(index, record) {\n  if ((0, _some.default)(record).call(record, function (el) {\n    return el === undefined;\n  })) {\n    throw new CramMalformedError('invalid .crai index file');\n  }\n\n  var _record = (0, _slicedToArray2.default)(record, 6),\n      seqId = _record[0],\n      start = _record[1],\n      span = _record[2],\n      containerStart = _record[3],\n      sliceStart = _record[4],\n      sliceBytes = _record[5];\n\n  if (!index[seqId]) index[seqId] = [];\n  index[seqId].push(new Slice({\n    start: start,\n    span: span,\n    containerStart: containerStart,\n    sliceStart: sliceStart,\n    sliceBytes: sliceBytes\n  }));\n}\n\nvar CraiIndex =\n/*#__PURE__*/\nfunction () {\n  // A CRAM index (.crai) is a gzipped tab delimited file containing the following columns:\n  // 1. Sequence id\n  // 2. Alignment start\n  // 3. Alignment span\n  // 4. Container start byte position in the file\n  // 5. Slice start byte position in the container data (blocks)\n  // 6. Slice size in bytes\n  // Each line represents a slice in the CRAM file. Please note that all slices must be listed in index file.\n\n  /**\n   *\n   * @param {object} args\n   * @param {string} [args.path]\n   * @param {string} [args.url]\n   * @param {FileHandle} [args.filehandle]\n   */\n  function CraiIndex(args) {\n    var _this = this,\n        _context5;\n\n    (0, _classCallCheck2.default)(this, CraiIndex);\n    var filehandle = open(args.url, args.path, args.filehandle);\n    this._parseCache = new AbortablePromiseCache({\n      cache: new QuickLRU({\n        maxSize: 1\n      }),\n      fill: function fill(data, signal) {\n        return _this.parseIndex({\n          signal: signal\n        });\n      }\n    });\n    this.readFile = (0, _bind.default)(_context5 = filehandle.readFile).call(_context5, filehandle);\n  }\n\n  (0, _createClass2.default)(CraiIndex, [{\n    key: \"parseIndex\",\n    value: function parseIndex() {\n      var index = {};\n      return this.readFile().then(function (data) {\n        if (data[0] === 31 && data[1] === 139) return gunzip(data);\n        return data;\n      }).then(function (uncompressedBuffer) {\n        var _context6;\n\n        if (uncompressedBuffer.length > 4 && uncompressedBuffer.readUInt32LE(0) === BAI_MAGIC) {\n          throw new CramMalformedError('invalid .crai index file. note: file appears to be a .bai index. this is technically legal but please open a github issue if you need support');\n        } // interpret the text as regular ascii, since it is\n        // supposed to be only digits and whitespace characters\n        // this is written in a deliberately low-level fashion for performance,\n        // because some .crai files can be pretty large.\n\n\n        var currentRecord = [];\n        var currentString = '';\n\n        for (var i = 0; i < uncompressedBuffer.length; i += 1) {\n          var charCode = uncompressedBuffer[i];\n\n          if (charCode >= 48 && charCode <= 57 ||\n          /* 0-9 */\n          !currentString && charCode === 45\n          /* leading - */\n          ) {\n              currentString += String.fromCharCode(charCode);\n            } else if (charCode === 9\n          /* \\t */\n          ) {\n              currentRecord.push((0, _parseInt.default)(currentString, 10));\n              currentString = '';\n            } else if (charCode === 10\n          /* \\n */\n          ) {\n              currentRecord.push((0, _parseInt.default)(currentString, 10));\n              currentString = '';\n              addRecordToIndex(index, currentRecord);\n              currentRecord = [];\n            } else if (charCode !== 13\n          /* \\r */\n          && charCode !== 32\n          /* space */\n          ) {\n              // if there are other characters in the file besides\n              // space and \\r, something is wrong.\n              throw new CramMalformedError('invalid .crai index file');\n            }\n        } // if the file ends without a \\n, we need to flush our buffers\n\n\n        if (currentString) {\n          currentRecord.push((0, _parseInt.default)(currentString, 10));\n        }\n\n        if (currentRecord.length === 6) {\n          addRecordToIndex(index, currentRecord);\n        } // sort each of them by start\n\n\n        (0, _forEach.default)(_context6 = (0, _entries.default)(index)).call(_context6, function (_ref) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              seqId = _ref2[0],\n              ent = _ref2[1];\n\n          index[seqId] = (0, _sort.default)(ent).call(ent, function (a, b) {\n            return a.start - b.start || a.span - b.span;\n          });\n        });\n        return index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this._parseCache.get('index', null, opts.signal);\n    }\n    /**\n     * @param {number} seqId\n     * @returns {Promise} true if the index contains entries for\n     * the given reference sequence ID, false otherwise\n     */\n\n  }, {\n    key: \"hasDataForReferenceSequence\",\n    value: function () {\n      var _hasDataForReferenceSequence = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(seqId) {\n        return _regenerator.default.wrap(function _callee$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.getIndex();\n\n              case 2:\n                _context7.t0 = seqId;\n                return _context7.abrupt(\"return\", !!_context7.sent[_context7.t0]);\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function hasDataForReferenceSequence(_x) {\n        return _hasDataForReferenceSequence.apply(this, arguments);\n      }\n\n      return hasDataForReferenceSequence;\n    }()\n    /**\n     * fetch index entries for the given range\n     *\n     * @param {number} seqId\n     * @param {number} queryStart\n     * @param {number} queryEnd\n     *\n     * @returns {Promise} promise for\n     * an array of objects of the form\n     * `{start, span, containerStart, sliceStart, sliceBytes }`\n     */\n\n  }, {\n    key: \"getEntriesForRange\",\n    value: function () {\n      var _getEntriesForRange = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2(seqId, queryStart, queryEnd) {\n        var seqEntries, compare, bins, i;\n        return _regenerator.default.wrap(function _callee2$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.getIndex();\n\n              case 2:\n                _context8.t0 = seqId;\n                seqEntries = _context8.sent[_context8.t0];\n\n                if (seqEntries) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", []);\n\n              case 6:\n                compare = function compare(entry) {\n                  var entryStart = entry.start;\n                  var entryEnd = entry.start + entry.span;\n                  if (entryStart >= queryEnd) return -1; // entry is ahead of query\n\n                  if (entryEnd <= queryStart) return 1; // entry is behind query\n\n                  return 0; // entry overlaps query\n                };\n\n                bins = [];\n\n                for (i = 0; i < seqEntries.length; i += 1) {\n                  if (compare(seqEntries[i]) === 0) {\n                    bins.push(seqEntries[i]);\n                  }\n                }\n\n                return _context8.abrupt(\"return\", bins);\n\n              case 10:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getEntriesForRange(_x2, _x3, _x4) {\n        return _getEntriesForRange.apply(this, arguments);\n      }\n\n      return getEntriesForRange;\n    }()\n  }]);\n  return CraiIndex;\n}();\n\nmodule.exports = CraiIndex;","module.exports = require(\"core-js-pure/stable/instance/bind\");","module.exports = require(\"core-js-pure/stable/instance/some\");","var parent = require('../../es/instance/some');\n\nmodule.exports = parent;\n","var some = require('../array/virtual/some');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.some;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.some) ? some : own;\n};\n","require('../../../modules/es.array.some');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').some;\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AbortablePromiseCache_1 = __importDefault(require(\"./AbortablePromiseCache\"));\nexports.default = AbortablePromiseCache_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nvar AggregateAbortController_1 = __importDefault(require(\"./AggregateAbortController\"));\nvar AbortablePromiseCache = /** @class */ (function () {\n    function AbortablePromiseCache(_a) {\n        var fill = _a.fill, cache = _a.cache;\n        if (typeof fill !== 'function')\n            throw new TypeError('must pass a fill function');\n        if (typeof cache !== 'object')\n            throw new TypeError('must pass a cache object');\n        if (typeof cache.get !== 'function' ||\n            typeof cache.set !== 'function' ||\n            typeof cache.delete !== 'function')\n            throw new TypeError('cache must implement get(key), set(key, val), and and delete(key)');\n        this.cache = cache;\n        this.fillCallback = fill;\n    }\n    AbortablePromiseCache.isAbortException = function (exception) {\n        return (\n        // DOMException\n        exception.name === 'AbortError' ||\n            // standard-ish non-DOM abort exception\n            //@ts-ignore\n            exception.code === 'ERR_ABORTED' ||\n            // stringified DOMException\n            exception.message === 'AbortError: aborted' ||\n            // stringified standard-ish exception\n            exception.message === 'Error: aborted');\n    };\n    AbortablePromiseCache.prototype.evict = function (key, entry) {\n        if (this.cache.get(key) === entry)\n            this.cache.delete(key);\n    };\n    AbortablePromiseCache.prototype.fill = function (key, data, signal) {\n        var _this = this;\n        var aborter = new AggregateAbortController_1.default();\n        var newEntry = {\n            aborter: aborter,\n            promise: this.fillCallback(data, aborter.signal),\n            settled: false,\n            get aborted() {\n                return this.aborter.signal.aborted;\n            },\n        };\n        newEntry.aborter.addSignal(signal);\n        // remove the fill from the cache when its abortcontroller fires, if still in there\n        newEntry.aborter.signal.addEventListener('abort', function () {\n            _this.evict(key, newEntry);\n        });\n        // chain off the cached promise to record when it settles\n        newEntry.promise\n            .then(function () {\n            newEntry.settled = true;\n        }, function (exception) {\n            newEntry.settled = true;\n            // if the fill throws an error (including abort) and is still in the cache, remove it\n            _this.evict(key, newEntry);\n        })\n            .catch(function (e) {\n            // this will only be reached if there is some kind of\n            // bad bug in this library\n            console.error(e);\n            throw e;\n        });\n        this.cache.set(key, newEntry);\n    };\n    AbortablePromiseCache.checkSinglePromise = function (promise, signal) {\n        // check just this signal for having been aborted, and abort the\n        // promise if it was, regardless of what happened with the cached\n        // response\n        function checkForSingleAbort() {\n            if (signal && signal.aborted)\n                throw Object.assign(new Error('aborted'), { code: 'ERR_ABORTED' });\n        }\n        return promise.then(function (result) {\n            checkForSingleAbort();\n            return result;\n        }, function (error) {\n            checkForSingleAbort();\n            throw error;\n        });\n    };\n    AbortablePromiseCache.prototype.has = function (key) {\n        return this.cache.has(key);\n    };\n    /**\n     * @param {any} key cache key to use for this request\n     * @param {any} data data passed as the first argument to the fill callback\n     * @param {AbortSignal} [signal] optional AbortSignal object that aborts the request\n     */\n    AbortablePromiseCache.prototype.get = function (key, data, signal) {\n        if (!signal && data instanceof abortcontroller_ponyfill_1.AbortSignal)\n            throw new TypeError('second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?');\n        var cacheEntry = this.cache.get(key);\n        if (cacheEntry) {\n            if (cacheEntry.aborted) {\n                // if it's aborted but has not realized it yet, evict it and redispatch\n                this.evict(key, cacheEntry);\n                return this.get(key, data, signal);\n            }\n            if (cacheEntry.settled)\n                // too late to abort, just return it\n                return cacheEntry.promise;\n            // request is in-flight, add this signal to its list of signals,\n            // or if there is no signal, the aborter will become non-abortable\n            cacheEntry.aborter.addSignal(signal);\n            return AbortablePromiseCache.checkSinglePromise(cacheEntry.promise, signal);\n        }\n        // if we got here, it is not in the cache. fill.\n        this.fill(key, data, signal);\n        return AbortablePromiseCache.checkSinglePromise(this.cache.get(key).promise, signal);\n    };\n    /**\n     * delete the given entry from the cache. if it exists and its fill request has\n     * not yet settled, the fill will be signaled to abort.\n     *\n     * @param {any} key\n     */\n    AbortablePromiseCache.prototype.delete = function (key) {\n        var cachedEntry = this.cache.get(key);\n        if (cachedEntry) {\n            if (!cachedEntry.settled)\n                cachedEntry.aborter.abort();\n            this.cache.delete(key);\n        }\n    };\n    /**\n     * Clear all requests from the cache. Aborts any that have not settled.\n     * @returns {number} count of entries deleted\n     */\n    AbortablePromiseCache.prototype.clear = function () {\n        // iterate without needing regenerator-runtime\n        var keyIter = this.cache.keys();\n        var deleteCount = 0;\n        for (var result = keyIter.next(); !result.done; result = keyIter.next()) {\n            this.delete(result.value);\n            deleteCount += 1;\n        }\n        return deleteCount;\n    };\n    return AbortablePromiseCache;\n}());\nexports.default = AbortablePromiseCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nvar NullSignal = /** @class */ (function () {\n    function NullSignal() {\n    }\n    return NullSignal;\n}());\n/**\n * aggregates a number of abort signals, will only fire the aggregated\n * abort if all of the input signals have been aborted\n */\nvar AggregateAbortController = /** @class */ (function () {\n    function AggregateAbortController() {\n        this.signals = new Set();\n        this.abortController = new abortcontroller_ponyfill_1.AbortController();\n    }\n    /**\n     * @param {AbortSignal} [signal] optional AbortSignal to add. if falsy,\n     *  will be treated as a null-signal, and this abortcontroller will no\n     *  longer be abortable.\n     */\n    //@ts-ignore\n    AggregateAbortController.prototype.addSignal = function (signal) {\n        var _this = this;\n        if (signal === void 0) { signal = new NullSignal(); }\n        if (this.signal.aborted) {\n            throw new Error('cannot add a signal, already aborted!');\n        }\n        // note that a NullSignal will never fire, so if we\n        // have one this thing will never actually abort\n        this.signals.add(signal);\n        if (signal.aborted) {\n            // handle the abort immediately if it is already aborted\n            // for some reason\n            this.handleAborted(signal);\n        }\n        else if (typeof signal.addEventListener === 'function') {\n            signal.addEventListener('abort', function () {\n                _this.handleAborted(signal);\n            });\n        }\n    };\n    AggregateAbortController.prototype.handleAborted = function (signal) {\n        this.signals.delete(signal);\n        if (this.signals.size === 0) {\n            this.abortController.abort();\n        }\n    };\n    Object.defineProperty(AggregateAbortController.prototype, \"signal\", {\n        get: function () {\n            return this.abortController.signal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AggregateAbortController.prototype.abort = function () {\n        this.abortController.abort();\n    };\n    return AggregateAbortController;\n}());\nexports.default = AggregateAbortController;\n","var IS_PURE = require('../internals/is-pure');\nvar getIterator = require('../internals/get-iterator');\n\nmodule.exports = IS_PURE ? getIterator : function (it) {\n  // eslint-disable-next-line no-undef\n  return Map.prototype.entries.call(it);\n};\n","var _Object$getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _Object$setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","module.exports = require(\"regenerator-runtime\");\n","var _Promise = require(\"../core-js/promise\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var _Object$create = require(\"../core-js/object/create\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","module.exports = require(\"core-js-pure/stable/instance/concat\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _require = require('../../errors'),\n    CramBufferOverrunError = _require.CramBufferOverrunError;\n\nvar validDataTypes = {\n  int: true,\n  byte: true,\n  long: true,\n  byteArray: true,\n  byteArrayBlock: true\n}; // codec base class\n\nvar CramCodec =\n/*#__PURE__*/\nfunction () {\n  function CramCodec() {\n    var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var dataType = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2.default)(this, CramCodec);\n    this.parameters = parameters;\n    this.dataType = dataType;\n    if (!dataType) throw new TypeError('must provide a data type to codec constructor');\n    if (!validDataTypes[dataType]) throw new TypeError(\"invalid data type \".concat(dataType));\n  } // decode(slice, coreDataBlock, blocksByContentId, cursors) {\n  // }\n\n\n  (0, _createClass2.default)(CramCodec, [{\n    key: \"_getBits\",\n    value: function _getBits(data, cursor, numBits) {\n      var val = 0;\n      if (cursor.bytePosition + (7 - cursor.bitPosition + numBits) / 8 > data.length) throw new CramBufferOverrunError('read error during decoding. the file seems to be truncated.');\n\n      for (var dlen = numBits; dlen; dlen -= 1) {\n        // get the next `dlen` bits in the input, put them in val\n        val <<= 1;\n        val |= data[cursor.bytePosition] >> cursor.bitPosition & 1;\n        cursor.bitPosition -= 1;\n        if (cursor.bitPosition < 0) cursor.bytePosition += 1;\n        cursor.bitPosition &= 7;\n      }\n\n      return val;\n    }\n  }]);\n  return CramCodec;\n}();\n\nmodule.exports = CramCodec;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar md5 = require('md5');\n\nvar _require = require('../errors'),\n    CramBufferOverrunError = _require.CramBufferOverrunError;\n\nmodule.exports = {\n  itf8Size: function itf8Size(v) {\n    if (!(v & ~0x7f)) return 1;\n    if (!(v & ~0x3fff)) return 2;\n    if (!(v & ~0x1fffff)) return 3;\n    if (!(v & ~0xfffffff)) return 4;\n    return 5;\n  },\n  parseItf8: function parseItf8(buffer, initialOffset) {\n    var offset = initialOffset;\n    var countFlags = buffer[offset];\n    var result;\n\n    if (countFlags < 0x80) {\n      result = countFlags;\n      offset += 1;\n    } else if (countFlags < 0xc0) {\n      result = (countFlags << 8 | buffer[offset + 1]) & 0x3fff;\n      offset += 2;\n    } else if (countFlags < 0xe0) {\n      result = (countFlags << 16 | buffer[offset + 1] << 8 | buffer[offset + 2]) & 0x1fffff;\n      offset += 3;\n    } else if (countFlags < 0xf0) {\n      result = (countFlags << 24 | buffer[offset + 1] << 16 | buffer[offset + 2] << 8 | buffer[offset + 3]) & 0x0fffffff;\n      offset += 4;\n    } else {\n      result = (countFlags & 0x0f) << 28 | buffer[offset + 1] << 20 | buffer[offset + 2] << 12 | buffer[offset + 3] << 4 | buffer[offset + 4] & 0x0f; // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n\n      offset += 5;\n    }\n\n    if (offset > buffer.length) {\n      throw new CramBufferOverrunError('Attempted to read beyond end of buffer; this file seems truncated.');\n    }\n\n    return [result, offset - initialOffset];\n  },\n  // parseLtf8(buffer, initialOffset) {\n  //   let offset = initialOffset\n  //   const countFlags = buffer[offset]\n  //   let result\n  //   if (countFlags < 0x80) {\n  //     result = countFlags\n  //     offset += 1\n  //   } else if (countFlags < 0xc0) {\n  //     result = ((buffer[offset] << 8) | buffer[offset + 1]) & 0x3fff\n  //     offset += 2\n  //   } else if (countFlags < 0xe0) {\n  //     result =\n  //       ((buffer[offset] << 16) |\n  //         (buffer[offset + 1] << 8) |\n  //         buffer[offset + 2]) &\n  //       0x1fffff\n  //     offset += 3\n  //   } else if (countFlags < 0xf0) {\n  //     result =\n  //       ((buffer[offset] << 24) |\n  //         (buffer[offset + 1] << 16) |\n  //         (buffer[offset + 2] << 8) |\n  //         buffer[offset + 3]) &\n  //       0x0fffffff\n  //     offset += 4\n  //   } else if (countFlags < 0xf8) {\n  //     result =\n  //       ((buffer[offset] & 15) * Math.pow(2,32) + (buffer[offset + 1] << 24)) |\n  //       ((buffer[offset + 2] << 16) |\n  //         (buffer[offset + 3] << 8) |\n  //         buffer[offset + 4])\n  //     // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n  //     offset += 5\n  //   } else if (countFlags < 0xfc) {\n  //     result =\n  //       ((((buffer[offset] & 7) << 8) | buffer[offset + 1]) * Math.pow(2,32) +\n  //         (buffer[offset + 2] << 24)) |\n  //       ((buffer[offset + 3] << 16) |\n  //         (buffer[offset + 4] << 8) |\n  //         buffer[offset + 5])\n  //     offset += 6\n  //   } else if (countFlags < 0xfe) {\n  //     result =\n  //       ((((buffer[offset] & 3) << 16) |\n  //         (buffer[offset + 1] << 8) |\n  //         buffer[offset + 2]) *\n  //         Math.pow(2,32) +\n  //         (buffer[offset + 3] << 24)) |\n  //       ((buffer[offset + 4] << 16) |\n  //         (buffer[offset + 5] << 8) |\n  //         buffer[offset + 6])\n  //     offset += 7\n  //   } else if (countFlags < 0xff) {\n  //     result = Long.fromBytesBE(buffer.slice(offset + 1, offset + 8))\n  //     if (\n  //       result.greaterThan(Number.MAX_SAFE_INTEGER) ||\n  //       result.lessThan(Number.MIN_SAFE_INTEGER)\n  //     )\n  //       throw new CramUnimplementedError('integer overflow')\n  //     result = result.toNumber()\n  //     offset += 8\n  //   } else {\n  //     result = Long.fromBytesBE(buffer.slice(offset + 1, offset + 9))\n  //     if (\n  //       result.greaterThan(Number.MAX_SAFE_INTEGER) ||\n  //       result.lessThan(Number.MIN_SAFE_INTEGER)\n  //     )\n  //       throw new CramUnimplementedError('integer overflow')\n  //     result = result.toNumber()\n  //     offset += 9\n  //   }\n  //   return [result, offset - initialOffset]\n  // },\n  parseItem: function parseItem(buffer, parser) {\n    var startBufferPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var startFilePosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    var _parser$parse = parser.parse(buffer),\n        offset = _parser$parse.offset,\n        result = _parser$parse.result;\n\n    result._endPosition = offset + startFilePosition;\n    result._size = offset - startBufferPosition;\n    return result;\n  },\n  // this would be nice as a decorator, but i'm a little worried about\n  // babel support for it going away or changing.\n  // memoizes a method in the stupidest possible way, with no regard for the\n  // arguments.  actually, this only works on methods that take no arguments\n  tinyMemoize: function tinyMemoize(_class, methodName) {\n    var method = _class.prototype[methodName];\n    var memoAttrName = \"_memo_\".concat(methodName);\n\n    _class.prototype[methodName] = function _tinyMemoized() {\n      var _this = this;\n\n      if (!(memoAttrName in this)) {\n        var res = method.call(this);\n        this[memoAttrName] = res;\n\n        _promise.default.resolve(res).catch(function () {\n          delete _this[memoAttrName];\n        });\n      }\n\n      return this[memoAttrName];\n    };\n  },\n  sequenceMD5: function sequenceMD5(seq) {\n    return md5(seq.toUpperCase().replace(/[^\\x21-\\x7e]/g, ''));\n  }\n};","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _require = require('../errors'),\n    CramMalformedError = _require.CramMalformedError;\n\nvar Constants = require('./constants');\n\nvar FC = // int F, C;\nfunction FC() {\n  (0, _classCallCheck2.default)(this, FC);\n  this.F = undefined;\n  this.C = undefined;\n};\n\nvar AriDecoder = // final FC[] fc = new FC[256];\n// byte[] R;\nfunction AriDecoder() {\n  (0, _classCallCheck2.default)(this, AriDecoder);\n  this.fc = new Array(256);\n\n  for (var i = 0; i < this.fc.length; i += 1) {\n    this.fc[i] = new FC();\n  }\n\n  this.R = null;\n};\n\nvar _Symbol = // int start; // Start of range.\n// int freq; // Symbol frequency.\nfunction _Symbol() {\n  (0, _classCallCheck2.default)(this, _Symbol);\n  this.start = undefined;\n  this.freq = undefined;\n}; // Initialize a decoder symbol to start \"start\" and frequency \"freq\"\n\n\nfunction symbolInit(sym, start, freq) {\n  if (!(start <= 1 << 16)) throw new CramMalformedError(\"assertion failed: start <= 1<<16\");\n  if (!(freq <= (1 << 16) - start)) throw new CramMalformedError(\"assertion failed: freq <= 1<<16\");\n  sym.start = start;\n  sym.freq = freq;\n} // Advances in the bit stream by \"popping\" a single symbol with range start\n// \"start\" and frequency \"freq\". All frequencies are assumed to sum to\n// \"1 << scaleBits\".\n// No renormalization or output happens.\n\n/* private static int */\n\n\nfunction advanceStep(\n/* final int */\nr,\n/* final int */\nstart,\n/* final int */\nfreq,\n/* final int */\nscaleBits) {\n  /* final int */\n  var mask = (1 << scaleBits) - 1; // s, x = D(x)\n\n  return freq * (r >> scaleBits) + (r & mask) - start;\n} // Equivalent to RansDecAdvanceStep that takes a symbol.\n\n/* static int  */\n\n\nfunction advanceSymbolStep(\n/* final int */\nr,\n/* final RansDecSymbol */\nsym,\n/* final int */\nscaleBits) {\n  return advanceStep(r, sym.start, sym.freq, scaleBits);\n} // Returns the current cumulative frequency (map it to a symbol yourself!)\n\n/* static int */\n\n\nfunction get(\n/* final int */\nr,\n/* final int */\nscaleBits) {\n  return r & (1 << scaleBits) - 1;\n} // Advances in the bit stream by \"popping\" a single symbol with range start\n// \"start\" and frequency \"freq\". All frequencies are assumed to sum to\n// \"1 << scaleBits\",\n// and the resulting bytes get written to ptr (which is updated).\n\n/* private static int */\n\n\nfunction advance(\n/* int */\nr,\n/* final ByteBuffer */\npptr,\n/* final int */\nstart,\n/* final int */\nfreq,\n/* final int */\nscaleBits) {\n  /* final int */\n  var mask = (1 << scaleBits) - 1; // s, x = D(x)\n\n  r = freq * (r >> scaleBits) + (r & mask) - start; // re-normalize\n\n  if (r < Constants.RANS_BYTE_L) {\n    do {\n      /* final int */\n      var b = 0xff & pptr.get();\n      r = r << 8 | b;\n    } while (r < Constants.RANS_BYTE_L);\n  }\n\n  return r;\n} // Equivalent to RansDecAdvance that takes a symbol.\n\n/*  static int */\n\n\nfunction advanceSymbol(\n/* final int */\nr,\n/* final ByteBuffer */\npptr,\n/* final RansDecSymbol */\nsym,\n/* final int */\nscaleBits) {\n  return advance(r, pptr, sym.start, sym.freq, scaleBits);\n} // Re-normalize.\n\n/*  static int */\n\n\nfunction renormalize(\n/* int */\nr,\n/* final ByteBuffer */\npptr) {\n  // re-normalize\n  if (r < Constants.RANS_BYTE_L) {\n    do {\n      r = r << 8 | 0xff & pptr.get();\n    } while (r < Constants.RANS_BYTE_L);\n  }\n\n  return r;\n}\n\nvar Decode = {\n  FC: FC,\n  AriDecoder: AriDecoder,\n  Symbol: _Symbol,\n  symbolInit: symbolInit,\n  advanceStep: advanceStep,\n  advanceSymbolStep: advanceSymbolStep,\n  get: get,\n  advanceSymbol: advanceSymbol,\n  renormalize: renormalize\n};\nmodule.exports = Decode;","\"use strict\";\n\nvar TF_SHIFT = 12;\nvar TOTFREQ = 1 << TF_SHIFT;\nvar RANS_BYTE_L = 1 << 23;\nmodule.exports = {\n  TF_SHIFT: TF_SHIFT,\n  TOTFREQ: TOTFREQ,\n  RANS_BYTE_L: RANS_BYTE_L\n};","module.exports = require(\"core-js-pure/stable/object/assign\");","module.exports = require(\"core-js-pure/stable/promise\");","module.exports = require(\"core-js-pure/stable/instance/map\");","module.exports = require(\"core-js-pure/features/symbol\");","var _Object$setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","module.exports = require(\"core-js-pure/stable/instance/fill\");","module.exports = require(\"core-js-pure/stable/object/keys\");","module.exports = require(\"core-js-pure/stable/instance/flags\");","var _Array$from = require(\"../core-js/array/from\");\n\nvar _sliceInstanceProperty = require(\"../core-js/instance/slice\");\n\nvar arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context;\n\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context = Object.prototype.toString.call(o)).call(_context, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","\"use strict\";\n\nmodule.exports = {\n  CRAM_FLAG_PRESERVE_QUAL_SCORES: 1 << 0,\n  CRAM_FLAG_DETACHED: 1 << 1,\n  CRAM_FLAG_MATE_DOWNSTREAM: 1 << 2,\n  CRAM_FLAG_NO_SEQ: 1 << 3,\n  CRAM_FLAG_MASK: (1 << 4) - 1,\n  // mate read is reversed\n  CRAM_M_REVERSE: 1,\n  // mated read is unmapped\n  CRAM_M_UNMAP: 2,\n  //  the read is paired in sequencing, no matter whether it is mapped in a pair\n  BAM_FPAIRED: 1,\n  //  the read is mapped in a proper pair\n  BAM_FPROPER_PAIR: 2,\n  //  the read itself is unmapped; conflictive with BAM_FPROPER_PAIR\n  BAM_FUNMAP: 4,\n  //  the mate is unmapped\n  BAM_FMUNMAP: 8,\n  //  the read is mapped to the reverse strand\n  BAM_FREVERSE: 16,\n  //  the mate is mapped to the reverse strand\n  BAM_FMREVERSE: 32,\n  //  this is read1\n  BAM_FREAD1: 64,\n  //  this is read2\n  BAM_FREAD2: 128,\n  //  not primary alignment\n  BAM_FSECONDARY: 256,\n  //  QC failure\n  BAM_FQCFAIL: 512,\n  //  optical or PCR duplicate\n  BAM_FDUP: 1024,\n  //  supplementary alignment\n  BAM_FSUPPLEMENTARY: 2048,\n  BAM_CMATCH: 0,\n  BAM_CINS: 1,\n  BAM_CDEL: 2,\n  BAM_CREF_SKIP: 3,\n  BAM_CSOFT_CLIP: 4,\n  BAM_CHARD_CLIP: 5,\n  BAM_CPAD: 6,\n  BAM_CEQUAL: 7,\n  BAM_CDIFF: 8,\n  BAM_CBACK: 9,\n  BAM_CIGAR_STR: 'MIDNSHP:XB',\n  BAM_CIGAR_SHIFT: 4,\n  BAM_CIGAR_MASK: 0xf,\n  BAM_CIGAR_TYPE: 0x3c1a7\n};","module.exports = require(\"core-js-pure/stable/instance/slice\");","module.exports = require(\"core-js-pure/stable/object/entries\");","module.exports = require(\"core-js-pure/stable/instance/sort\");"],"sourceRoot":""}